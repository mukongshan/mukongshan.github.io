<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 8.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous" defer></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"kongshan.me","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.26.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"gitalk":{"enable":true,"github_id":"mukongshan","repo":"mukongshan.github.io","client_id":"Ov23lifObx8GLwJlVsh3","client_secret":"ebc5f2cd8493752a92129fa16b4bf1635308b0d6","admin_user":"mukongshan","distraction_free_mode":true,"language":"zh-CN"}},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="第零章 · 计算机网络及其参考模型名词解释 LAN（局域网，Local Area Networks） WLAN（无线局域网， Wireless Local Area Networks) WAN（广域网，Wide Area Networks） NAP（网络接入点，network access point） ISP  (互联网服务提供商，Internet Service Provider) Modem">
<meta property="og:type" content="article">
<meta property="og:title" content="互联网计算">
<meta property="og:url" content="https://kongshan.me/2024/12/04/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/index.html">
<meta property="og:site_name" content="kongshan&#39;s blog">
<meta property="og:description" content="第零章 · 计算机网络及其参考模型名词解释 LAN（局域网，Local Area Networks） WLAN（无线局域网， Wireless Local Area Networks) WAN（广域网，Wide Area Networks） NAP（网络接入点，network access point） ISP  (互联网服务提供商，Internet Service Provider) Modem">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241211171801260.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241211171842572.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241211171856668.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241211171941111.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241211172112011.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241211172556233.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241111162549494.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241111163851827.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241111163946171.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241111164231814.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241111172358408.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241115111431299.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241115112910520.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241115113525029.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241115114157641.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241122103126108.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241122103959939.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241122105510210.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241122115929627.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125163103685.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125163325803.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125164918106.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125170149909.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125170529753.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125170615658.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125170711415.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125170752508.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125170942701.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125171431223.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125171736811.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125173124621.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241128163353972.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241128164612339.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/23.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/26.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/29.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/30.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/31.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/28.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/32.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/33.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/34.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/35.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/36.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241129133557313.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241129133734398.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241129134410294.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241129134619425.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/13.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/37.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/38.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/14.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/25.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/26.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/30.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/36.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241130110327699.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/6.jpg">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/8.jpg">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/9.jpg">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241130152243250.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/10.jpg">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/12.jpg">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/13.jpg">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/14.jpg">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/15.jpg">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/16.jpg">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/17.jpg">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/20.jpg">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/21.jpg">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/22.jpg">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/23.jpg">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/24.jpg">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/2.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/3.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/4.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/6.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/7.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/8.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/10.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/11.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/12.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/13.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/14.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/15.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230105100005103.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230219114452931.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230219114622137.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230219114654717.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230219115536883.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20220926111356968.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230120122932471.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230127091637566.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230127100713106.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230127153450640.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230127153511503.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230127153918560.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230127154121003.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230129141037973.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20221103103012579.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20221103103041829.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20221103103131647.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20221103103729224.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20221103103808686.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20221103105733830.png">
<meta property="og:image" content="c:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20221103112339199.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec05/28.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125163103685.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125163325803.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241213104901790.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241223152723312.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241223152748588.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241111172358408.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec05/23.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/10.jpg">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20250101172916567.png">
<meta property="og:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241209214836387.png">
<meta property="article:published_time" content="2024-12-04T04:00:00.000Z">
<meta property="article:modified_time" content="2025-12-03T09:27:23.177Z">
<meta property="article:author" content="mukongshan">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="c:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241211171801260.png">


<link rel="canonical" href="https://kongshan.me/2024/12/04/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://kongshan.me/2024/12/04/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/","path":"2024/12/04/互联网计算/","title":"互联网计算"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>互联网计算 | kongshan's blog</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.5.0/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>





  <script src="/js/third-party/pace.js" defer></script>


  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">kongshan's blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-blog"><a href="/blog/" rel="section"><i class="fa fa-book-open fa-fw"></i>博客</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E9%9B%B6%E7%AB%A0-%C2%B7-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8F%8A%E5%85%B6%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B"><span class="nav-number">1.</span> <span class="nav-text">第零章 · 计算机网络及其参考模型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A"><span class="nav-number">1.1.</span> <span class="nav-text">名词解释</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%92%E8%81%94%E7%BD%91%E5%8F%91%E5%B1%95%E7%9A%84%E4%B8%89%E4%B8%AA%E9%98%B6%E6%AE%B5"><span class="nav-number">1.2.</span> <span class="nav-text">互联网发展的三个阶段</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8EISP%E7%9A%84%E4%B8%89%E5%B1%82%E7%BB%93%E6%9E%84"><span class="nav-number">1.3.</span> <span class="nav-text">基于ISP的三层结构 ***</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OSI%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%B8%83%E4%B8%AA%E5%B1%82%E6%AC%A1"><span class="nav-number">1.4.</span> <span class="nav-text">OSI模型的七个层次 ***</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OSI%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-number">1.5.</span> <span class="nav-text">OSI模型的作用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LAN%EF%BC%88%E5%B1%80%E5%9F%9F%E7%BD%91%EF%BC%89-WAN%EF%BC%88%E5%B9%BF%E5%9F%9F%E7%BD%91%EF%BC%89"><span class="nav-number">1.6.</span> <span class="nav-text">LAN（局域网）&#x2F; WAN（广域网）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LAN-Device"><span class="nav-number">1.7.</span> <span class="nav-text">LAN Device</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Data-Packets"><span class="nav-number">1.8.</span> <span class="nav-text">Data Packets</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bandwidth-Throughput"><span class="nav-number">1.9.</span> <span class="nav-text">Bandwidth &amp; Throughput</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E4%B8%AA%E5%8A%9F%E8%83%BD%E7%9A%84%E6%A0%87%E5%87%86%E5%8C%96%E8%BF%87%E7%A8%8B"><span class="nav-number">1.10.</span> <span class="nav-text">一个功能的标准化过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TCP-IP%E6%A8%A1%E5%9E%8B"><span class="nav-number">1.11.</span> <span class="nav-text">TCP&#x2F;IP模型 ***</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8B%93%E6%89%91%E7%BB%93%E6%9E%84"><span class="nav-number">1.12.</span> <span class="nav-text">拓扑结构 ***</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%88%E7%AB%AF%E8%AE%BE%E5%A4%87"><span class="nav-number">1.13.</span> <span class="nav-text">终端设备 ***</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E5%B1%82"><span class="nav-number">1.13.1.</span> <span class="nav-text">第一层</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E5%B1%82"><span class="nav-number">1.13.2.</span> <span class="nav-text">第二层</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E5%B1%82"><span class="nav-number">1.13.3.</span> <span class="nav-text">第三层</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%C2%B7-%E7%89%A9%E7%90%86%E5%B1%82"><span class="nav-number">2.</span> <span class="nav-text">第一章 · 物理层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A-1"><span class="nav-number">2.1.</span> <span class="nav-text">名词解释</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Type-of-Network"><span class="nav-number">2.2.</span> <span class="nav-text">Type of Network</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LAN-Media"><span class="nav-number">2.3.</span> <span class="nav-text">LAN Media</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%89%E7%BA%BF%E4%BC%A0%E8%BE%93"><span class="nav-number">2.3.1.</span> <span class="nav-text">有线传输</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A0%E7%BA%BF%E4%BC%A0%E8%BE%93"><span class="nav-number">2.3.2.</span> <span class="nav-text">无线传输</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Category-of-UTP"><span class="nav-number">2.4.</span> <span class="nav-text">Category of UTP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Catrgory-og-Cable"><span class="nav-number">2.5.</span> <span class="nav-text">Catrgory og Cable</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%A1%E5%8F%B7%E4%BC%A0%E8%BE%93%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">2.6.</span> <span class="nav-text">信号传输的问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93"><span class="nav-number">2.7.</span> <span class="nav-text">数据传输</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%9C%AF%E8%AF%AD"><span class="nav-number">2.7.1.</span> <span class="nav-text">基本术语</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80"><span class="nav-number">2.7.2.</span> <span class="nav-text">理论基础</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%96%E7%A0%81%EF%BC%88encoding%EF%BC%89"><span class="nav-number">2.8.</span> <span class="nav-text">编码（encoding）***</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8"><span class="nav-number">2.9.</span> <span class="nav-text">多路复用</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%C2%B7-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="nav-number">3.</span> <span class="nav-text">第二章 · 数据链路层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A6%82%E8%BF%B0"><span class="nav-number">3.1.</span> <span class="nav-text">概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="nav-number">3.1.1.</span> <span class="nav-text">第二层提供的服务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MAC%EF%BC%88%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%EF%BC%89%E7%9A%84%E6%A0%87%E5%87%86"><span class="nav-number">3.1.2.</span> <span class="nav-text">MAC（介质访问控制）的标准</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.1.2.1.</span> <span class="nav-text">类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E7%B1%BB"><span class="nav-number">3.1.2.2.</span> <span class="nav-text">分类</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%80%E5%9F%9F%E7%BD%91%E9%80%9A%E8%AE%AF%E7%9A%84%E5%88%86%E7%B1%BB"><span class="nav-number">3.1.3.</span> <span class="nav-text">局域网通讯的分类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E8%A7%84%E8%8C%83"><span class="nav-number">3.2.</span> <span class="nav-text">以太网规范</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%80%E5%9F%9F%E7%BD%91%E6%A0%87%E5%87%86"><span class="nav-number">3.2.1.</span> <span class="nav-text">局域网标准</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%A7%E7%BB%93%E6%9E%84%E8%A7%84%E8%8C%83%EF%BC%88MAC%E5%AD%90%E5%B1%82%EF%BC%89"><span class="nav-number">3.2.2.</span> <span class="nav-text">帧结构规范（MAC子层）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LLC%E5%AD%90%E5%B1%82"><span class="nav-number">3.2.3.</span> <span class="nav-text">LLC子层</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CSMA-CD"><span class="nav-number">3.3.</span> <span class="nav-text">CSMA&#x2F;CD</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="nav-number">3.4.</span> <span class="nav-text">无线局域网</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%87%E5%87%86"><span class="nav-number">3.4.1.</span> <span class="nav-text">标准</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%93%E6%9E%84"><span class="nav-number">3.4.2.</span> <span class="nav-text">结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91%E7%9A%84%E5%B8%A7"><span class="nav-number">3.4.3.</span> <span class="nav-text">无线局域网的帧</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CSMA-CA"><span class="nav-number">3.5.</span> <span class="nav-text">CSMA&#x2F;CA</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="nav-number">3.6.</span> <span class="nav-text">第二层设备</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-%C2%B7-%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="nav-number">4.</span> <span class="nav-text">第三章 · 网络层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A6%82%E8%BF%B0-1"><span class="nav-number">4.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IP%E5%92%8C%E6%95%B0%E6%8D%AE%E6%8A%A5"><span class="nav-number">4.2.</span> <span class="nav-text">IP和数据报</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%90%E7%BD%91"><span class="nav-number">4.3.</span> <span class="nav-text">子网</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E8%BD%AC%E5%8F%91"><span class="nav-number">4.4.</span> <span class="nav-text">路由转发</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ARP%E5%8D%8F%E8%AE%AE%E3%80%81%E7%BD%91%E5%85%B3"><span class="nav-number">4.5.</span> <span class="nav-text">ARP协议、网关</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%E6%9C%8D%E5%8A%A1"><span class="nav-number">4.6.</span> <span class="nav-text">网络层服务</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E6%93%8D%E4%BD%9C"><span class="nav-number">4.7.</span> <span class="nav-text">网络协议操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Routed-and-Routing-Proyocal"><span class="nav-number">4.8.</span> <span class="nav-text">Routed  and Routing Proyocal</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AF%E5%8F%98%E9%95%BF%E5%BA%A6%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81VLSM-Variable-Length-Subnet-Mask"><span class="nav-number">4.9.</span> <span class="nav-text">可变长度子网掩码VLSM(Variable Length Subnet Mask)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%A0%E7%89%B9%E7%BD%91%E6%8E%A7%E5%88%B6%E6%8A%A5%E6%96%87%E5%8D%8F%E8%AE%AE-ICMP"><span class="nav-number">4.10.</span> <span class="nav-text">因特网控制报文协议 ICMP</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0-%C2%B7-%E8%BF%90%E8%BE%93%E5%B1%82"><span class="nav-number">5.</span> <span class="nav-text">第四章 · 运输层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A6%82%E8%BF%B0-2"><span class="nav-number">5.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9E%8B%EF%BC%88Service-Model%EF%BC%89"><span class="nav-number">5.2.</span> <span class="nav-text">服务模型（Service Model）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AETCP"><span class="nav-number">5.3.</span> <span class="nav-text">传输控制协议TCP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%8D%8F%E8%AE%AEUDP"><span class="nav-number">5.4.</span> <span class="nav-text">用户数据报协议UDP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NAT-Network-Address-Translation"><span class="nav-number">5.5.</span> <span class="nav-text">NAT (Network Address Translation)</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-%C2%B7-%E4%BC%9A%E8%AF%9D%E5%B1%82%EF%BC%8C%E5%B1%95%E7%A4%BA%E5%B1%82%EF%BC%8C%E5%BA%94%E7%94%A8%E5%B1%82"><span class="nav-number">6.</span> <span class="nav-text">第五章 · 会话层，展示层，应用层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%BA%94%E5%B1%82%EF%BC%9A%E4%BC%9A%E8%AF%9D%E5%B1%82"><span class="nav-number">6.1.</span> <span class="nav-text">第五层：会话层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%81%8C%E8%B4%A3"><span class="nav-number">6.1.1.</span> <span class="nav-text">职责</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1"><span class="nav-number">6.1.2.</span> <span class="nav-text">服务</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%85%AD%E5%B1%82%EF%BC%9A%E8%A1%A8%E7%A4%BA%E5%B1%82"><span class="nav-number">6.2.</span> <span class="nav-text">第六层：表示层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A6%82%E8%BF%B0-3"><span class="nav-number">6.2.1.</span> <span class="nav-text">概述</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%83%E5%B1%82%EF%BC%9A%E5%BA%94%E7%94%A8%E5%B1%82"><span class="nav-number">6.3.</span> <span class="nav-text">第七层：应用层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A6%82%E8%BF%B0-4"><span class="nav-number">6.3.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%81%8C%E8%B4%A3-1"><span class="nav-number">6.3.2.</span> <span class="nav-text">职责</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE-HTTP%EF%BC%8CHyperText-Transfer-Protocol"><span class="nav-number">6.3.3.</span> <span class="nav-text">超文本传输协议 (HTTP，HyperText Transfer Protocol)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FTP%EF%BC%88File-Transfer-Protocol%EF%BC%89-%E5%92%8C-TFTP%EF%BC%88Trivial-File-Transfer-Protocol%EF%BC%89"><span class="nav-number">6.3.4.</span> <span class="nav-text">FTP（File Transfer Protocol） 和 TFTP（Trivial File Transfer Protocol）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Telnet%E5%8D%8F%E8%AE%AE"><span class="nav-number">6.3.5.</span> <span class="nav-text">Telnet协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SMTP%E5%92%8CPOP3"><span class="nav-number">6.3.6.</span> <span class="nav-text">SMTP和POP3</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%8D%8F%E8%AE%AE%EF%BC%88SNMP%EF%BC%8CSimple-Network-Management-Protocol%EF%BC%89"><span class="nav-number">6.3.7.</span> <span class="nav-text">简单网络管理协议（SNMP，Simple Network Management Protocol）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F-DNS-Domain-Name-System"><span class="nav-number">6.3.8.</span> <span class="nav-text">域名系统(DNS, Domain Name System)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B2%9F%E9%80%9A%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="nav-number">6.3.9.</span> <span class="nav-text">沟通的方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE%E5%8D%8F%E8%AE%AE%EF%BC%88DHCP%EF%BC%8CDynamic-Host-Configuration-Protocol%EF%BC%89"><span class="nav-number">6.3.10.</span> <span class="nav-text">动态主机配置协议（DHCP，Dynamic Host Configuration Protocol）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%85%AD%E7%AB%A0-%C2%B7-%E8%B7%AF%E7%94%B1%E5%99%A8%E5%92%8C%E7%BD%91%E7%BB%9C"><span class="nav-number">7.</span> <span class="nav-text">第六章 · 路由器和网络</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8%E5%9F%BA%E7%A1%80"><span class="nav-number">7.1.</span> <span class="nav-text">路由器基础</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8%E5%90%AF%E5%8A%A8-startup-%E6%AD%A5%E9%AA%A4"><span class="nav-number">7.2.</span> <span class="nav-text">路由器启动(startup)步骤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E5%92%8C%E9%85%8D%E7%BD%AE"><span class="nav-number">7.3.</span> <span class="nav-text">路由和配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BB%E5%8A%A8%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE"><span class="nav-number">7.4.</span> <span class="nav-text">主动路由协议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#RIP"><span class="nav-number">7.4.1.</span> <span class="nav-text">RIP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OSPF"><span class="nav-number">7.4.2.</span> <span class="nav-text">OSPF</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%A5%E9%AA%A41%EF%BC%9A%E5%BB%BA%E7%AB%8B%E8%B7%AF%E7%94%B1%E5%99%A8%E9%82%BB%E6%8E%A5"><span class="nav-number">7.4.3.</span> <span class="nav-text">步骤1：建立路由器邻接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-13-2-%E6%AD%A5%E9%AA%A42%EF%BC%9A%E9%80%89%E4%B8%BEDR%E5%92%8CBDR"><span class="nav-number">7.4.4.</span> <span class="nav-text">2.13.2. 步骤2：选举DR和BDR</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-13-3-%E6%AD%A5%E9%AA%A43%EF%BC%9A%E5%8F%91%E7%8E%B0%E8%B7%AF%E7%BA%BF"><span class="nav-number">7.4.5.</span> <span class="nav-text">2.13.3. 步骤3：发现路线</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-13-4-%E6%AD%A5%E9%AA%A44%EF%BC%9A%E9%80%89%E6%8B%A9%E9%80%82%E5%BD%93%E7%9A%84%E8%B7%AF%E7%BA%BF"><span class="nav-number">7.4.6.</span> <span class="nav-text">2.13.4. 步骤4：选择适当的路线</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-13-5-%E6%AD%A5%E9%AA%A45-%E7%BB%B4%E6%8A%A4%E8%B7%AF%E7%94%B1%E4%BF%A1%E6%81%AF"><span class="nav-number">7.4.7.</span> <span class="nav-text">2.13.5. 步骤5:维护路由信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-13-6-%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E5%8F%98%E5%8C%96%E5%87%BA%E7%8E%B0"><span class="nav-number">7.4.8.</span> <span class="nav-text">2.13.6. 链路状态变化出现</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%83%E7%AB%A0-%C2%B7-%E5%B1%80%E5%9F%9F%E7%BD%91%E4%BA%A4%E6%8D%A2%E4%B8%8EVLAN"><span class="nav-number">8.</span> <span class="nav-text">第七章 · 局域网交换与VLAN</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="nav-number">8.1.</span> <span class="nav-text">交换机</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%9F%E6%88%90%E6%A0%91%E5%8D%8F%E8%AE%AE%EF%BC%88STP%EF%BC%89"><span class="nav-number">8.2.</span> <span class="nav-text">生成树协议（STP）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VLAN"><span class="nav-number">8.3.</span> <span class="nav-text">VLAN</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%85%AB%E7%AB%A0-%C2%B7-%E5%B9%BF%E5%9F%9F%E7%BD%91WAN"><span class="nav-number">9.</span> <span class="nav-text">第八章 · 广域网WAN</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B9%BF%E5%9F%9F%E7%BD%91%E6%8A%80%E6%9C%AF%E5%92%8C%E8%AE%BE%E5%A4%87"><span class="nav-number">9.1.</span> <span class="nav-text">广域网技术和设备</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B9%BF%E5%9F%9F%E7%BD%91%E5%92%8COSI%E6%A8%A1%E5%9E%8B"><span class="nav-number">9.2.</span> <span class="nav-text">广域网和OSI模型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%82%B9%E5%AF%B9%E7%82%B9%E5%8D%8F%E8%AE%AE-PPP-Point-to-Point-Protocol-%EF%BC%88%E6%9C%AC%E6%AC%A1%E8%80%83%E8%AF%95%E9%87%8D%E7%82%B9%EF%BC%89"><span class="nav-number">9.3.</span> <span class="nav-text">点对点协议(PPP,Point-to-Point Protocol) *** （本次考试重点）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PPP%E7%82%B9%E5%AF%B9%E7%82%B9%E5%8D%8F%E8%AE%AE"><span class="nav-number">9.3.1.</span> <span class="nav-text">PPP点对点协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PAP%E5%AE%89%E5%85%A8%E8%AE%A4%E8%AF%81%E5%8D%8F%E8%AE%AE"><span class="nav-number">9.3.2.</span> <span class="nav-text">PAP安全认证协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CHAP"><span class="nav-number">9.3.3.</span> <span class="nav-text">CHAP</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%BC%E5%90%88%E6%95%B0%E5%AD%97%E6%9C%8D%E5%8A%A1%E7%BD%91%E7%BB%9C-ISDN-Integrated-Services-Digital-Networks"><span class="nav-number">9.4.</span> <span class="nav-text">综合数字服务网络(ISDN, Integrated Services Digital Networks)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%9E%E5%AF%B9%E7%A7%B0%E6%95%B0%E5%AD%97%E7%94%A8%E6%88%B7%E7%BA%BF%E8%B7%AF-ADSL-Asymmetric-Digital-Subscriber-Line"><span class="nav-number">9.5.</span> <span class="nav-text">非对称数字用户线路(ADSL,Asymmetric Digital Subscriber Line)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SONET"><span class="nav-number">9.6.</span> <span class="nav-text">SONET</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SONET-%E7%9A%84-OC-%E7%BA%A7-STS-%E7%BA%A7%E4%B8%8E-SDH-%E7%9A%84-STM-%E7%BA%A7%E7%9A%84%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB"><span class="nav-number">9.6.1.</span> <span class="nav-text">SONET 的 OC 级&#x2F;STS 级与 SDH 的 STM 级的对应关系</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SONET-%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="nav-number">9.6.2.</span> <span class="nav-text">SONET 的体系结构</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%89%E7%BA%A4%E5%90%8C%E8%BD%B4%E6%B7%B7%E5%90%88%E7%BD%91HFC-Hybrid-Fiber-Coax"><span class="nav-number">9.7.</span> <span class="nav-text">光纤同轴混合网HFC(Hybrid Fiber Coax)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%80%83%E8%AF%95%E8%A6%81%E6%B1%82"><span class="nav-number">9.8.</span> <span class="nav-text">考试要求</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B9%9D%E7%AB%A0-%C2%B7-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8"><span class="nav-number">10.</span> <span class="nav-text">第九章 · 网络安全</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A6%82%E8%BF%B0-5"><span class="nav-number">10.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E8%88%AC%E7%9A%84%E6%95%B0%E6%8D%AE%E5%8A%A0%E5%AF%86%E6%A8%A1%E5%9E%8B"><span class="nav-number">10.2.</span> <span class="nav-text">一般的数据加密模型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%B9%E7%A7%B0%E5%AF%86%E9%92%A5%E5%92%8C%E5%85%AC%E9%92%A5%E5%AF%86%E7%A0%81%E4%BD%93%E5%88%B6"><span class="nav-number">10.3.</span> <span class="nav-text">对称密钥和公钥密码体制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D"><span class="nav-number">10.4.</span> <span class="nav-text">数字签名</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99"><span class="nav-number">10.5.</span> <span class="nav-text">防火墙</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ACL"><span class="nav-number">10.6.</span> <span class="nav-text">ACL</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%94%E8%AE%B0-%C2%B7-%E5%AE%9E%E9%AA%8C%E7%AC%94%E8%AE%B0"><span class="nav-number">11.</span> <span class="nav-text">笔记 · 实验笔记</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#05%EF%BC%9A%E5%8A%A8%E6%80%81-RIP"><span class="nav-number">11.1.</span> <span class="nav-text">05：动态 RIP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#06%EF%BC%9A%E9%85%8D%E7%BD%AE%E5%8D%95%E5%9F%9F-OSPF"><span class="nav-number">11.2.</span> <span class="nav-text">06：配置单域 OSPF</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#07%EF%BC%9AVLAN-%E9%97%B4%E8%B7%AF%E7%94%B1"><span class="nav-number">11.3.</span> <span class="nav-text">07：VLAN 间路由</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#08%EF%BC%9ANAT%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2"><span class="nav-number">11.4.</span> <span class="nav-text">08：NAT网络地址转换</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#09%EF%BC%9AACL-%E5%AE%9E%E9%AA%8C"><span class="nav-number">11.5.</span> <span class="nav-text">09：ACL 实验</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10%EF%BC%9APPP-%E9%AA%8C%E8%AF%81%E5%AE%9E%E9%AA%8C"><span class="nav-number">11.6.</span> <span class="nav-text">10：PPP 验证实验</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12%EF%BC%9ADHCP-%E6%AC%BA%E8%AF%88%E4%BF%9D%E6%8A%A4"><span class="nav-number">11.7.</span> <span class="nav-text">12：DHCP 欺诈保护</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%94%E8%AE%B0-%C2%B7-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A"><span class="nav-number">12.</span> <span class="nav-text">笔记 · 名词解释</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0%EF%BC%9A%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0"><span class="nav-number">12.1.</span> <span class="nav-text">第一章：网络概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C"><span class="nav-number">12.1.1.</span> <span class="nav-text">网络</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LAN"><span class="nav-number">12.1.2.</span> <span class="nav-text">LAN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WAN"><span class="nav-number">12.1.3.</span> <span class="nav-text">WAN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#internet"><span class="nav-number">12.1.4.</span> <span class="nav-text">internet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Internet"><span class="nav-number">12.1.5.</span> <span class="nav-text">Internet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ISP"><span class="nav-number">12.1.6.</span> <span class="nav-text">ISP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NAP"><span class="nav-number">12.1.7.</span> <span class="nav-text">NAP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#data-packet"><span class="nav-number">12.1.8.</span> <span class="nav-text">data packet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bandwidth-throughout"><span class="nav-number">12.1.9.</span> <span class="nav-text">bandwidth &amp; throughout</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OSI%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B"><span class="nav-number">12.1.10.</span> <span class="nav-text">OSI参考模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP-IP%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B"><span class="nav-number">12.1.11.</span> <span class="nav-text">TCP&#x2F;IP参考模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%84%E5%B1%82%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87"><span class="nav-number">12.1.12.</span> <span class="nav-text">各层网络设备</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NIC%E7%BD%91%E5%8D%A1"><span class="nav-number">12.1.13.</span> <span class="nav-text">NIC网卡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Repeater%E4%B8%AD%E7%BB%A7%E5%99%A8"><span class="nav-number">12.1.14.</span> <span class="nav-text">Repeater中继器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hub%E9%9B%86%E7%BA%BF%E5%99%A8"><span class="nav-number">12.1.15.</span> <span class="nav-text">Hub集线器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Bridge%E7%BD%91%E6%A1%A5"><span class="nav-number">12.1.16.</span> <span class="nav-text">Bridge网桥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Switch%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="nav-number">12.1.17.</span> <span class="nav-text">Switch交换机</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Router%E8%B7%AF%E7%94%B1%E5%99%A8"><span class="nav-number">12.1.18.</span> <span class="nav-text">Router路由器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0%EF%BC%9A%E7%89%A9%E7%90%86%E5%B1%82"><span class="nav-number">12.2.</span> <span class="nav-text">第二章：物理层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#UTP"><span class="nav-number">12.2.1.</span> <span class="nav-text">UTP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Coaxial"><span class="nav-number">12.2.2.</span> <span class="nav-text">Coaxial</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Fiber-Optic"><span class="nav-number">12.2.3.</span> <span class="nav-text">Fiber-Optic</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Wireless-Communication"><span class="nav-number">12.2.4.</span> <span class="nav-text">Wireless Communication</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%8C%E7%BB%9E%E7%BA%BF%E7%B1%BB%E5%9E%8B"><span class="nav-number">12.2.5.</span> <span class="nav-text">双绞线类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AF%94%E7%89%B9%E7%8E%87%E4%B8%8E%E6%B3%A2%E7%89%B9%E7%8E%87"><span class="nav-number">12.2.6.</span> <span class="nav-text">比特率与波特率</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8-%EF%BC%88Multiplexing%EF%BC%89"><span class="nav-number">12.2.7.</span> <span class="nav-text">多路复用 （Multiplexing）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F"><span class="nav-number">12.2.8.</span> <span class="nav-text">通信方式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="nav-number">12.3.</span> <span class="nav-text">第三章：数据链路层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#MAC%EF%BC%88%E6%8E%A7%E5%88%B6%EF%BC%89"><span class="nav-number">12.3.1.</span> <span class="nav-text">MAC（控制）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LLC-MAC%EF%BC%88%E5%AD%90%E5%B1%82%EF%BC%89"><span class="nav-number">12.3.2.</span> <span class="nav-text">LLC &amp; MAC（子层）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SAP-DSAP-SSAP"><span class="nav-number">12.3.3.</span> <span class="nav-text">SAP &amp; DSAP &amp; SSAP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MAC%E5%9C%B0%E5%9D%80%EF%BC%88%E5%9C%B0%E5%9D%80%EF%BC%89"><span class="nav-number">12.3.4.</span> <span class="nav-text">MAC地址（地址）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CSMA-CD-1"><span class="nav-number">12.3.5.</span> <span class="nav-text">CSMA&#x2F;CD</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CSMA-MA"><span class="nav-number">12.3.6.</span> <span class="nav-text">CSMA&#x2F;MA</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BSS-BS-AP-SSID-ESS"><span class="nav-number">12.3.7.</span> <span class="nav-text">BSS &amp; BS &amp; AP &amp; SSID &amp; ESS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91%E7%9A%84CSMA-CA"><span class="nav-number">12.3.8.</span> <span class="nav-text">无线局域网的CSMA&#x2F;CA</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%8F%E6%98%8E%E7%BD%91%E6%A1%A5"><span class="nav-number">12.3.9.</span> <span class="nav-text">透明网桥</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0%EF%BC%9A%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="nav-number">12.4.</span> <span class="nav-text">第四章：网络层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#IP%E5%9C%B0%E5%9D%80"><span class="nav-number">12.4.1.</span> <span class="nav-text">IP地址</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%90%E7%BD%91%E5%88%92%E5%88%86"><span class="nav-number">12.4.2.</span> <span class="nav-text">子网划分</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E8%BD%AC%E5%8F%91%E8%BF%87%E7%A8%8B"><span class="nav-number">12.4.3.</span> <span class="nav-text">路由转发过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IP%E5%9C%B0%E5%9D%80%E5%8A%A8%E6%80%81%E5%88%86%E9%85%8D%EF%BC%88RARP%E3%80%81BOOTP%E3%80%81DHCP%EF%BC%89"><span class="nav-number">12.4.4.</span> <span class="nav-text">IP地址动态分配（RARP、BOOTP、DHCP）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Default-gateway-%E9%BB%98%E8%AE%A4%E7%BD%91%E5%85%B3"><span class="nav-number">12.4.5.</span> <span class="nav-text">Default gateway 默认网关</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ARP"><span class="nav-number">12.4.6.</span> <span class="nav-text">ARP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Routed-protocol-Routing-protocol"><span class="nav-number">12.4.7.</span> <span class="nav-text">Routed protocol &amp; Routing protocol</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Static-routes-Dynamic-routes"><span class="nav-number">12.4.8.</span> <span class="nav-text">Static routes &amp; Dynamic routes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E6%B2%BB%E7%B3%BB%E7%BB%9F"><span class="nav-number">12.4.9.</span> <span class="nav-text">自治系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IGP-EGP"><span class="nav-number">12.4.10.</span> <span class="nav-text">IGP &amp; EGP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DVP-LSP"><span class="nav-number">12.4.11.</span> <span class="nav-text">DVP &amp; LSP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RIP-1"><span class="nav-number">12.4.12.</span> <span class="nav-text">RIP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IGRP"><span class="nav-number">12.4.13.</span> <span class="nav-text">IGRP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#EIGRP"><span class="nav-number">12.4.14.</span> <span class="nav-text">EIGRP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OSPF-1"><span class="nav-number">12.4.15.</span> <span class="nav-text">OSPF</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#VLSM"><span class="nav-number">12.4.16.</span> <span class="nav-text">VLSM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E8%81%9A%E9%9B%86"><span class="nav-number">12.4.17.</span> <span class="nav-text">路由聚集</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ICMP"><span class="nav-number">12.4.18.</span> <span class="nav-text">ICMP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TTL"><span class="nav-number">12.4.19.</span> <span class="nav-text">TTL</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82"><span class="nav-number">12.5.</span> <span class="nav-text">第五章：运输层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#port"><span class="nav-number">12.5.1.</span> <span class="nav-text">port</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Socket"><span class="nav-number">12.5.2.</span> <span class="nav-text">Socket</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP"><span class="nav-number">12.5.3.</span> <span class="nav-text">TCP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UDP"><span class="nav-number">12.5.4.</span> <span class="nav-text">UDP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP%E7%9A%84%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5"><span class="nav-number">12.5.5.</span> <span class="nav-text">TCP的三次握手建立连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ARQ"><span class="nav-number">12.5.6.</span> <span class="nav-text">ARQ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP%E7%9A%84%E5%9B%9B%E6%AC%A1%E6%8F%A1%E6%89%8B%E9%87%8A%E6%94%BE%E8%BF%9E%E6%8E%A5"><span class="nav-number">12.5.7.</span> <span class="nav-text">TCP的四次握手释放连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NAT"><span class="nav-number">12.5.8.</span> <span class="nav-text">NAT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PAT"><span class="nav-number">12.5.9.</span> <span class="nav-text">PAT</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A1%A5%E5%85%85"><span class="nav-number">12.6.</span> <span class="nav-text">补充</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#OSI"><span class="nav-number">12.6.1.</span> <span class="nav-text">OSI</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FCS"><span class="nav-number">12.6.2.</span> <span class="nav-text">FCS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#flow-control"><span class="nav-number">12.6.3.</span> <span class="nav-text">flow control</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RARP"><span class="nav-number">12.6.4.</span> <span class="nav-text">RARP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CIDR"><span class="nav-number">12.6.5.</span> <span class="nav-text">CIDR</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#split-horizon"><span class="nav-number">12.6.6.</span> <span class="nav-text">split horizon</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Routing-Poisioning"><span class="nav-number">12.6.7.</span> <span class="nav-text">Routing Poisioning</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hold-Down-Timers"><span class="nav-number">12.6.8.</span> <span class="nav-text">Hold-Down Timers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS"><span class="nav-number">12.6.9.</span> <span class="nav-text">DNS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP"><span class="nav-number">12.6.10.</span> <span class="nav-text">HTTP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#URL"><span class="nav-number">12.6.11.</span> <span class="nav-text">URL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTML"><span class="nav-number">12.6.12.</span> <span class="nav-text">HTML</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FTP"><span class="nav-number">12.6.13.</span> <span class="nav-text">FTP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TFTP"><span class="nav-number">12.6.14.</span> <span class="nav-text">TFTP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SMTP"><span class="nav-number">12.6.15.</span> <span class="nav-text">SMTP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DHCP"><span class="nav-number">12.6.16.</span> <span class="nav-text">DHCP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#STP"><span class="nav-number">12.6.17.</span> <span class="nav-text">STP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PPP"><span class="nav-number">12.6.18.</span> <span class="nav-text">PPP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ISDN"><span class="nav-number">12.6.19.</span> <span class="nav-text">ISDN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ADSL"><span class="nav-number">12.6.20.</span> <span class="nav-text">ADSL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#VLAN-1"><span class="nav-number">12.6.21.</span> <span class="nav-text">VLAN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%97%85%E6%AF%92"><span class="nav-number">12.6.22.</span> <span class="nav-text">病毒</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SMTP%E5%92%8CPOP3-1"><span class="nav-number">12.6.23.</span> <span class="nav-text">SMTP和POP3</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MIME"><span class="nav-number">12.6.24.</span> <span class="nav-text">MIME</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SNMP"><span class="nav-number">12.6.25.</span> <span class="nav-text">SNMP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IGMP"><span class="nav-number">12.6.26.</span> <span class="nav-text">IGMP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#firewall"><span class="nav-number">12.6.27.</span> <span class="nav-text">firewall</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ACL-1"><span class="nav-number">12.6.28.</span> <span class="nav-text">ACL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LSA"><span class="nav-number">12.6.29.</span> <span class="nav-text">LSA</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%94%E8%AE%B0-%C2%B7-%E8%AE%A1%E7%BD%91%E5%90%84%E7%B1%BB%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F"><span class="nav-number">13.</span> <span class="nav-text">笔记 · 计网各类数据格式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E4%BB%A5%E5%A4%AA%E7%BD%91%E7%9A%84MAC%E5%B8%A7%E7%BB%93%E6%9E%84%EF%BC%88%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82MAC%E5%AD%90%E5%B1%82%EF%BC%89"><span class="nav-number">13.1.</span> <span class="nav-text">一、以太网的MAC帧结构（数据链路层MAC子层）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-preamble-%E5%89%8D%E5%AF%BC%E7%A0%81%EF%BC%888%E5%AD%97%E8%8A%82%EF%BC%89"><span class="nav-number">13.1.1.</span> <span class="nav-text">1.1 preamble 前导码（8字节）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-Dest-add-Source-add-%E7%9B%AE%E6%A0%87%E5%92%8C%E6%BA%90%E7%89%A9%E7%90%86%E5%9C%B0%E5%9D%80%EF%BC%88%E5%90%846%E5%AD%97%E8%8A%82%EF%BC%89"><span class="nav-number">13.1.2.</span> <span class="nav-text">1.2 Dest add &amp; Source add 目标和源物理地址（各6字节）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-Length-%E9%95%BF%E5%BA%A6%EF%BC%882%E5%AD%97%E8%8A%82%EF%BC%89"><span class="nav-number">13.1.3.</span> <span class="nav-text">1.3 Length 长度（2字节）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-Data%E6%95%B0%E6%8D%AE"><span class="nav-number">13.1.4.</span> <span class="nav-text">1.4 Data数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-FCS%EF%BC%884%E5%AD%97%E8%8A%82%EF%BC%89"><span class="nav-number">13.1.5.</span> <span class="nav-text">1.5 FCS（4字节）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91%E7%9A%84MAC%E5%B8%A7%E7%BB%93%E6%9E%84"><span class="nav-number">13.2.</span> <span class="nav-text">二、无线局域网的MAC帧结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81IPv4%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F%EF%BC%88%E7%BD%91%E7%BB%9C%E5%B1%82%EF%BC%89"><span class="nav-number">13.3.</span> <span class="nav-text">三、IPv4报文格式（网络层）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-%E7%89%88%E6%9C%AC%E5%8F%B7%EF%BC%884bit%EF%BC%89"><span class="nav-number">13.3.1.</span> <span class="nav-text">3.1 版本号（4bit）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-%E9%A6%96%E9%83%A8%E9%95%BF%E5%BA%A6%EF%BC%884bit%EF%BC%89"><span class="nav-number">13.3.2.</span> <span class="nav-text">3.2 首部长度（4bit）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-%E6%9C%8D%E5%8A%A1%E7%B1%BB%E5%9E%8B%EF%BC%888bit%EF%BC%89"><span class="nav-number">13.3.3.</span> <span class="nav-text">3.3 服务类型（8bit）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-%E6%80%BB%E9%95%BF%E5%BA%A6%EF%BC%8816bit%EF%BC%89"><span class="nav-number">13.3.4.</span> <span class="nav-text">3.4 总长度（16bit）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-%E6%A0%87%E8%AF%86%EF%BC%8816bit%EF%BC%89"><span class="nav-number">13.3.5.</span> <span class="nav-text">3.5 标识（16bit）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-%E6%A0%87%E5%BF%97%EF%BC%883bit%EF%BC%89"><span class="nav-number">13.3.6.</span> <span class="nav-text">3.6 标志（3bit）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-7-%E7%89%87%E5%81%8F%E7%A7%BB%EF%BC%8813bit%EF%BC%89"><span class="nav-number">13.3.7.</span> <span class="nav-text">3.7 片偏移（13bit）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-8-%E7%94%9F%E5%AD%98%E6%97%B6%E9%97%B4%EF%BC%888bit%EF%BC%89"><span class="nav-number">13.3.8.</span> <span class="nav-text">3.8 生存时间（8bit）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-9-%E5%8D%8F%E8%AE%AE%EF%BC%888bit%EF%BC%89"><span class="nav-number">13.3.9.</span> <span class="nav-text">3.9 协议（8bit）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-10-%E9%A6%96%E9%83%A8%E6%A3%80%E9%AA%8C%E5%92%8C%EF%BC%8816bit%EF%BC%89"><span class="nav-number">13.3.10.</span> <span class="nav-text">3.10 首部检验和（16bit）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-11-%E6%BA%90%E5%9C%B0%E5%9D%80%E4%B8%8E%E7%9B%AE%E7%9A%84%E5%9C%B0%E5%9D%80%EF%BC%88%E5%90%844%E5%AD%97%E8%8A%82%EF%BC%89"><span class="nav-number">13.3.11.</span> <span class="nav-text">3.11  源地址与目的地址（各4字节）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E3%80%81TCP%E6%95%B0%E6%8D%AE%E6%AE%B5%E6%A0%BC%E5%BC%8F"><span class="nav-number">13.4.</span> <span class="nav-text">四、TCP数据段格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-%E6%BA%90%E7%AB%AF%E5%8F%A3%E5%92%8C%E7%9B%AE%E7%9A%84%E7%AB%AF%E5%8F%A3%EF%BC%882%E5%AD%97%E8%8A%82%EF%BC%89"><span class="nav-number">13.4.1.</span> <span class="nav-text">4.1 源端口和目的端口（2字节）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-%E5%BA%8F%E5%8F%B7%EF%BC%884%E5%AD%97%E8%8A%82%EF%BC%89"><span class="nav-number">13.4.2.</span> <span class="nav-text">4.2 序号（4字节）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-%E7%A1%AE%E8%AE%A4%E5%8F%B7%EF%BC%884%E5%AD%97%E8%8A%82%EF%BC%89"><span class="nav-number">13.4.3.</span> <span class="nav-text">4.3 确认号（4字节）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-%E6%95%B0%E6%8D%AE%E5%81%8F%E7%A7%BB%EF%BC%884%E4%BD%8D%EF%BC%89"><span class="nav-number">13.4.4.</span> <span class="nav-text">4.4 数据偏移（4位）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-%E4%BF%9D%E7%95%99%E5%AD%97%E6%AE%B5%EF%BC%886%E4%BD%8D%EF%BC%89"><span class="nav-number">13.4.5.</span> <span class="nav-text">4.5 保留字段（6位）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-6-URG%EF%BC%88urgent%EF%BC%89"><span class="nav-number">13.4.6.</span> <span class="nav-text">4.6 URG（urgent）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-7-ACK%EF%BC%88acknowledge%EF%BC%89"><span class="nav-number">13.4.7.</span> <span class="nav-text">4.7 ACK（acknowledge）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-8-PSH%EF%BC%88push%EF%BC%89"><span class="nav-number">13.4.8.</span> <span class="nav-text">4.8 PSH（push）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-9-RST%EF%BC%88ReSeT%EF%BC%89"><span class="nav-number">13.4.9.</span> <span class="nav-text">4.9 RST（ReSeT）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-10-SYN%EF%BC%88synchronize%EF%BC%89"><span class="nav-number">13.4.10.</span> <span class="nav-text">4.10 SYN（synchronize）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-11-FIN%EF%BC%88FINis%EF%BC%89"><span class="nav-number">13.4.11.</span> <span class="nav-text">4.11 FIN（FINis）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-12-%E7%AA%97%E5%8F%A3%EF%BC%882%E5%AD%97%E8%8A%82%EF%BC%89"><span class="nav-number">13.4.12.</span> <span class="nav-text">4.12 窗口（2字节）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-13-%E6%A3%80%E9%AA%8C%E5%92%8C%EF%BC%882%E5%AD%97%E8%8A%82%EF%BC%89"><span class="nav-number">13.4.13.</span> <span class="nav-text">4.13 检验和（2字节）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-14-%E7%B4%A7%E6%80%A5%E6%8C%87%E9%92%88%EF%BC%882%E5%AD%97%E8%8A%82%EF%BC%89"><span class="nav-number">13.4.14.</span> <span class="nav-text">4.14 紧急指针（2字节）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-15-%E9%80%89%E9%A1%B9%EF%BC%88%E9%95%BF%E5%BA%A6%E5%8F%AF%E5%8F%98%EF%BC%89"><span class="nav-number">13.4.15.</span> <span class="nav-text">4.15 选项（长度可变）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-16-%E5%A1%AB%E5%85%85%E5%AD%97%E6%AE%B5"><span class="nav-number">13.4.16.</span> <span class="nav-text">4.16 填充字段</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%94%E3%80%81UDP%E6%95%B0%E6%8D%AE%E6%AE%B5%E6%A0%BC%E5%BC%8F"><span class="nav-number">13.5.</span> <span class="nav-text">五、UDP数据段格式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AD%E3%80%81PPP%E5%B8%A7%E6%A0%BC%E5%BC%8F"><span class="nav-number">13.6.</span> <span class="nav-text">六、PPP帧格式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%94%E8%AE%B0-%C2%B7-%E9%94%99%E9%A2%98%E6%9C%AC"><span class="nav-number">14.</span> <span class="nav-text">笔记 · 错题本</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2020%E5%B9%B4"><span class="nav-number">14.1.</span> <span class="nav-text">2020年</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90-DNS-%E6%9F%A5%E8%AF%A2-%EF%BC%9A"><span class="nav-number">14.1.1.</span> <span class="nav-text">1. 域名解析 (DNS 查询)：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%BB%BA%E7%AB%8B-TCP-%E8%BF%9E%E6%8E%A5-%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B-%EF%BC%9A"><span class="nav-number">14.1.2.</span> <span class="nav-text">2. 建立 TCP 连接 (三次握手)：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%8F%91%E9%80%81-HTTP-%E8%AF%B7%E6%B1%82%EF%BC%9A"><span class="nav-number">14.1.3.</span> <span class="nav-text">3. 发送 HTTP 请求：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82%EF%BC%9A"><span class="nav-number">14.1.4.</span> <span class="nav-text">4. 服务器处理请求：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%94%E5%9B%9E-HTTP-%E5%93%8D%E5%BA%94%EF%BC%9A"><span class="nav-number">14.1.5.</span> <span class="nav-text">5. 服务器返回 HTTP 响应：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E6%B5%8F%E8%A7%88%E5%99%A8%E8%A7%A3%E6%9E%90-HTML-%E5%86%85%E5%AE%B9%EF%BC%9A"><span class="nav-number">14.1.6.</span> <span class="nav-text">6. 浏览器解析 HTML 内容：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E8%AF%B7%E6%B1%82%E5%B9%B6%E5%8A%A0%E8%BD%BD%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90%EF%BC%9A"><span class="nav-number">14.1.7.</span> <span class="nav-text">7. 请求并加载外部资源：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E4%B8%8E%E6%98%BE%E7%A4%BA%EF%BC%9A"><span class="nav-number">14.1.8.</span> <span class="nav-text">8. 页面渲染与显示：</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B6%88%E6%81%AF%E6%98%AF%E7%94%B1%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%98%E6%98%AF%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%91%E9%80%81%E7%9A%84%EF%BC%9F"><span class="nav-number">14.1.8.1.</span> <span class="nav-text">消息是由客户端还是服务器发送的？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B6%88%E6%81%AF%E6%B6%89%E5%8F%8A%E7%9A%84%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1%E7%B1%BB%E5%9E%8B%EF%BC%9F"><span class="nav-number">14.1.8.2.</span> <span class="nav-text">消息涉及的网络服务类型？</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2019%E5%B9%B4"><span class="nav-number">14.2.</span> <span class="nav-text">2019年</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2010%E5%B9%B4"><span class="nav-number">14.3.</span> <span class="nav-text">2010年***</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#802-11a"><span class="nav-number">14.3.1.</span> <span class="nav-text">802.11a</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-802-11b"><span class="nav-number">14.3.2.</span> <span class="nav-text">2. 802.11b</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-802-3"><span class="nav-number">14.3.3.</span> <span class="nav-text">3. 802.3</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%8F%E6%B5%8B"><span class="nav-number">14.4.</span> <span class="nav-text">小测</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="mukongshan"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">mukongshan</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">19</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/mukongshan" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;mukongshan" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:2087179041@qq.com" title="E-Mail → mailto:2087179041@qq.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://kongshan.me/2024/12/04/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="mukongshan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kongshan's blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="互联网计算 | kongshan's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          互联网计算
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-12-04 12:00:00" itemprop="dateCreated datePublished" datetime="2024-12-04T12:00:00+08:00">2024-12-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-12-03 17:27:23" itemprop="dateModified" datetime="2025-12-03T17:27:23+08:00">2025-12-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/course/" itemprop="url" rel="index"><span itemprop="name">课业</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="第零章-·-计算机网络及其参考模型"><a href="#第零章-·-计算机网络及其参考模型" class="headerlink" title="第零章 · 计算机网络及其参考模型"></a>第零章 · 计算机网络及其参考模型</h1><h2 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h2><ol>
<li>LAN（局域网，Local Area Networks）</li>
<li>WLAN（无线局域网， Wireless Local Area Networks)</li>
<li>WAN（广域网，Wide Area Networks）</li>
<li>NAP（网络接入点，network access point）</li>
<li>ISP  (互联网服务提供商，Internet Service Provider)</li>
<li>Modem（调制解调器） 调制解调器用于将数字信号和模拟信号之间相互转换。它在数字设备（如计算机）与模拟通信线路（如电话线）之间充当桥梁。</li>
<li>CSU &#x2F; DSU（通道服务单元 &#x2F; 数据服务单元）：CSU&#x2F;DSU设备用于将局域网与广域网连接，通常用于专用数据线路（如T1、E1线路）。它在数字信号和物理线路之间进行信号匹配。</li>
<li>TA &#x2F; NT1（终端适配器 &#x2F; 网络终端1）：TA&#x2F;NT1是ISDN（综合业务数字网）中的设备，用于连接ISDN终端设备（如电话、计算机）与ISDN网络。</li>
<li>Ethernet（以太网）</li>
<li>ISDN（综合业务数字网）：ISDN提供数字传输服务，能够同时传输语音、视频和数据。</li>
<li>RFC：RFC（Request for Comments）文档是一系列正式的文档，用于描述互联网技术和协议的标准、建议、方法和创新。</li>
<li>TCP(传输控制协议，Transmission Control Protocol) ***</li>
<li>UDP（用户数据报协议，Uesr Datagram Protocol）</li>
<li>IP（互联网协议，Internet Protocol) ***</li>
<li>HTTP （超文本传输协议，Hypertext  Transfer Protocol）***</li>
<li>SMTP （简单邮件传输协议，Simple Mail  Transfer protocol ）***</li>
<li>DNS （域名系统，Domain Name  System）***</li>
<li>TFTP （简单文件传输协议，Trivial File Transfer Protocol）***</li>
</ol>
<span id="more"></span>

<h2 id="互联网发展的三个阶段"><a href="#互联网发展的三个阶段" class="headerlink" title="互联网发展的三个阶段"></a>互联网发展的三个阶段</h2><ol>
<li>从单个网络ARPAnet向互联网发展。<ol>
<li>1969年ARPAnet诞生</li>
<li>1983年TCP&#x2F;IP协议成为ARPAnet的标准协议。这使得所有使用TCP&#x2F;IP协议的计算机都可以通过互联网通信。<ul>
<li>1983年互联网诞生</li>
</ul>
</li>
</ol>
</li>
<li>建成三级结构的互联网<ol>
<li>1986年围绕六个大型计算机中心建设计算机网络，即NSFnet</li>
<li>分为主干网，地区网和校园网（或企业网）</li>
<li>1990年ARPAnet退役</li>
</ol>
</li>
<li>形成多层次ISP结构的互联网</li>
</ol>
<h2 id="基于ISP的三层结构"><a href="#基于ISP的三层结构" class="headerlink" title="基于ISP的三层结构 ***"></a>基于ISP的三层结构 ***</h2><p>主干ISP &lt;–&gt; 第二层ISP &lt;–&gt; 本地ISP &lt;–&gt; 主机</p>
<h2 id="OSI模型的七个层次"><a href="#OSI模型的七个层次" class="headerlink" title="OSI模型的七个层次 ***"></a>OSI模型的七个层次 ***</h2><ol>
<li><strong>物理层（Physical Layer）</strong><ul>
<li><strong>功能</strong>: 定义硬件设备和传输介质的物理特性，如电缆、网络接口、信号电平等。</li>
<li><strong>例子</strong>: 以太网电缆、光纤、无线电波。</li>
</ul>
</li>
<li><strong>数据链路层（Data Link Layer）</strong><ul>
<li><strong>功能</strong>: 负责在物理层之上建立、维护和断开物理链路（介质访问控制？），处理帧的错误检测和纠正。</li>
<li><strong>例子</strong>: 以太网协议（Ethernet）、Wi-Fi协议（IEEE 802.11）。</li>
</ul>
</li>
<li><strong>网络层（Network Layer）</strong><ul>
<li><strong>功能</strong>: 负责数据包的路由和转发（跨链路的），选择数据传输的路径（由中间设备处理），处理逻辑地址（如IP地址）。</li>
<li><strong>例子</strong>: IP协议（Internet Protocol）、ICMP协议（Internet Control Message Protocol）。</li>
</ul>
</li>
<li><strong>传输层（Transport Layer）</strong><ul>
<li><strong>功能</strong>: 提供端到端的通信服务，确保数据的可靠性和完整性（由终端判断可靠性），处理数据的分段和重组。</li>
<li><strong>例子</strong>: TCP协议（Transmission Control Protocol）、UDP协议（User Datagram Protocol）。</li>
</ul>
</li>
<li><strong>会话层（Session Layer）</strong><ul>
<li><strong>功能</strong>: 管理应用程序之间的会话，处理会话的建立、管理和终止，支持会话恢复和同步。</li>
<li><strong>例子</strong>: 会话恢复协议（Session Initiation Protocol, SIP）。</li>
</ul>
</li>
<li><strong>表示层（Presentation Layer）</strong><ul>
<li><strong>功能</strong>: 负责数据的格式化和转换，确保不同系统之间的数据能够被正确解释和显示。</li>
<li><strong>例子</strong>: 数据加密（如SSL&#x2F;TLS）、数据压缩。</li>
</ul>
</li>
<li><strong>应用层（Application Layer）</strong><ul>
<li><strong>功能</strong>: 提供网络服务和应用程序之间的接口，处理用户直接交互的数据。</li>
<li><strong>例子</strong>: HTTP（Hypertext Transfer Protocol）、FTP（File Transfer Protocol）、SMTP（Simple Mail Transfer Protocol）。</li>
</ul>
</li>
</ol>
<h2 id="OSI模型的作用"><a href="#OSI模型的作用" class="headerlink" title="OSI模型的作用"></a>OSI模型的作用</h2><ul>
<li><strong>标准化</strong>: 提供一个标准化的框架，使不同设备和系统能够通过通用的协议进行互操作。</li>
<li><strong>分层管理</strong>: 通过分层结构，简化了网络通信的复杂性，使得问题的排查和协议的开发变得更加容易。</li>
<li><strong>协议互通</strong>: 各层协议可以独立开发和更新，而不影响其他层的功能。</li>
</ul>
<p>OSI模型帮助网络工程师和开发人员理解和设计网络系统，使得网络协议和设备的互操作性得以实现。</p>
<h2 id="LAN（局域网）-WAN（广域网）"><a href="#LAN（局域网）-WAN（广域网）" class="headerlink" title="LAN（局域网）&#x2F; WAN（广域网）"></a>LAN（局域网）&#x2F; WAN（广域网）</h2><ol>
<li>局域网（LANs）<ol>
<li>在本地操作（覆盖小范围区域）</li>
<li>支持多用户访问</li>
<li>预期具有较高的速度（可达Gbps&#x2F;10Gbps）</li>
<li>错误率容易控制</li>
</ol>
</li>
<li>广域网（WANs）<ol>
<li>在更大范围内操作</li>
<li>通过串行链路、光纤链路等进行访问</li>
<li>传统上速度较低</li>
<li>错误率不易控制</li>
</ol>
</li>
</ol>
<h2 id="LAN-Device"><a href="#LAN-Device" class="headerlink" title="LAN Device"></a>LAN Device</h2><ol>
<li><p>集线器（hub）</p>
<ol>
<li><p>功能: 集线器是最简单的网络连接设备，用于将多台设备（如计算机、打印机等）连接在一起，形成一个局域网。</p>
</li>
<li><p>工作方式: 它在物理层（OSI模型第1层）工作，将接收到的数据广播到所有连接的端口，而不区分目标设备。</p>
</li>
</ol>
</li>
<li><p>网桥（Bridge）</p>
<ol>
<li><p>功能: 网桥用于将两个或多个局域网连接起来，并对数据流进行过滤和转发。它能分隔网络，减少冲突域。</p>
</li>
<li><p>工作方式: 在数据链路层（OSI模型第2层）工作，根据设备的MAC地址表转发数据包，从而减少不必要的数据广播。</p>
</li>
</ol>
</li>
<li><p>交换机（Switch）</p>
<ol>
<li><p>功能: 交换机是高级的集线器，用于在多个设备之间高效地转发数据。它是局域网的核心设备。</p>
</li>
<li><p>工作方式: 在数据链路层（OSI模型第2层）工作，利用MAC地址表智能地将数据帧发送到目标设备的端口。高端交换机也支持网络层（第3层）功能，如VLAN和路由。</p>
</li>
</ol>
</li>
<li><p>路由器（Router）</p>
<ol>
<li><p>功能: 路由器用于连接不同的网络（如LAN与WAN），并在它们之间转发数据包。它是互联网连接的核心设备。</p>
</li>
<li><p>工作方式: 在网络层（OSI模型第3层）工作，根据IP地址进行数据包的路由选择。可以执行更复杂的任务，如NAT（网络地址转换）、防火墙功能和VPN支持。</p>
</li>
</ol>
</li>
</ol>
<ul>
<li>注：高层设备可以识别底层设备的信号（数据逻辑），反之不行。</li>
</ul>
<h2 id="Data-Packets"><a href="#Data-Packets" class="headerlink" title="Data Packets"></a>Data Packets</h2><ol>
<li><p>为了传输，计算机数据通常被分割成小且易于传输的单元。在OSI模型中，这些单元可以被称为数据包、帧或段。（赛博快递）</p>
</li>
<li><p>为什么使用数据包？</p>
<ol>
<li>计算机可以轮流发送数据包。</li>
<li>如果数据包丢失，只需重新传输少量数据。</li>
<li>数据可以通过不同的路径传输。</li>
</ol>
</li>
<li><p>段放在包中，包放在帧中（段&lt;包&lt;帧）</p>
</li>
<li><p>数据包（Packets）</p>
</li>
</ol>
<ul>
<li><strong>所在层</strong>: 网络层（第3层）</li>
<li><strong>作用</strong>: 数据包是在网络层处理的数据单元，用于在网络间进行路由和传输。它们包含网络层的头部信息，包括源和目的IP地址，用于决定数据的传输路径。</li>
<li>组成:<ul>
<li><strong>头部（Header）</strong>: 包含源IP地址、目的IP地址和其他路由信息。</li>
<li><strong>数据（Payload）</strong>: 传输的数据内容，可能是从传输层传递下来的段。</li>
</ul>
</li>
</ul>
<ol start="2">
<li>帧（Frames）</li>
</ol>
<ul>
<li><strong>所在层</strong>: 数据链路层（第2层）</li>
<li><strong>作用</strong>: 帧是数据链路层的基本传输单元，负责在局域网内的物理传输，包括错误检测和帧的同步。帧通过链路层协议，如以太网，进行局部网络的通信。</li>
<li>组成:<ul>
<li><strong>头部（Header）</strong>: 包含源MAC地址、目的MAC地址等信息，用于确定帧在局域网中的传输路径。</li>
<li><strong>数据（Payload）</strong>: 包含来自网络层的数据包。</li>
<li><strong>尾部（Trailer）</strong>: 包含错误检测信息（如CRC），用于确保数据的完整性。</li>
</ul>
</li>
</ul>
<ol start="3">
<li>段（Segments）</li>
</ol>
<ul>
<li><strong>所在层</strong>: 传输层（第4层）</li>
<li><strong>作用</strong>: 段是在传输层处理的数据单元，用于端到端的传输控制。段负责分割应用层的数据，确保数据的可靠性、顺序和流量控制。</li>
<li>组成:<ul>
<li><strong>头部（Header）</strong>: 包含源端口号、目的端口号、序列号和确认号等信息，用于传输控制。</li>
<li><strong>数据（Payload）</strong>: 包含来自应用层的数据。</li>
</ul>
</li>
</ul>
<h2 id="Bandwidth-Throughput"><a href="#Bandwidth-Throughput" class="headerlink" title="Bandwidth &amp; Throughput"></a>Bandwidth &amp; Throughput</h2><ol>
<li><p>Bandwidth（带宽）：</p>
<ul>
<li><p>带宽是指网络连接或传输介质的最大数据传输能力，即在单位时间内能够传输的最大数据量。</p>
</li>
<li><p>带宽通常以比特每秒（bps）、千比特每秒（Kbps）、兆比特每秒（Mbps）、千兆比特每秒（Gbps）等单位来表示。</p>
</li>
<li><p>可以比喻为高速公路的宽度，决定了能同时通过的车辆（数据包）的最大数量。</p>
<ol start="2">
<li>Throughput（吞吐量）：</li>
</ol>
</li>
<li><p>吞吐量是指实际传输的有效数据量，即单位时间内成功传输的数据量。</p>
</li>
<li><p>吞吐量受多种因素的影响，如网络延迟、丢包率、网络拥塞、协议开销等。</p>
</li>
<li><p>可以比喻为高速公路上实际行驶的车辆数量，往往低于带宽，特别是在存在网络干扰或其他瓶颈时。</p>
</li>
</ul>
<ol start="3">
<li>关系：</li>
</ol>
<ul>
<li>理论上，吞吐量不应超过带宽，它是带宽的实际利用率。</li>
<li>吞吐量受到带宽的限制，但不会等于带宽。即使带宽很高，如果网络条件不好，如高延迟、丢包、网络拥堵等，吞吐量可能会显著低于带宽。</li>
</ul>
</li>
</ol>
<h2 id="一个功能的标准化过程"><a href="#一个功能的标准化过程" class="headerlink" title="一个功能的标准化过程"></a>一个功能的标准化过程</h2><p>个人草案 –&gt; 工作组草案 –&gt; 成为标准</p>
<h2 id="TCP-IP模型"><a href="#TCP-IP模型" class="headerlink" title="TCP&#x2F;IP模型 ***"></a>TCP&#x2F;IP模型 ***</h2><ol>
<li>TCP&#x2F;IP模型只有四层<ol>
<li><p>Application</p>
<ul>
<li>负责处理特定的网络应用程序数据。</li>
<li>包含许多协议，如HTTP（用于网页浏览）、FTP（文件传输）、SMTP（电子邮件传输）、DNS（域名解析）等。</li>
<li>直接与用户进行交互，提供应用服务。</li>
</ul>
</li>
<li><p>Transport</p>
<ul>
<li>负责数据传输可靠性，数据流控制，纠错。</li>
<li>主要协议是TCP（传输控制协议）和UDP（用户数据报协议）。</li>
<li>把Application Layer的数据打包为segments(段)。</li>
</ul>
</li>
<li><p>Internet</p>
<ul>
<li>负责跨网络传输数据包，负责最佳路径和数据包交换。</li>
<li>使用IP协议（例如IPv4或IPv6）来处理路由和寻址。</li>
<li>主要协议：IP</li>
</ul>
</li>
<li><p>Network Access</p>
<ul>
<li><p>也被称为 host-to-network layer.</p>
</li>
<li><p>负责在本地网络中传输数据。</p>
</li>
<li><p>包含物理网络接口，如以太网、Wi-Fi等。</p>
</li>
<li><p>处理数据帧的发送和接收，并管理MAC地址。</p>
</li>
</ul>
</li>
</ol>
</li>
</ol>
<h2 id="拓扑结构"><a href="#拓扑结构" class="headerlink" title="拓扑结构 ***"></a>拓扑结构 ***</h2><ol>
<li>定义了互联网的结构类型</li>
<li>物理拓扑：如bus（总线型）, star（星型）, ring（环形）, extended star（拓展星型）, hierarchical（分层拓扑）, mesh（网型）</li>
</ol>
<h2 id="终端设备"><a href="#终端设备" class="headerlink" title="终端设备 ***"></a>终端设备 ***</h2><h3 id="第一层"><a href="#第一层" class="headerlink" title="第一层"></a>第一层</h3><ol>
<li>Media</li>
</ol>
<p>即介质（线路）。把零一序列转化为介质的信号来传输。</p>
<ol start="2">
<li>Repeater</li>
</ol>
<p>中继器。</p>
<p>一对一的</p>
<ol start="3">
<li>hub</li>
</ol>
<p>集线器。广播型的</p>
<ol>
<li>物理上是星型，逻辑上是总线型</li>
<li>放大型号并转发，和中继器相比就是能连接多个端口</li>
<li>因为逻辑上是总线型，就可能会产生冲突。把冲突的区域称为冲突域。但是冲突域的管理不由hub管理。</li>
</ol>
<h3 id="第二层"><a href="#第二层" class="headerlink" title="第二层"></a>第二层</h3><p>特点：能够把比特流结构化成帧。流量的管理与控制工作。</p>
<ol>
<li><p>NIC</p>
<ol>
<li>作用：把host连接至网络</li>
<li>每个NIC都有一个MAC地址</li>
<li>计算机中母线是并行通讯，网线却是串行通讯。NIC要切换信息的并串型。</li>
<li>NIC不仅在终端上有，线路上也会有。</li>
<li>“只要是把信息接入介质，都需要网卡</li>
</ol>
</li>
<li><p>MAC</p>
</li>
</ol>
<p>MAC（Media Access Control，媒体访问控制）地址是用于标识网络设备的硬件地址。它是网络接口卡（NIC）在链路层使用的唯一标识符，常用于局域网（LAN）中的数据链路层通信。</p>
<ol start="3">
<li><p>bridges</p>
<ol>
<li><p>有两个端口，会根据设备的mac地址把网络分为两个分段，生成地址表（MacTable)。如果发现目的地址不在本端，就会转发信号，反之不会。</p>
</li>
<li><p>把网络分成了两个冲突域。</p>
</li>
</ol>
</li>
<li><p>switch</p>
<ol>
<li><p>结合了hub和bridge的功能。</p>
</li>
<li><p>可以隔离冲突域(collision)，不能隔离广播域(broadcast)</p>
</li>
<li><p>当一台主机发送消息到交换机上的另一台主机时，交换机将接受并解码帧，以读取消息的物理 (MAC) 地址部分。</p>
</li>
<li><ul>
<li><p>交换机上含有一个 MAC 地址表，其中列出了包含所有活动端口以及与交换机相连主机的 MAC 地址。当消息在主机之间发送时，交换机将检查该表中是否存在目的 MAC 地址。</p>
</li>
<li><p>如果存在，交换机就会在源端口与目的端口之间创建一个临时连接，称为电路、虚电。这一新电路为两台主机的通信提供一个专用通道。</p>
</li>
<li><p>如果目的 MAC 地址不在表中，交换机就没有创建电路所需的信息。当交换机无法确定目的主机的位置时，就会采用“泛洪”处理方式将消息转发到所有连接的主机。</p>
</li>
</ul>
</li>
<li><p>新主机的 MAC 地址如何进入 MAC 地址表？交换机检查主机之间发送的每个帧的源 MAC 地址，然后创建 MAC 地址表。当新主机发送消息或响应“泛洪”式消息时，交换机就会立即获取其 MAC 地址及其连接的端口。交换机每次读取新的源 MAC 地址时，地址表都会自动更新。</p>
</li>
<li><p>对于每一个端口来说，交换机的功能和网桥是一样的。</p>
</li>
</ol>
</li>
</ol>
<h3 id="第三层"><a href="#第三层" class="headerlink" title="第三层"></a>第三层</h3><ol>
<li>router<ol>
<li>基于IP地址做网段分逻辑划分。路由器可以做</li>
<li>报文识别，路径选择，报文转发。</li>
</ol>
</li>
</ol>
<h1 id="第一章-·-物理层"><a href="#第一章-·-物理层" class="headerlink" title="第一章 · 物理层"></a>第一章 · 物理层</h1><h2 id="名词解释-1"><a href="#名词解释-1" class="headerlink" title="名词解释"></a>名词解释</h2><ol>
<li>STP &#x2F; UTP(有屏蔽双绞线Shielded Twisted Pair &#x2F; 无屏蔽双绞线Unshielded Twisted Pair)</li>
<li>coaxial</li>
<li>fiber-optics</li>
<li></li>
</ol>
<h2 id="Type-of-Network"><a href="#Type-of-Network" class="headerlink" title="Type of Network"></a>Type of Network</h2><ol>
<li>多路复用，共享介质（Multiple Access, Shared Media)</li>
<li>点对点(Point-to-Point)</li>
</ol>
<h2 id="LAN-Media"><a href="#LAN-Media" class="headerlink" title="LAN Media"></a>LAN Media</h2><p>传输方式：</p>
<ul>
<li>电信号</li>
<li>光信号</li>
<li>电磁波</li>
</ul>
<h3 id="有线传输"><a href="#有线传输" class="headerlink" title="有线传输"></a>有线传输</h3><ol>
<li>UTP（无屏蔽双绞线，Unshielded Twisted Pair)：<ol>
<li>八根子线，两个一对。</li>
<li>优点：<ul>
<li>易部署</li>
<li>低成本</li>
</ul>
</li>
<li>缺点：<ul>
<li>容易受到电磁波干扰</li>
<li>电信号损失快，传输距离较短。一般认为传输距离是100米。</li>
</ul>
</li>
</ol>
</li>
<li>Coaxial(同轴电缆)：<ol>
<li>结构：从内向外是铜线，绝缘膜，金属网，塑料套。</li>
<li>传输距离一般认为是500米。</li>
<li>成本介于双绞线和光缆之间。</li>
</ol>
</li>
<li>Fiber-Optics(光缆)<ol>
<li>结构：从内向外是二氧化硅，塑料套。接口分为两部分，一个接收，一个发送。</li>
<li>传输距离为公里级，但是成本高。</li>
<li>分类<ol>
<li>Single Mode(单模)：<ul>
<li>光导体很细，可以认为光在其中几乎没有反射，所以损失较慢，传输距离远。一般用于广域网。</li>
</ul>
</li>
<li>Multimode(多模)：<ul>
<li>光导体较粗，可以根据射入角度不同，同时传输多路信号。信号损失较快。</li>
</ul>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="无线传输"><a href="#无线传输" class="headerlink" title="无线传输"></a>无线传输</h3><p>分类：陆生（利用基站），卫星（如GPS）。</p>
<ol>
<li>激光：通讯双方约定好通讯方案和频率范围。中间要求无遮挡。</li>
<li>红外：成本较低，不能跨障碍物。</li>
<li>无线电波：可以衍射（跨障碍物）。易受干扰（如在雨天，大功率设备旁）。</li>
</ol>
<h2 id="Category-of-UTP"><a href="#Category-of-UTP" class="headerlink" title="Category of UTP"></a>Category of UTP</h2><ul>
<li>一到七类线加超五类线。</li>
<li>从三类线开始出现以太网</li>
<li>从五类线开始以太网达到百兆<ul>
<li>五类线相比于三类线具有更高的绞合度</li>
</ul>
</li>
<li>超五类线达到千兆，现在很常用</li>
<li>六类线性能高于超五类线</li>
</ul>
<h2 id="Catrgory-og-Cable"><a href="#Catrgory-og-Cable" class="headerlink" title="Catrgory og Cable"></a>Catrgory og Cable</h2><ol>
<li>Staight Cable(直通线)<ol>
<li><p>有八根子线，每根子线有不同颜色，不同规格标准的配色不同。(记住颜色，配对和型号)</p>
<p>![屏幕截图 2024-09-23 222304](C:\Users\HUAWEI\Pictures\Screenshots\屏幕截图 2024-09-23 222304.png)</p>
<ul>
<li>T568A和T568B的区别在于pair2和pair3换位置了。</li>
</ul>
</li>
<li><p>如果一根线的两段都是T568A或都是T568B，则为直通线。</p>
</li>
<li><p>路由器和交换机，交换机和终端之间用直通线连接。</p>
</li>
</ol>
</li>
<li>Rollover Cable(反转线)：<ol>
<li>别名：console cable</li>
<li>两段的子线排列是反的。1对8，2对7，等等。</li>
<li>路由器如果和终端直接连接，则用反转线。</li>
</ol>
</li>
<li>Cross-over Cable（交叉线）：<ol>
<li>两个相同的设备之间用交叉线。</li>
<li>特点是一端是T568A，另一端是T568B。和直通线相对。</li>
</ol>
</li>
</ol>
<h2 id="信号传输的问题"><a href="#信号传输的问题" class="headerlink" title="信号传输的问题"></a>信号传输的问题</h2><ol>
<li><p>一般</p>
<ol>
<li>衰竭</li>
<li>反射</li>
<li>电磁干扰（噪声）</li>
<li>散射</li>
<li>抖动（不同步）</li>
<li>延时</li>
</ol>
</li>
<li><p>冲突和冲突域</p>
<ol>
<li>冲突会影响数据传输</li>
<li>repeater和hub会使得冲突域变大</li>
<li>bridge和switch和router能控制冲突域。</li>
<li>bridge和switch虽然将网络分段，不代表分成多个局域网。router才可以划分局域网。</li>
</ol>
</li>
</ol>
<h2 id="数据传输"><a href="#数据传输" class="headerlink" title="数据传输"></a>数据传输</h2><h3 id="基本术语"><a href="#基本术语" class="headerlink" title="基本术语"></a>基本术语</h3><ol>
<li>信号：数据的电气或电磁的表现。<ol>
<li>模拟的：参数的取值是连续的。模拟信号是随时间变化而平稳变化的连续波形式</li>
<li>数字的：参数的取值是离散的，包含了有限种可能的预设值。</li>
</ol>
</li>
<li>码元：在使用时间域（或称时域）的波形表示数字信号时，代表不同离数值的基本波形。<ul>
<li>理解：用波形来表示信息。想要在一个时域内传输3个bit，码元就应该为2^3 &#x3D; 8。每个波形表示一种取值。</li>
</ul>
</li>
<li><strong>电平数量</strong>指信号所支持的电平数，即逻辑状态的种类。</li>
</ol>
<h3 id="理论基础"><a href="#理论基础" class="headerlink" title="理论基础"></a>理论基础</h3><ol>
<li><p>信号分类</p>
<ol>
<li>简单信号：正（余）弦波</li>
<li>复合信号的分解：傅里叶分析</li>
</ol>
</li>
<li><p>信号处理</p>
<ol>
<li><p>数字信号通常在传输介质上表现为方波。可以用无穷多个谐波来拟合。</p>
</li>
<li><p>码元传输速率越高，传输距离越远，信号畸变越严重</p>
</li>
<li><p>传输速率的理论上限（无噪声干扰）：<br>$$<br>C&#x3D;W·log_2L （W为带宽（单位：Hz），L为信号电平数量）<br>$$</p>
</li>
<li><p>噪声信道的最高传输速率（香农公式）：<br>$$<br>C&#x3D;W·log_2(1+\frac{S}{N})<br>（W为带宽，S为信号的平均功率，N为平均高斯噪声功率）<br>$$</p>
<ul>
<li>带宽和信噪比越大，极限越高</li>
<li>注意，即使带宽、信噪比和码元速率已经确定，仍然可以提高信号传输速率，依靠编码让每个码元的识别率更大，从而携带更多的比特数。</li>
</ul>
</li>
</ol>
</li>
<li><p>波特率和比特率</p>
<ol>
<li>波特率：每秒波形的变化次数</li>
<li>比特率：每秒传送的二进制位数</li>
</ol>
</li>
<li><p>数据通信系统的模型</p>
<p>![屏幕截图 2024-09-23 225726](C:\Users\HUAWEI\Pictures\Screenshots\屏幕截图 2024-09-23 225726.png)</p>
</li>
</ol>
<h2 id="编码（encoding）"><a href="#编码（encoding）" class="headerlink" title="编码（encoding）***"></a>编码（encoding）***</h2><ul>
<li>把数字信号转换成物理信号的过程。</li>
<li>基带：基本频带，之传输变换前所占用的频带，是原始信号所固有的频带。数字信号一般属于基带信号。基带信号往往具有低频成分，甚至有直流成分，导致许多信道不能直接传输的，需要调频。</li>
<li>调制：把数字信号转换到模拟信号。</li>
</ul>
<ol>
<li><p>单极性编码 ***<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241211171801260.png" alt="image-20241211171801260"></p>
<ol>
<li>原理：用0电平表示“0”，用正电平表示“1”。</li>
<li>缺点：<ol>
<li>难以分辨每个信号的开始和结束</li>
<li>必须时钟同步</li>
<li>若信号中“0”或“1”连续出现，信号直流分量将累加，直流问题严重</li>
</ol>
</li>
<li>结论：容易产生传播错误</li>
</ol>
</li>
<li><p>极化编码——不归零制码（NRZ）</p>
<ol>
<li><p>不归零电平编码<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241211171842572.png" alt="image-20241211171842572"></p>
<ol>
<li><p>原理：负电平表示“0”，正电平表示“1”</p>
</li>
<li><p>缺点：和单极性编码一样</p>
</li>
</ol>
</li>
<li><p>不归零反相编码<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241211171856668.png" alt="image-20241211171856668"></p>
<ol>
<li>原理：电平翻转表示“1”，不变化表示“0”</li>
<li>稍微缓解了电荷累加导致直流的问题</li>
</ol>
</li>
</ol>
</li>
<li><p>极化编码——归零编码（RZ）<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241211171941111.png" alt="image-20241211171941111"></p>
<ol>
<li>原理：负电平表示“0”，正电平表示“1”，比特中位跳变到零电平。</li>
</ol>
</li>
<li><p>极化编码——曼彻斯特码 ***<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241211172112011.png" alt="image-20241211172112011"></p>
<ol>
<li><p>原理：每一位中间都会有一个跳变，从低到高表示“0”，从高到低表示“1”</p>
</li>
<li><p>优势：</p>
<ol>
<li><p>每一位中间的跳变既可以作为数据，又可以作为时钟，能够自同步。</p>
</li>
<li><p>只采用两个电平，跳变相对于RZ码少，效率更高</p>
</li>
<li><p>每次跳变都自中和，不会导致电荷积累。</p>
</li>
</ol>
</li>
</ol>
</li>
<li><p>极化编码——差分曼彻斯特码 ***![屏幕截图 2024-12-11 172227](C:\Users\HUAWEI\Pictures\Screenshots\屏幕截图 2024-12-11 172227.png)</p>
<ol>
<li>原理：<ul>
<li>每一位中间跳变：表示时钟</li>
<li>每一位位前跳变：表示数据<ul>
<li>有跳变表示“0”，无跳变表示“1”</li>
</ul>
</li>
</ul>
</li>
<li>优势：<ol>
<li>时钟和数据分离，便于提取</li>
</ol>
</li>
</ol>
</li>
<li><p>双极性编码——双极性传号交替反转码（AMI）<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241211172556233.png" alt="image-20241211172556233"></p>
<ol>
<li>原理：采用三个电平：零电平表示“0”，正负电平的跃迁表示“1”，实现对“1”电平的交替反转。</li>
<li>优点：<ul>
<li>“1”的正负交替，使得直流分量为零。</li>
<li>虽然连续的“0”不能同步，但连续的“1”可以同步</li>
</ul>
</li>
</ol>
</li>
</ol>
<h2 id="多路复用"><a href="#多路复用" class="headerlink" title="多路复用"></a>多路复用</h2><ul>
<li>由于一条传输路线的能力远远超过传输一个用户信号所需的能力，<strong>为了提高线路利用率，经常让多个信号共用一条物理线路</strong></li>
<li>信号 –&gt; 复用器 –&gt; 信道 –&gt; 分解器 –&gt; 信号</li>
<li>注：频率带宽和速度带宽<ul>
<li>频率带宽‌：主要描述的是信号的频率范围，即信号中所包含的最高频率和最低频率之间的差异。在通信领域，频率带宽指的是信道能够传输的频率范围，这个范围越大，信道的容量越大，意味着可以传输更多的信息。</li>
<li>速度带宽‌：更多关联于数据的传输速率，即单位时间内能够传输的数据量。在数字设备中，带宽通常用bps（bits per second）来表示，即每秒可传输的位数。速度带宽可以理解为网络的传输速度，即网络中信号从发送节点到达接收节点的速度，或者网络的每秒中能传输的数据位的能力‌。</li>
<li>频率带宽关注的是信号的频率响应能力，而速度带宽关注的是数据的传输速率‌。</li>
</ul>
</li>
</ul>
<ol>
<li><p>时分复用（TDM，Time DIvision Multiplexing)</p>
<ol>
<li><p>原理： </p>
<ul>
<li><strong>将时间等分为时分复用帧，每个用户在每个TDM帧中占用固定序号的时隙</strong>。</li>
<li><strong>每个用户所占用的时隙周期性出现</strong></li>
<li><strong>所有用户在不同时间占用同样的频带宽度</strong></li>
</ul>
</li>
<li><p>缺点：造成浪费。可能某个用户在某个时隙里没有数据。</p>
</li>
<li><p>改进：统计时分复用（STDM，Statistic TDM）：</p>
<ul>
<li><p>不再固定的把时间分出去，而是谁先来就先服务谁。</p>
</li>
<li><p>因为时隙不固定，所以每个子帧必须带有自己的身份信息。</p>
</li>
<li><p>效率降低了，但是资源利用率提高了</p>
</li>
</ul>
</li>
</ol>
</li>
<li><p>频分复用（FDM，Frrquency Division Multiplexing）</p>
<ol>
<li>原理：<ul>
<li>用户在分到一定的频带后，就使用占用这个频带</li>
<li>所有用户在1相同时间占用不同的带宽资源（带宽指频率带宽）</li>
</ul>
</li>
</ol>
</li>
<li><p>波分复用（WDM，Wavelength D M）</p>
<ul>
<li>实际上就是频分复用的光传输场景</li>
<li>把光分为不同波长</li>
</ul>
</li>
<li><p>码分复用（CDM，Code D M)</p>
<ol>
<li>又称码分多址</li>
<li>原理：传输信号时采用相同的频率，不同的编码。各用户使用挑选过的不同码型，要求编码相互正交，也就是互不影响。</li>
<li>优势：<ul>
<li>抗干扰能力强</li>
<li>频谱类似于白噪音，不易被敌人发现。</li>
</ul>
</li>
</ol>
</li>
</ol>
<h1 id="第二章-·-数据链路层"><a href="#第二章-·-数据链路层" class="headerlink" title="第二章 · 数据链路层"></a>第二章 · 数据链路层</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ol>
<li>形成数据帧，对上层提供的数据封装，然后传输。</li>
<li>能够校验帧是否正确。</li>
<li>不能跨链路。</li>
<li>在数据链路层，”procedure” &#x3D; “protocol”</li>
<li>主要任务：<ol>
<li>校验，即错误识别</li>
<li>网络拓扑控制</li>
<li>节点之间流的控制</li>
</ol>
</li>
<li>与物理层的区别：<ol>
<li>Layer 1不能与上层交流；Layer 2 通过LLC(Logical Link Control)与上层交流</li>
<li>如果是总线拓扑，Layer 1 无法识别主机和接受机，Layer 2 通过MAC(Media Access Control)控制</li>
<li>Layer 1 不能组织发出的数据，Layer 2 组织为帧</li>
</ol>
</li>
</ol>
<h3 id="第二层提供的服务"><a href="#第二层提供的服务" class="headerlink" title="第二层提供的服务"></a>第二层提供的服务</h3><ol>
<li>通讯之前没有确认连接关系，而且通讯无确认（数据发出去就不管了），应用场景：<ul>
<li>多用在局域网</li>
<li>可靠的链路</li>
<li>对于实时的任务</li>
</ul>
</li>
<li>通讯之前没有确认连接关系，且通讯有确认。可用于不太可靠的链接，如无线网络。这样做效率降低了，因为需要确认。</li>
<li>面向连接的，需要确认连接关系，且通讯要确认。如蓝牙连接。</li>
</ol>
<h3 id="MAC（介质访问控制）的标准"><a href="#MAC（介质访问控制）的标准" class="headerlink" title="MAC（介质访问控制）的标准"></a>MAC（介质访问控制）的标准</h3><h4 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h4><ol>
<li>Ethernet（以太网）：逻辑上是总线型，物理上是星型或拓展星型。</li>
<li>Token Ring：逻辑上是环形，物理上是星型。</li>
<li>FDDI：逻辑上是环形，物理上是双环形。</li>
</ol>
<h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><ol>
<li>Deterministic——taking turns：Token Ring 和 FDDI。终端形成令牌环网，依次获得令牌。发送数据，有顺序发送。</li>
<li>Non-deterministic——first come, first served：Ethernet。无顺序，谁先到谁先用。<ol>
<li><strong>CSMA&#x2F;CD（Carrier Sense Multiple Access with Collision Detection）</strong>*** ：用这个解决方案来避免冲突。</li>
</ol>
</li>
</ol>
<h3 id="局域网通讯的分类"><a href="#局域网通讯的分类" class="headerlink" title="局域网通讯的分类"></a>局域网通讯的分类</h3><ol>
<li>单播（unicast)：点对点</li>
<li>组播（multicast）：一个节点发给一组特定的节点。</li>
<li>广播（broadcast）：一个节点给所有节点</li>
</ol>
<h2 id="以太网规范"><a href="#以太网规范" class="headerlink" title="以太网规范"></a>以太网规范</h2><h3 id="局域网标准"><a href="#局域网标准" class="headerlink" title="局域网标准"></a>局域网标准</h3><ol>
<li>任务：<ol>
<li>局域网由一个单位控制，决定了物理介质来无线组网并控制连接。</li>
<li>定义了数据链路层帧的规范</li>
<li>第二层约定如何利用介质来传输数据，同时避免冲突</li>
<li>第二层开始对上层服务，处理上层的要求</li>
</ol>
</li>
<li>两个子层的方案：<ol>
<li>Media Access Control(MAC)：不同介质，不同网线的访问</li>
<li>Logic Link Control(LLC)：有关链路服务</li>
</ol>
</li>
</ol>
<h3 id="帧结构规范（MAC子层）"><a href="#帧结构规范（MAC子层）" class="headerlink" title="帧结构规范（MAC子层）"></a>帧结构规范（MAC子层）</h3><ol>
<li>以字节为单位做帧的表述</li>
<li>结构：<ol>
<li>前导码(Preamble)（8字节）：给一个缓冲，让接收方知道有一个帧要过来了。前导码为10101011。</li>
<li>MAC地址(Dest.add. Source add.)(6+6&#x3D;12字节)：<ol>
<li>6字节目的地址，后接6字节发送地址。</li>
<li>目的方可能是单播，组播和广播（111111），发送方总是单播</li>
</ol>
</li>
<li>长度(Length)（2字节）：<ul>
<li>数据段的长度，2字节。</li>
<li>要求Length的范围是46~1500字节，保证整个帧除了前导段的长度最小为64，最长为1518.</li>
<li>在以太网二(Ethernet 2)种，用类型（Type）替代长度，Type可以指定数据类型是IP还是IPX，所以这样也可以确认长度。</li>
</ul>
</li>
<li>数据(Data)</li>
<li>FCS(循环冗余校验)（<strong>FCS（Frame Check Sequence）是循环冗余校验（CRC）</strong>）（4字节）：接收方用于校验</li>
</ol>
</li>
</ol>
<p>![屏幕截图 2024-09-30 091038](C:\Users\HUAWEI\Pictures\Screenshots\屏幕截图 2024-09-30 091038.png)</p>
<h3 id="LLC子层"><a href="#LLC子层" class="headerlink" title="LLC子层"></a>LLC子层</h3><p>![屏幕截图 2024-09-30 091749](C:\Users\HUAWEI\Pictures\Screenshots\屏幕截图 2024-09-30 091749.png)</p>
<ul>
<li>LLC放在帧的数据部分，放在包的前面</li>
<li>基于SAP（Service Access Point）识别地址</li>
</ul>
<h2 id="CSMA-CD"><a href="#CSMA-CD" class="headerlink" title="CSMA&#x2F;CD"></a>CSMA&#x2F;CD</h2><ol>
<li>MAC地址：48位标准，烧在网卡芯片上的。用十二个十六进制位表示<ol>
<li>OUI标准下，第一位有意义：0代表单播，1代表组播或广播</li>
<li>第二位：0代表全球唯一设备，1表示地区唯一地址</li>
<li>广播地址为全一，即12个F。</li>
</ol>
</li>
<li>以太网操作原理<ol>
<li>拓扑方式：总线拓扑。</li>
<li>传输的一些细节：<ol>
<li>所以当A发送信号给D时，B,C都会收到电信号。此时会检查信号的MAC地址，若不是自己的，则丢弃。</li>
<li>监听信号，避免冲突</li>
<li>若发生冲突，接收方会广播一个Jam Signal，全一信号，这样会让其他准备发送数据的设备回退一个时间</li>
</ol>
</li>
<li>流程：![屏幕截图 2024-09-30 094626](C:\Users\HUAWEI\Pictures\Screenshots\屏幕截图 2024-09-30 094626.png)</li>
</ol>
</li>
</ol>
<h2 id="无线局域网"><a href="#无线局域网" class="headerlink" title="无线局域网"></a>无线局域网</h2><ol>
<li>分类：<ol>
<li>有基础固定设施的无线网络：预先设下基站，覆盖一定范围，有距离限制</li>
<li>无基础设施的拓扑网络：自组网络（？）</li>
</ol>
</li>
<li>无线通讯是有确认的</li>
</ol>
<h3 id="标准"><a href="#标准" class="headerlink" title="标准"></a>标准</h3><ol>
<li>IEEE 802.11<ol>
<li>拓扑方式：星型拓扑，以基站为中心节点</li>
<li>直接序列扩频技术（DSSS，Direct Sequence Spread Spectrum）</li>
<li>又叫Wi-Fi</li>
</ol>
</li>
<li>IEEE 802.11b<ol>
<li>速度可达11Mbps</li>
<li>工作频率在2.4GHz</li>
</ol>
</li>
<li>IEEE 802.11a<ol>
<li>正交频率复用技术</li>
<li>工作功率在5GHz</li>
</ol>
</li>
<li>IEEE 802.11g</li>
<li>IEEE 802.11n<ol>
<li>速度可达500Mbps</li>
</ol>
</li>
</ol>
<h3 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h3><ol>
<li>有基础设施的无线网络结构![屏幕截图 2024-10-11 024154](C:\Users\HUAWEI\Pictures\Screenshots\屏幕截图 2024-10-11 024154.png)<ol>
<li>星型拓扑</li>
<li>基本服务集（BSS）：主机和AP的连接。服务于多个无线网设备，每个AP都有一个IP</li>
<li>扩展服务集（ESS）：多个BSS通过分配系统（DS）相连，组成ESS。</li>
<li>scanning：<ul>
<li>一个移动客户端要加入BSS就要和AP建立连接关系，即”associate”，需要建立虚拟连接线路。有两种做法：<ol>
<li>Active Scanning：<ol>
<li>设备发出请求帧。请求帧包含SSID信息。</li>
<li>AP收到SSID的信息后，AP进行————</li>
<li>身份确认后建立连接</li>
</ol>
</li>
<li>Passive Scanning：<ol>
<li>AP周期性地发送信标帧，包含SSID信息</li>
<li>移动设备可以选择加入以建立连接关系</li>
</ol>
</li>
</ol>
</li>
</ul>
</li>
</ol>
</li>
</ol>
<h3 id="无线局域网的帧"><a href="#无线局域网的帧" class="headerlink" title="无线局域网的帧"></a>无线局域网的帧</h3><ol>
<li>与Ether的802.3不一样，WLAN用的802.11</li>
<li>有三种帧：<ul>
<li>控制帧</li>
<li>管理帧</li>
<li>数据帧</li>
</ul>
</li>
<li>一个Ether的帧不能超过1518字节，但是WLAN的帧上限可以达到2346字节。</li>
<li>结构：![屏幕截图 2024-10-11 030557](C:\Users\HUAWEI\Pictures\Screenshots\屏幕截图 2024-10-11 030557.png)<ol>
<li>帧控制（2字节）：16位继续分段，各有意义。</li>
<li>持续期（2字节）</li>
<li>地址1,2,3（6*3&#x3D;18字节）：有基础设施链接时用。</li>
<li>序号控制（2字节）：无线连接是有确认的，用这个字段来控制。</li>
<li>地址4（6字节）：用于自组网络（无线设备之间直接连接）</li>
<li>帧主体</li>
<li>FCS（4字节）</li>
<li>![屏幕截图 2024-10-11 031402](C:\Users\HUAWEI\Pictures\Screenshots\屏幕截图 2024-10-11 031402.png)</li>
</ol>
</li>
</ol>
<h2 id="CSMA-CA"><a href="#CSMA-CA" class="headerlink" title="CSMA&#x2F;CA"></a>CSMA&#x2F;CA</h2><ol>
<li><p>为什么不用CSMA&#x2F;CD：</p>
<ol>
<li>Hidden Station Problem：基站只能服务周围的设备，监听不到远处的信号，可能导致两个基站的信息同时到达某个设备，造成冲突。</li>
<li>Exposed Station Probilem：当A,B在基站X内，B,C在基站Y内，当X向A发送时，Y为了避免冲突就不向C发送信息了。但事实上本是不会冲突的。</li>
</ol>
</li>
<li><p>Ether和WLAN的多路复用机制对比：</p>
<ol>
<li><p>Ether所有节点都可以收到线路上的信号，WLAN不行，有距离限制。</p>
</li>
<li><p>Ether通过发送节点信息来监听冲突，WLAN做不到</p>
</li>
<li><p>Ether同时只能有一路信号传输，WLAN有多路</p>
</li>
</ol>
</li>
<li><p>CSMA&#x2F;CA</p>
<ul>
<li>时间控制来避免冲突<ol>
<li>发送站点在发送数据前，以控制短帧刺激接受站点发送应答短帧，使接受站点周围的站点监听到该帧，从而在一定时间内避免数据发送</li>
<li>过程：<ol>
<li>A向B发送RTS（Request To Send）帧，A周围的站点在一定时间内部发送数据，以保证CTS帧返回给A</li>
<li>B向A发送CTS（Clear To Send）帧，B周围的站点在一定时间内不发送数据，以保证A发送完整数据。</li>
<li>A开始发送</li>
<li>若RTS或CTS发生冲突，采用二进制质数后退算法等待随机事件，再重新开始。</li>
</ol>
</li>
</ol>
</li>
</ul>
</li>
</ol>
<p>![屏幕截图 2024-10-14 084317](C:\Users\HUAWEI\Pictures\Screenshots\屏幕截图 2024-10-14 084317.png)</p>
<ol start="3">
<li>问题：<ol>
<li>由于有应答过程，实际带宽是理想带宽的50%。</li>
</ol>
</li>
</ol>
<h2 id="第二层设备"><a href="#第二层设备" class="headerlink" title="第二层设备"></a>第二层设备</h2><ol>
<li>网卡</li>
<li>网桥：<ol>
<li>工作原理补充<ol>
<li>计时与刷新：网桥每个一段时间就会刷新一次，重新看看连接的MAC地址，以适应动态网络拓扑。</li>
</ol>
</li>
<li>限制：<ol>
<li>收到一个没被记录的MAC地址，则会把它广播到全局。可能导致网络延时，传输降速，资源浪费，性能下降</li>
</ol>
</li>
</ol>
</li>
<li>交换机<ol>
<li>功能<ol>
<li>帧转发</li>
<li>MAC表的生成和维护，包括MAC回路的处理</li>
<li>冲突域的隔离</li>
</ol>
</li>
</ol>
</li>
</ol>
<h1 id="第三章-·-网络层"><a href="#第三章-·-网络层" class="headerlink" title="第三章 · 网络层"></a>第三章 · 网络层</h1><h2 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h2><ol>
<li>用IP地址定位主机</li>
<li>功能：<ol>
<li>不同网段（广播域）的通讯</li>
<li>有层次的地址逻辑，和第二层的MAC地址相对</li>
<li>流量控制</li>
<li>屏蔽了的二层的不同帧的类型，统一用IP形成数据报</li>
</ol>
</li>
<li>设备：路由器<ol>
<li>连接不同网段</li>
<li>基于IP地址划分</li>
<li>选择最佳路线</li>
</ol>
</li>
</ol>
<h2 id="IP和数据报"><a href="#IP和数据报" class="headerlink" title="IP和数据报"></a>IP和数据报</h2><ul>
<li>IP是报文里的一部分，每个IP占32bit</li>
</ul>
<ol>
<li><p>报文结构：注意这里的单位是bit，不是字节![屏幕截图 2024-10-18 024313](C:\Users\HUAWEI\Pictures\Screenshots\屏幕截图 2024-10-18 024313.png)</p>
<ol>
<li>首部：报文一定有首部，首部还分为固定部分和可变部分。主要解释固定部分：<ol>
<li>版本（IPv4为4位）</li>
<li>首部长度（4位）：最多表示15个单位长度，一个单位为4字节，所以首部最长为60字节</li>
<li>服务类型（8位）</li>
<li>总长度（16位）：理论上数据报的最大长度为65535字节，但是我们要把数据报放在帧里，所以一般不超过1500字节.</li>
<li>标识（16位）：传输时可能要把报文拆开，为了能够再和上，用标识来确认身份。</li>
<li>标志位（3位）：最高位（DF位）为零表示可以分配，MF为零表示这是最后一个分片</li>
<li>片偏移（13位）：传输不一定是按顺序的，为了合并时顺序不乱，有了片偏移。以8字节为单位计算。所以同时要求子报文的分段要是8的倍数。</li>
<li>生存时间（TTL，Time To Live，8位）：表示报文能通过的路由器数的最大值。</li>
<li>协议（8位）：决定用那种协议处理数据，指出应该将数据交给那个进程去处理。</li>
<li>首部地址校验和（16位）：反码算数求和运算。智能校验首部内容。在接收端的结果为0则保留。</li>
<li>IP地址（32*2&#x3D;64位）：源地址和目的地址。</li>
</ol>
</li>
</ol>
</li>
<li><p>IP地址：</p>
<ol>
<li><p>结构</p>
<ol>
<li><p>32位</p>
</li>
<li><p>写成四个字节分开的形式</p>
</li>
<li><p>分为网络ID和主机ID，一般前面是网络，后面是主机，但不一定是平分</p>
</li>
<li><p>分类</p>
<ul>
<li>用第一个字节的取值范围来区分（实际上就是A类以0开头，B类以10开头，C类是110开头，等）</li>
</ul>
<ol>
<li>A类地址：四个字节为NHHH（N代表网络地址，H代表主机地址）</li>
<li>B类：NNHH</li>
<li>C类：NNNH</li>
</ol>
</li>
<li><p>规范：</p>
<ol>
<li>主机地址若为全0串，表示网络地址</li>
<li>主机地址若为全1串，表示广播地址</li>
<li>使得每个类型的可表示主机数量应该减2.</li>
<li>保留网段：只会在局域网内部使用，不会转发到互联网<ol>
<li>10.xxx.xxx.xxx</li>
<li>172.16.xxx.xxx</li>
<li>192.168.xxx.xxx</li>
</ol>
</li>
<li>172.16.2.1&#x2F;23：后面的&#x2F;23是子网掩码，表示前23位全1。</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="子网"><a href="#子网" class="headerlink" title="子网"></a>子网</h2><ol>
<li><p>概述</p>
<ol>
<li><p>从host段中借出几位来作为子网段</p>
</li>
<li><p>子网之间也是不同的网段，和网络地址一个标准。即使在同一个网段，之间不能广播。</p>
</li>
<li><p>借位：</p>
<ul>
<li>最少2位。因为子网段也不能全1或全0。</li>
</ul>
<ol>
<li>A类：最多22位</li>
<li>B类：最多14位</li>
<li>C类：最多6位</li>
</ol>
</li>
<li><p>子网划分的优缺点：优点是增加了划分的灵活性，缺点是会有浪费</p>
</li>
</ol>
</li>
<li><p>掩码：</p>
<ol>
<li>和母网的掩码不一样，母网的主机地址部分全零，但是子网不是。</li>
<li>把掩码和IP地址做与运算，可以得到对应的网络地址</li>
</ol>
</li>
</ol>
<h2 id="路由转发"><a href="#路由转发" class="headerlink" title="路由转发"></a>路由转发</h2><ol>
<li>路由器每个端口都有网卡，要配一个和端口相同网络地址的地址。不同端口是不同网段。<ol>
<li>A1向B5发送报文，报文中的目的地址IP是B5的，但是形成的帧的目的地址却是路由器的A端口。因为A1和B5不在同一个网段，B5的MAC地址对A!来说是无意义的。同理，B5收到的帧的源地址是B端口的地址。</li>
<li>其实就是默认网关</li>
</ol>
</li>
<li>地址分配：<ol>
<li>静态地址分配：</li>
<li>动态地址分配：DHCP、RARP</li>
</ol>
</li>
</ol>
<h2 id="ARP协议、网关"><a href="#ARP协议、网关" class="headerlink" title="ARP协议、网关"></a>ARP协议、网关</h2><ul>
<li>知道IP地址，但是不知道MAC地址。</li>
</ul>
<ol>
<li>APR缓存<ol>
<li>主机或设备都会在RAM中存储IP地址，称为ARP Table。但是如果长时间不刷新、激活的话，会被删除。如果目的地在ARP Table中，则转发数据，否则，进入ARP Request。</li>
</ol>
</li>
<li>APR Request<ol>
<li>流程：<ol>
<li>request：A把目的MAC设为全一（广播地址），发给所有设备。</li>
<li>Checking：接收方检查报文中的IP地址，若不是自己就丢弃，若是则进入下一步。</li>
<li>Reply：目的主机B发送一个报文给发送方A。因为帧中包含了源地址，所以让A知道了B的MAC地址。</li>
<li>Caching：把B的地址写入ARP缓存。然后发送数据。</li>
</ol>
</li>
<li>如果目的主机不在同网段内呢？<ol>
<li>Default Gateway：默认网关<ol>
<li>如果没有配网关，则不能跨网段交流。</li>
<li>默认网关就是所连路由器的端口的IP地址。</li>
</ol>
</li>
<li>ARP代理（Proxy ARP）<ol>
<li>在路由器上启动</li>
<li>主机不必配置默认网关</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="网络层服务"><a href="#网络层服务" class="headerlink" title="网络层服务"></a>网络层服务</h2><ol>
<li>面向连接的网络服务vs虚电路交换<ol>
<li>在发送数据之前，要先建立连接</li>
<li>虚电路交换：建立连接后就完全在这条电路上传输信息，要强于面向连接的，传输更加可靠，保证传输先后关系。</li>
</ol>
</li>
<li>无连接VS.报文交换<ol>
<li>无连接（Connectionless）：<ol>
<li>不需要事先建立连接</li>
<li>把每个数据包分开传输</li>
<li>不用维护上下文</li>
<li>IP就是一个无连接系统</li>
</ol>
</li>
<li>报文交换（Packet switching）<ol>
<li>把原始报文分成多个报文，每个报文独立发送，可以走不同路径，乱序到达。</li>
<li>当某个数据包传输失败，只需要重传这个数据包就好了</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="网络协议操作"><a href="#网络协议操作" class="headerlink" title="网络协议操作"></a>网络协议操作</h2><ol>
<li>Routed protocol 被动可路由协议：<ol>
<li>为网络层提供支持的协议称为路由协议或可路由协议。</li>
<li>IP是网络层协议，因此，它可以通过互联网络进行路由。</li>
</ol>
</li>
<li>Non-routable protocol 不可路由协议<ol>
<li>不可路由协议是不支持第3层的协议。</li>
<li>这些不可路由协议中最常见的是NetBEUI。<ol>
<li>直接根据目的方的地址在局域网中进行生成定位</li>
<li>这个协议不支持第三层，也就是跨局域网是不可以的。</li>
<li>NetBEUI是一种小型，快速且高效的协议，仅限于在一个网段上运行</li>
</ol>
</li>
</ol>
</li>
<li>被动可路由的寻址<ol>
<li>路由器连接三个网段(列出来的是网络号)</li>
<li>将目的主机和掩码进行逻辑AND操作，得到对应的网段</li>
<li>然后请求路由表可以发现E2端口为目的网段</li>
<li>再次将报文封装转发给对应的主机</li>
<li>路由表是存储在内存中的</li>
</ol>
</li>
<li>路由协议的分类<ol>
<li>静态路由：网络管理员在路由器中手动输入路由信息。</li>
<li>动态路由<ol>
<li>路由器可以在运行过程中互相学习信息。</li>
<li>使用路由协议更新路由信息。</li>
<li>RIP, IGRP, EIGRP, OSPF …</li>
<li>人工维护的代价比较大</li>
</ol>
</li>
<li>区别：<ol>
<li>静态路由<ol>
<li>用于隐藏部分网络。安全(不必进行路由表的交换)</li>
<li>测试网络中的特定链接。</li>
<li>用于仅在到达目标网络的路径时维护路由表。</li>
</ol>
</li>
<li>动态路由<ol>
<li>维护路由表。</li>
<li>以路由更新的形式及时分发信息。</li>
<li>依靠路由协议共享知识。</li>
<li>路由器可以调整以适应不断变化的网络状况。</li>
<li>打开后会启动<strong>进程</strong>，按照不同的协议，和网上的不同设备学习信息，然后根据<strong>算法</strong>生成路由表</li>
</ol>
</li>
</ol>
</li>
<li>Routing protocol 主动路由协议(Routing)<ol>
<li>路由协议确定路由协议遵循的到达目的地的路径。</li>
<li>是用来构建路由表的，所以叫做routing</li>
<li>公平、简单、适应变化等特点</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="Routed-and-Routing-Proyocal"><a href="#Routed-and-Routing-Proyocal" class="headerlink" title="Routed  and Routing Proyocal"></a>Routed  and Routing Proyocal</h2><ol>
<li>Routed：在路由器之间运作，保证连接，完成转发</li>
<li>Routing：在路由器之间制路由表，并且路由器彼此之间交换信息，以此实现Routed<ol>
<li>路由表：</li>
<li>动态路由分类<ol>
<li>自治系统：一个逻辑划分出来的系统。</li>
<li>IGP（内部网关协议）：一个自治系统下统一的网络管理规范<ol>
<li>DVP（距离矢量协议，Distance Vector Protocal）：<ol>
<li>特点<ol>
<li>基于邻居的视角获得网络获得拓扑信息。</li>
<li>基于跳数作为选择路径的评判标准</li>
<li>定时交换Routing Table</li>
<li>会生成路由回路</li>
</ol>
</li>
<li>代表：<ol>
<li>RIP（Route Info Prot）<ol>
<li>最受欢迎。(实现算法简单，更加靠谱)</li>
<li>最远可达跳数为15</li>
<li>唯一的指标是跳数。</li>
<li>每30秒广播以更新</li>
<li>产生大量的网络流量。</li>
</ol>
</li>
<li>IGRP<ol>
<li>思科知识产权的。</li>
<li>基于距离矢量的内部网关协议。</li>
<li>IGRP最大跳数为255。</li>
<li>每90秒更新一次。</li>
<li>EIGRP是IGRP的高级版本，它是<strong>混合</strong>路由协议(不全是根据跳数来计算)。</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>LSP（链路状态协议，Link State Protocal）<ol>
<li>特性：<ol>
<li>基于全局，使用SPF算法，以自己为根，通过最短路径优先算法，生成以自己为根的树</li>
<li>基于带宽来计算代价，根据代价来判断路径</li>
<li>触发事件更新信息，链路改变时会更新信息</li>
</ol>
</li>
<li>代表：<ol>
<li>OSPF(Open Shortest Path First)<ol>
<li>最短路径优先协议，是基于链路状态的内部网关协议，消耗CPU和内存。</li>
<li>指标由<strong>带宽</strong>，速度，流量，可靠性和安全性组成，本科阶段只考虑带宽的。</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>EGP（BGP）（外部网关协议）：用于在自治系统之间路由数据包。</li>
</ol>
</li>
</ol>
</li>
<li>Routing protocals dtermine how routed protocals are routed.</li>
</ol>
<h2 id="可变长度子网掩码VLSM-Variable-Length-Subnet-Mask"><a href="#可变长度子网掩码VLSM-Variable-Length-Subnet-Mask" class="headerlink" title="可变长度子网掩码VLSM(Variable Length Subnet Mask)"></a>可变长度子网掩码VLSM(Variable Length Subnet Mask)</h2><ol>
<li>经典路由(Classful routing) 无子网掩码<ol>
<li>有类的路由协议要求单个网络使用相同的子网掩码。</li>
<li>例如：网络192.168.187.0必须仅使用一个子网掩码，例如255.255.255.0。</li>
<li>会造成网络号的浪费(为了规格一致，为了保证标准一致，会浪费一些网络号)，比如路由器之间的网络没有必要给很多的hostID。</li>
<li>特定的情况:将路由器端口的掩码作为目的网络的掩码，可以进一步完成细化</li>
</ol>
</li>
<li>VLSM<ol>
<li>作用<ol>
<li>VLSM只是一项功能，它允许单个自治系统的网络具有不同的子网掩码。</li>
<li>有效的解决网络号浪费的问题</li>
<li>使用VLSM，网络管理员可以在主机少的网络上使用长掩码，而在主机多的子网上使用短掩码。(提供了很高的灵活性)</li>
<li>如果路由协议允许VLSM<ol>
<li>在路由网络连接上使用30位子网掩码255.255.255.252</li>
<li>用户网络的24位掩码255.255.255.0</li>
<li>或者，对于最多1000个用户的网络，甚至是22位掩码255.255.252.0。(保留10位)</li>
</ol>
</li>
<li>在CIDR的基础上发展的，报文中包含有子网掩码</li>
<li>实施VLSM通常被称为”子网划分”，可用于最大化寻址效率。</li>
<li>VLSM是有助于缩小IPv4和IPv6之间差距的修改(modifications)之一。</li>
</ol>
</li>
<li>优点：<ol>
<li>高效使用IP地址</li>
<li>更好的路由聚合(aggregation):构建超网</li>
</ol>
</li>
<li>缺点：<ol>
<li>会导致地址空间的浪费:广播地址和网络号都无法被使用。</li>
</ol>
</li>
<li>划分流程：<ol>
<li>先划分大的子网，再划分小的子网。每次划分会剩下一些没有用到的子网，留给后面用。</li>
<li>如果使用了子网中的任何地址，则该子网不能再进行子网划分。</li>
</ol>
</li>
<li>路由聚集(Route Aggregation)<ol>
<li>使用无类域间路由(CIDR，Classless InterDomain Routing)和VLSM不仅可以防止地址浪费，而且还可以促进路由聚合或汇总。</li>
<li>多个路由条目汇聚成小的路由条目</li>
<li>比如如下图就是讲3个&#x2F;24的子网合并成一个&#x2F;16的网络高速远端</li>
<li>优点:聚集之后我们只需要知道一个网段就可以，也就是远端的路由表就会变少<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241111162549494.png" alt="image-20241111162549494"></li>
<li>例子：多层聚集</li>
<li>做法：在网络地址中找到尽可能多的前置位数，作为新的网络位，从必须有差异的地方开始，作为新的主机位</li>
<li>优点：<ol>
<li>减少路由表条目的数量。</li>
<li>可用于隔离拓扑更改(聚集之后，只能得到大的网段的信息，因为小的网段的拓扑变化会比较频繁，导致路由表进行不断地计算，只公告比较高聚集后的路由的网段信息)</li>
</ol>
</li>
<li>注意：<ol>
<li>为了使聚合正常工作，请以分层方式(hierarchical fashion)仔细分配地址，以便汇总的地址将共享相同的高位。</li>
<li>VLSM允许路由聚合，并且通过将聚合完全基于左侧共享的高阶位来灵活地增加，即使网络不连续也是如此。</li>
<li>路由聚集需要严谨，不能让A和B两个端口的聚集后的网络号相同</li>
<li>VLSM是不做连续性检验的，也就是就算不连续也会进行聚集</li>
<li>全0子网会在题目中说是否可用</li>
<li>全1子网尽量不要使用</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="因特网控制报文协议-ICMP"><a href="#因特网控制报文协议-ICMP" class="headerlink" title="因特网控制报文协议 ICMP"></a>因特网控制报文协议 ICMP</h2><ol>
<li><p>概述：</p>
<ol>
<li>ICMP (Internet Control Message Protocol)：<strong>为了提高 IP 数据报交付成功的机会</strong>(消息管理和协商)</li>
<li>ICMP <strong>允许主机或路由器报告差错情况和提供有关异常情况的报告</strong></li>
<li>ICMP 只是IP层的协议</li>
<li>ICMP 报文作为IP层数据报的数据，加上数据报的首部，组成 IP 数据报发送出去</li>
<li>一般路由器在丢弃报文的时候(处理之前已经提到的情况)，都会返回一个ICMP差错报文。</li>
</ol>
</li>
<li><p>格式：</p>
<p><img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241111163851827.png" alt="image-20241111163851827"></p>
<ol>
<li>前四个字节是一样的(格式化的)</li>
<li>后面都是个根据类型</li>
</ol>
</li>
<li><p>两种ICMP报文<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241111163946171.png" alt="image-20241111163946171"></p>
<ol>
<li>差错报告报文:一般这种类型会多一些<ol>
<li>目的站不可达：<ol>
<li><strong>网络</strong>不可到达(net unreachable)</li>
<li><strong>主机</strong>不可到达(host unreachable)</li>
<li><strong>协议</strong>不可到达(protocol unreachable)</li>
<li><strong>端口</strong>不可到达(port unreachable)</li>
<li><strong>源路由选择</strong>不能完成(source route failed)</li>
<li>目的网络<strong>不可知</strong>(unknown destination network)</li>
<li>目的主机<strong>不可知</strong>(unknown destination host)</li>
<li>不可知是完全不可以解析，不可达是可以解析但是不可以到达</li>
</ol>
</li>
<li>差错报告报文数据部分的格式<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241111164231814.png" alt="image-20241111164231814"><ol>
<li>一般会把原始的IP数据报文的数据报首部 + 8字节(数据的，可能会包含端口信息)作为ICMP的数据部分</li>
<li>ICMP的前8个字节的是确定的(前4个字节是类型，校验位，后面四个字节是确定的)</li>
<li>然后添加一个首部作为IP数据报进行发送。</li>
</ol>
</li>
</ol>
</li>
<li>查询报文：一般这种情况不是很多</li>
</ol>
</li>
<li><p>不应发送ICMP差错报文的情况</p>
<ol>
<li>对 ICMP 差错报告报文不再发送 ICMP 差错报告报文</li>
<li>对第一个分片的数据报片的所有后续数据报片都不发送 ICMP 差错报告报文(就是每次传送只要发送一次就够了)</li>
<li>对具有多播地址的数据报都不发送 ICMP 差错报告报文</li>
<li>对具有特殊地址(如127.0.0.0或0.0.0.0)的数据报不发送 ICMP 差错报告报文<ol>
<li>127.0.0.0:逻辑回路地址</li>
<li>0.0.0.0:确认路由地址</li>
</ol>
</li>
</ol>
</li>
<li><p>PING (Packet InterNet Groper)</p>
<ol>
<li>PING 是用ICMP的”Echo request”和”Echo reply”消息来实现的</li>
<li>PING 用来测试两个主机之间的连通性，一般是用来检查局域网的连通性：PING不通，不仅仅是发送不过去，有可能是应答不回来。</li>
<li>PING 使用了ICMP回送请求与回送回答报文</li>
<li>PING 是应用层直接使用网络层ICMP的例子，它没有通过运输层的TCP或UDP</li>
</ol>
</li>
</ol>
<h1 id="第四章-·-运输层"><a href="#第四章-·-运输层" class="headerlink" title="第四章 · 运输层"></a>第四章 · 运输层</h1><h2 id="概述-2"><a href="#概述-2" class="headerlink" title="概述"></a>概述</h2><ol>
<li>第4层执行多项功能：<ol>
<li>分割上层应用程序数据(新的数据单元-数据段)</li>
<li>建立端到端(end to end)的运营</li>
<li>从一个终端主机向另一个终端主机发送段(第三层和第二层不进行可靠性检验，第四层完成可靠性检验，接受方认为数据错误，在第四层进行要求重传)</li>
<li>流量控制和可靠性<ol>
<li>可以比喻为与外国人交谈:通常，您会要求外国人重复他&#x2F;她的话(可靠性)并慢声说话(流量控制)</li>
<li>双方主机的网络的处理能力不同，缓存能力不同</li>
</ol>
</li>
</ol>
</li>
<li>两个特别重要的第4层协议：<ol>
<li>传输控制协议(TCP, Transmission Control Protocol)</li>
<li>用户数据报协议(UDP, User Datagram Protocol)</li>
</ol>
</li>
<li>将传出邮件分成多个部分,在目标站重新组合消息</li>
<li>TCP: 可靠(效率比较低，早期网络应用少，需要可靠性)<ol>
<li>面向连接，使用确认机制，提供流量控制</li>
<li>软件检查细分</li>
<li>重新发送丢失或错误的任何内容</li>
</ol>
</li>
<li>UDP: 不可靠<ol>
<li>无连接，不使用确认，不进行流量控制</li>
<li>不提供用于细分的软件检查</li>
<li>直接丢弃错误的报文，而不进行其他操作。</li>
</ol>
</li>
<li>SCTP(Stream Control Transmission Protocol)：流控制传输协议，为了进行视频和音频的传输</li>
</ol>
<h2 id="服务模型（Service-Model）"><a href="#服务模型（Service-Model）" class="headerlink" title="服务模型（Service Model）"></a>服务模型（Service Model）</h2><ol>
<li>TCP和UDP都使用**端口（port）**来跟踪(track)同时穿越网络的不同会话</li>
<li>端口分配规范<ol>
<li>低于255的端口号(0-255)保留给TCP和UDP公共应用程序使用。(端口号0-255是public的，不可以随意分给其他的进程，如果分发则不符合规范)</li>
<li>0-1023是熟知端口，有分发的规范，不应当被随意使用</li>
<li>1024-49151的端口号进行登记使用，有的是应用程序已经的使用端口号，避免冲突</li>
<li>基于端口号的不同，进行不同的包的分发</li>
</ol>
</li>
</ol>
<h2 id="传输控制协议TCP"><a href="#传输控制协议TCP" class="headerlink" title="传输控制协议TCP"></a>传输控制协议TCP</h2><ol>
<li><p>要解决的问题</p>
<ol>
<li>可靠传输</li>
<li>流传输<ol>
<li>滑动窗口(窗口进行通信，一次数据传输是有上限发的，缓存问题，拥塞问题)</li>
<li>避免拥塞</li>
</ol>
</li>
<li>连接控制<ol>
<li>建立连接:三次握手</li>
<li>断开连接:四次握手</li>
</ol>
</li>
</ol>
</li>
<li><p>TCP数据段的格式</p>
<p><img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241111172358408.png" alt="image-20241111172358408"></p>
<ol>
<li><p>固定首部长度位20字节</p>
<ol>
<li><p>源端口和目的端口（各16位）</p>
<ol>
<li>端口是运输层与应用层的服务接口</li>
<li>运输层的复用和分用功能都要通过端口才能实现</li>
</ol>
</li>
<li><p>序号（32位）(4G &#x3D; 2^32^ bit的地址空间)：</p>
<ol>
<li>TCP 传送的数据流中的每一个字节都编上一个序号</li>
<li>序号字段的值指本报文段所发送的数据的第一个字节的序号</li>
<li>通过序号字段做可靠传输的保证，指示的是一个<strong>TCP传输的bit编码</strong>，而不是地址。</li>
<li>我们从小向大进行使用，如果使用到最大之后，我们会从小再次重新开始分配。</li>
</ol>
</li>
<li><p>确认号（32位）：是期望收到对方的下一个报文段的数据的第一个字节的序号</p>
<ol>
<li>确认对方的数据号(发送同时对上一次传输进行确认)</li>
<li>体现出了全双工通信的优点，比如上回收到最后序号是700，那么确认号就是701</li>
</ol>
</li>
<li><p>数据偏移（4位）</p>
<ol>
<li>指出 TCP 报文段的数据起始处距 TCP 报文段的起始处的长度(Data部分从什么地方开始算)</li>
<li>单位是 32 位字(以 4 字节为计算单位)</li>
<li>不满足的话使用填充位保证为4字节的整数倍(保证对齐问题)</li>
</ol>
</li>
<li><p>保留字段（6位）</p>
</li>
<li><p>标记位（共6位）</p>
<ol>
<li>URG（紧急位）：为1时表示紧急，优先传送</li>
<li>ACK（有效位）：为1时表示确认号有效</li>
<li>PSH（推送位）：<ol>
<li>接收 TCP 收到 PSH &#x3D; 1 的报文段，就尽快地交付接收应用进程，而不再等到整个缓存都填满了后再向上交付，此时将<strong>缓存所有部分</strong>都传输，而并不是只将这个报文段的信息进行传输。</li>
<li>TCP在正常条件下并不是立马传输的，首先要缓存满了才发送，其次还有就是要保证网络可信的时候才发送</li>
</ol>
</li>
<li>RST（复位位）：ReSeT &#x3D; 1时，表明TCP连接中出现严重差错(如由于主机崩溃或其他原因)，必须释放连接，然后再重新建立运输连接</li>
<li>SYN（同步位）：同步 SYN &#x3D; 1:表示这是一个连接请求或连接接受报文(初始的时候才出现)</li>
<li>FIN（终止位）：用来释放一个连接。FIN &#x3D; 1 表明此报文段的发送端的数据已发送完毕，并要求释放运输连接。(发送方没有传输数据了)</li>
</ol>
</li>
<li><p>窗口（16位）：占 2 字节，用来让对方设置<strong>发送窗口</strong>的依据，单位为字节。表示可以进行传输的窗口大小是多少。</p>
</li>
<li><p>检验和（16位）</p>
</li>
<li><p>紧急指针（16位）：指出在本报文段中紧急数据共有多少个字节(紧急数据放在本报文段数据的最前面)</p>
</li>
</ol>
</li>
<li><p>可变部分</p>
<ol>
<li>选项<ol>
<li>TCP 最初只有一种选项，即最大报文段长度 MSS(Maximum Segment Size)</li>
<li>MSS 告诉对方缓存所能接收的报文段的数据字段的最大长度是 MSS 个字节</li>
<li>数据字段加上 TCP 首部才等于整个的 TCP 报文段</li>
</ol>
</li>
<li>填充字段：这是为了使整个首部长度是 4 字节的整数倍。</li>
</ol>
</li>
</ol>
</li>
<li><p>TCP协议</p>
<ol>
<li><p>概述</p>
<ol>
<li>主机使用网段(TPDU)交换数据</li>
<li>每个段都有：<ol>
<li>标头为20个字节(可选部分除外)</li>
<li>0或更多数据字节(请求连接的时候)</li>
</ol>
</li>
<li>段的大小必须与IP数据包匹配，并且还必须满足底层的需求<ol>
<li>例如，以太网的MTU(最大传输单位)为1500字节</li>
<li>是面向字节的传输。</li>
</ol>
</li>
<li>每个字节都有一个32位序号<ol>
<li>通讯中商定初识序号，确认到每一位</li>
<li><strong>面向字节</strong>:TCP传输的数据块和上层数据给的数据块的大小可以不对应(通过商量解决)</li>
<li>根据网络条件，对<strong>每一个字节</strong>进行确认</li>
</ol>
</li>
</ol>
</li>
<li><p>三次握手（可靠连接）：</p>
<ol>
<li><p>红蓝两军问题：无论通信多少次，都不能确定一个完全可信的时间。</p>
</li>
<li><p>建立过程：<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241115111431299.png" alt="image-20241115111431299"></p>
<ol>
<li><p>第一次握手：</p>
<ul>
<li>服务器等待，客户端请求</li>
</ul>
<ol>
<li>服务器：执行LISTEN和ACCEPT原语，并进行被动监视</li>
<li>客户端：执行CONNECT原语，生成SYN &#x3D; 1和ACK &#x3D; 0的TCP段，代表连接请求</li>
</ol>
</li>
<li><p>第二次握手：服务器检查是否存在监视端口的服务进程</p>
<ol>
<li>如果没有任何进程，请使用RST &#x3D; 1回答一个TCP段</li>
<li>如果存在进程，则决定拒绝或接受请求</li>
<li>如果接受连接请求，则发送SYN &#x3D; 1和ACK &#x3D; 1的网段</li>
</ol>
</li>
<li><p>第三次握手：</p>
<ol>
<li>客户端发送一个SYN &#x3D; 0和ACK &#x3D; 1的段以确认连接</li>
<li>为了避免出现延时之类的情况，执行第三次握手(如果只有两次会浪费服务器资源)</li>
</ol>
</li>
<li><p>通知上层应用，准备传输数据</p>
</li>
</ol>
</li>
</ol>
</li>
<li><p>停止等待协议</p>
<ol>
<li>发送段后，暂时保留备份<ol>
<li>在发送后没有收到确认的时候，要保存备份来重传</li>
<li>收到确认的时候，抛弃备份</li>
<li>超时计时器:如果对方的应答超过一定时间后则直接进行重发(时间要比正常往返时间稍微长一点)</li>
</ol>
</li>
<li>每个网段和ACK必须具有ID</li>
<li>重新发送时间必须<strong>大于</strong>平均传输时间 * 2</li>
<li>停止等待协议是一个简单的协议，但是效率很低</li>
<li>实施控制，来进行错误处理</li>
<li>丢失确认，确认延迟：<ol>
<li>发过去没有应答或者丢失:进行重传</li>
<li>应答超时，有收到请求立即重传</li>
<li>晚到的应答直接丢弃(不做处理)</li>
</ol>
</li>
</ol>
</li>
<li><p>可靠通信：</p>
<ul>
<li>ARQ (Automatic Repeat reQuest) 自动重传请求：这表示”重新发送请求”为自动发送并且接收方无需请求发送方重新发送错误段</li>
</ul>
<ol>
<li>连续ARQ协议<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241115112910520.png" alt="image-20241115112910520"><ol>
<li>多个数据同时发送过去(一次发送多个)</li>
<li>窗口大小是双方协商的，通过TCP报文中的窗口字段表示</li>
<li>例子： <img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241115113525029.png" alt="image-20241115113525029"></li>
</ol>
</li>
</ol>
</li>
<li><p>释放链接（四次握手）： <img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241115114157641.png" alt="image-20241115114157641"></p>
<ol>
<li>为什么B最后要等待2倍最大等待时间（2MSL，Max Seg Livetime）？<ol>
<li>第三次挥手发过去再收到回复，两个过程的最长时间为2MSL</li>
<li>如果2MSL之后还没有收到回复，B就重发</li>
<li>目的是为了确保A发送的最后一个ACK可以到达B，确保AB断开连接，连接上的所有段均已消失</li>
</ol>
</li>
</ol>
</li>
<li><p>TCP中的计时器</p>
<ol>
<li>重传计时器:多长时间进行重传</li>
<li>坚持计时器:避免死锁(WIN &#x3D; 0的时候修改WIN但是没有办法发送过去)：收到WIN &#x3D; 0 的时候，开始进行计时，到时间主动询问</li>
<li>保持计时器:<ol>
<li>发送数据段后，刷新</li>
<li>如果到达一定的时间，则再次询问是不是还要保持连接。</li>
</ol>
</li>
<li>时间等待计时器</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="用户数据报协议UDP"><a href="#用户数据报协议UDP" class="headerlink" title="用户数据报协议UDP"></a>用户数据报协议UDP</h2><ol>
<li><p>概况：</p>
<ol>
<li>为什么我们需要UDP？<ol>
<li>没有建立连接(避免延时)</li>
<li>简单：发送方，接收方无连接状态</li>
<li>小段标题</li>
<li>没有拥塞控制：UDP可以按照期望的速度传输</li>
</ol>
</li>
<li>无连接：没有复杂控制，头部简单<ol>
<li>UDP发送方，接收方之间没有握手(HandShake，包含进程等信息的)</li>
<li>每个UDP段都独立处理</li>
</ol>
</li>
<li>常用于流媒体(Stream)多媒体(multimedia)应用<ol>
<li>容忍损失:无非就是降低帧率</li>
<li>这类应用是<strong>速率敏感</strong>的应用，而不一定是质量敏感的应用。</li>
</ol>
</li>
<li>UDP用于：<ol>
<li>RIP:定期发送路由信息(periodically)</li>
<li>DNS:避免延迟建立TCP连接(DNS需要快速找到)</li>
<li>SNMP：拥塞时(congestion)，SNMP必须仍然可运行。在没有拥塞和可靠性控制机制的情况下，UDP在这种情况下的性能要优于TCP。(主播和多播，大量信息传输)</li>
<li>其他协议包括TFTP，DHCP</li>
</ol>
</li>
<li>必要时增加<strong>应用层</strong>的可靠性</li>
<li>流媒体就算有数据丢失也问题不大(对屏幕进行模糊化处理就行),但是发送速率是很重要的！(就算丢包了，也可以模糊处理)</li>
</ol>
</li>
<li><p>UDP数据帧格式</p>
<p><img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241122103126108.png" alt="image-20241122103126108"></p>
<ol>
<li>UDP的数据段很简单</li>
<li>UDP只有8个字节的首部</li>
<li>源端口、目的端口、长度、校验(data)、Data</li>
<li>校验也要对data一并校验，如果出现错误，直接丢弃。</li>
<li>应用层进行数据切片，决定如何进行发送，UDP直接发送</li>
</ol>
</li>
</ol>
<ul>
<li>TCP和UDP的不同点<ol>
<li>TCP：<ol>
<li>不是立即交给上层校验，而是需要先和对方沟通</li>
<li>缓存满了才统一交付。</li>
</ol>
</li>
<li>UDP：<ol>
<li>直接转发报文，保留报文边界（不做合并）</li>
<li>IP进行划分</li>
<li>应用程序会发送比较合适的UDP报文大小进行发送</li>
</ol>
</li>
</ol>
</li>
<li>相同点：校验是相同的。</li>
</ul>
<h2 id="NAT-Network-Address-Translation"><a href="#NAT-Network-Address-Translation" class="headerlink" title="NAT (Network Address Translation)"></a>NAT (Network Address Translation)</h2><ol>
<li><p>NAT，是在IP数据包头中将一个地址交换为另一个地址的过程</p>
<ol>
<li>网络地址转换(映射)</li>
<li>是网络地址即将用完的解决方案</li>
</ol>
</li>
<li><p>实际上，NAT用于允许私下寻址的主机访问Internet。</p>
</li>
<li><p>IP地址耗尽的解决方案之一</p>
<ol>
<li>保留注册(合法)地址</li>
<li>连接到Internet时增加灵活性</li>
</ol>
</li>
<li><p>作用：<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241122103959939.png" alt="image-20241122103959939"></p>
<ol>
<li>NAT需要一个路由器来实现</li>
<li>左侧是一个局域网</li>
<li>在NAT 路由器将局部地址 转换成 网络上的地址(双向转换，有一个NAT表)</li>
</ol>
</li>
<li><p>类型：</p>
<ol>
<li>静态NAT：构建一张静态NAT表。这样是不能新增地址的。</li>
<li>动态NAT：指定一个地址池，在池内的地址可以上网。上网时建立临时记录。先来先服务，满了只能等。</li>
<li>PAT：第一个是IP。可以有不同的端口。同样的出口IP</li>
</ol>
</li>
<li><p>NAT地址类型：</p>
<ol>
<li>内部本地地址(Inside Local address)：内网IP</li>
<li>内部全局地址(Inside Global address)：注册IP，是对外展示的IP地址</li>
<li>外部全局地址(Outside Global adress)：由主机所有者分配的IP地址。通常是注册地址</li>
</ol>
</li>
<li><p>PAT</p>
<p><img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241122105510210.png" alt="image-20241122105510210"></p>
<ol>
<li>本地内部地址的各个主机IP不同，端口号可以相同或不同。</li>
<li>转换成内部全局地址，IP都一样了，端口号不同</li>
</ol>
</li>
</ol>
<h1 id="第五章-·-会话层，展示层，应用层"><a href="#第五章-·-会话层，展示层，应用层" class="headerlink" title="第五章 · 会话层，展示层，应用层"></a>第五章 · 会话层，展示层，应用层</h1><h2 id="第五层：会话层"><a href="#第五层：会话层" class="headerlink" title="第五层：会话层"></a>第五层：会话层</h2><h3 id="职责"><a href="#职责" class="headerlink" title="职责"></a>职责</h3><ol>
<li>基于令牌进行交互发言，通过数据同步保证数据完整性(应用逻辑)</li>
<li>进行数据分段、拼接，保证传输的有效。</li>
<li>同步技术，保证故障恢复。</li>
</ol>
<h3 id="服务"><a href="#服务" class="headerlink" title="服务"></a>服务</h3><ol>
<li>双向同步通讯？<ol>
<li>全双工通信</li>
<li>半双工通信</li>
<li>单工通信</li>
</ol>
</li>
<li>双向交替控制？<ol>
<li>会话连接、活动开始、数据校验(同步)</li>
<li>令牌转换等</li>
</ol>
</li>
<li>是否同步了您的会话的主题？<ol>
<li>**同步点(CheckPoint)**用于分隔会话的各个部分，以前称为对话(dialogues)<ol>
<li>同步点:发送一定数据后设置同步点</li>
<li>次同步点:作为同步点的一个子集，进行数据校验</li>
<li>主同步点:按照主同步点进行校验确认</li>
<li>如果错误，恢复到上次都已经同步的主同步点</li>
</ol>
</li>
<li>对话分离(Seperation)是通信的有序启动，终止和管理</li>
<li>尽量保证了通话的效率和可靠性。</li>
</ol>
</li>
</ol>
<h2 id="第六层：表示层"><a href="#第六层：表示层" class="headerlink" title="第六层：表示层"></a>第六层：表示层</h2><h3 id="概述-3"><a href="#概述-3" class="headerlink" title="概述"></a>概述</h3><ol>
<li><p>表示层负责以接收</p>
<p>设备可以理解</p>
<p>的形式表示数据。</p>
<ol>
<li>传送语法协商</li>
<li>接受语法协商</li>
</ol>
</li>
<li><p>表示层具有3个主要功能：</p>
<ol>
<li>数据格式(format)</li>
<li>数据压缩(compression):早期网络比较慢，倾向于先压缩在发送</li>
<li>数据加密(encryption)</li>
</ol>
</li>
<li><p>协商编码方式可以在会话层中实现</p>
</li>
<li><p>数据编码格式</p>
</li>
<li><p>图形文件格式</p>
</li>
<li><p>多媒体文件格式</p>
</li>
<li><p>数据加密和压缩</p>
</li>
</ol>
<h2 id="第七层：应用层"><a href="#第七层：应用层" class="headerlink" title="第七层：应用层"></a>第七层：应用层</h2><h3 id="概述-4"><a href="#概述-4" class="headerlink" title="概述"></a>概述</h3><ol>
<li>上图中各层的一些协议和使用：对端口进行管理</li>
<li>应用程序层(最接近用户)支持应用程序的通信组件</li>
</ol>
<h3 id="职责-1"><a href="#职责-1" class="headerlink" title="职责"></a>职责</h3><ol>
<li>定并确定预期的通信合作伙伴的可用性</li>
<li>同步合作的应用程序</li>
<li>同步协作的应用</li>
<li>建立有关错误恢复程序的协议</li>
<li>控制数据完整性</li>
<li>通过网络应用(network applications)为OSI模型的其余部分提供一个直接接口，或是通过独立应用提供非直接接口，如文字处理，电子表格，演示管理器(presentation managers)，网络重定向器</li>
<li>不同应用不同情况</li>
</ol>
<h3 id="超文本传输协议-HTTP，HyperText-Transfer-Protocol"><a href="#超文本传输协议-HTTP，HyperText-Transfer-Protocol" class="headerlink" title="超文本传输协议 (HTTP，HyperText Transfer Protocol)"></a>超文本传输协议 (HTTP，HyperText Transfer Protocol)</h3><ol>
<li><p>概述</p>
<ol>
<li>和电视的播放比较类似，通过浏览器界面切换内容，通过URL切换</li>
<li>多源点传输，内容规范</li>
<li>如何实现URL的转发:HTTP</li>
<li>如何完成界面:html</li>
<li>如何整合和查询:搜索引擎</li>
</ol>
</li>
<li><p>统一资源定位符 URL(Uniform Resource Locator)</p>
<ol>
<li><pre><code>&lt;URL的访问方式&gt;://&lt;主机&gt;:&lt;端口&gt;/&lt;路径&gt;
</code></pre>
<ol>
<li>访问方式:协议HTTPS 或者 HTTP</li>
<li>主机:域名的方式</li>
<li>端口对应进程</li>
<li>路径对应具体的文件</li>
</ol>
</li>
</ol>
</li>
<li><p>HTTP</p>
<ol>
<li><strong>HTTP 是面向事务的客户服务器协议</strong>。</li>
<li>HTTP 1.0 协议是无状态的(stateless)。<ol>
<li>每一次请求是独立的，不记录上一次请求信息。</li>
<li>Cookie是征求同意的存储(维持登录状态)，可以保证在多个应用之间维持登录状态。</li>
</ol>
</li>
<li>HTTP 协议本身也是<strong>无连接</strong>的，虽然它使用了面向连接的 TCP 向上提供的服务。</li>
<li>万维网浏览器就是一个 HTTP 客户，而在万维网服务器等待 HTTP 请求的进程常称为HTTP daemon， 有的文献将它缩写为 HTTPD。</li>
<li>HTTP daemon 在收到 HTTP 客户的请求后，把所需的文件返回给 HTTP 客户。</li>
</ol>
</li>
<li><p>报文结构</p>
<p><img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241122115929627.png" alt="image-20241122115929627"></p>
<ol>
<li>报文由三个部分组成，即开始行、首部行和实体主体。</li>
<li>在请求报文中，开始行就是请求行。</li>
<li>请求报文和应答报文的应答结构都是一样的</li>
<li>应答码：<ol>
<li>2xx:成功</li>
<li>3xx:重定向</li>
<li>4xx:错误</li>
<li>5xx:服务器内部错误</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="FTP（File-Transfer-Protocol）-和-TFTP（Trivial-File-Transfer-Protocol）"><a href="#FTP（File-Transfer-Protocol）-和-TFTP（Trivial-File-Transfer-Protocol）" class="headerlink" title="FTP（File Transfer Protocol） 和 TFTP（Trivial File Transfer Protocol）"></a>FTP（File Transfer Protocol） 和 TFTP（Trivial File Transfer Protocol）</h3><ol>
<li>概述<ol>
<li>FTP是一种可靠的，面向连接的服务，它使用TCP传输文件。<ol>
<li>FTP首先在客户端和服务器(端口21)之间建立<strong>控制连接</strong></li>
<li>然后，建立第二个连接，这是计算机之间通过其传输数据的链接。(端口20)</li>
<li>有安全认证</li>
</ol>
</li>
<li>TFTP是使用UDP的无连接服务(简化的FTP)<ol>
<li>体积小，易于实施。更加方便</li>
<li>例如： TFTP在路由器上用于传输配置文件和Cisco IOS映像</li>
<li>不支持交互，没有目录浏览功能</li>
</ol>
</li>
<li>互联网早期的时候，文件传输量是很大的。</li>
</ol>
</li>
<li>主进程工作步骤<ol>
<li>打开熟知端口(端口号为 21)，使客户进程能够连接上。(可以修改熟知端口)</li>
<li>等待客户进程发出连接请求。</li>
<li>启动从属进程来处理客户进程发来的请求。从属进程对客户进程的请求处理完毕后即终止，但从属进程在运行期间根据需要还可能创建其他一些子进程。<ol>
<li>控制连接</li>
<li>数据连接:数据通信</li>
<li>需要建立上面两个连接才能完成传输</li>
</ol>
</li>
<li>回到等待状态，继续接受其他客户进程发来的请求。主进程与从属进程的处理是并发地进行。</li>
</ol>
</li>
</ol>
<h3 id="Telnet协议"><a href="#Telnet协议" class="headerlink" title="Telnet协议"></a>Telnet协议</h3><p>远程登录：Telnet客户端软件提供了登录到运行Telnet服务器应用程序的远程Internet主机，然后从命令行执行命令的功能。用服务器运行本地输入的指令。</p>
<h3 id="SMTP和POP3"><a href="#SMTP和POP3" class="headerlink" title="SMTP和POP3"></a>SMTP和POP3</h3><ol>
<li>电子邮件服务器使用SMTP发送和POP接收邮件相互通信。<ol>
<li>SMTP (Simple Mail Transfer Protocol) 邮件发送，登录发送等操作</li>
<li>POP3 (Post Office Protocol version 3) 邮件接收，邮件到达邮件服务端，由客户端和服务端联系接收邮件。<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125163103685.png" alt="image-20241125163103685"></li>
</ol>
</li>
<li>MIME（Multipurpose Internet Mail Extensions）<ol>
<li>MIME标准扩充了SMTP标准</li>
<li>很多的文件(附件)并不是ASCII码的，我们需要用MIME将对应的文件进行转换(扩充)。过程如下图<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125163325803.png" alt="image-20241125163325803"></li>
</ol>
</li>
</ol>
<h3 id="简单网络管理协议（SNMP，Simple-Network-Management-Protocol）"><a href="#简单网络管理协议（SNMP，Simple-Network-Management-Protocol）" class="headerlink" title="简单网络管理协议（SNMP，Simple Network Management Protocol）"></a>简单网络管理协议（SNMP，Simple Network Management Protocol）</h3><ol>
<li>简单网络管理协议(SNMP)是一种应用程序层协议，可简化网络设备之间的管理信息交换。</li>
<li>NMS(Network Management System):网管,通过下发请求对上网的所有的主机关于流量等等信息进行管理(监控)</li>
<li>通过管理数据库(MIB)进行信息交流</li>
<li>使用UDP通过广播进行实现。</li>
</ol>
<h3 id="域名系统-DNS-Domain-Name-System"><a href="#域名系统-DNS-Domain-Name-System" class="headerlink" title="域名系统(DNS, Domain Name System)"></a>域名系统(DNS, Domain Name System)</h3><ol>
<li>概述：域名系统(DNS)是网络上的服务，该服务管理域名并响应客户端将域名转换为关联IP地址的请求。早期是用IP地址以及Host文件来进行访问</li>
<li>域名：<ol>
<li>概述：<ol>
<li>使用<code>.</code>将字符串进行分隔开，字符串不应该太长</li>
<li>越靠后域名级别越高</li>
<li>www就是对应到主机群</li>
</ol>
</li>
<li>顶级域TLD（Top Level Domain）<ol>
<li>国家TLD(nTLD)<ol>
<li>.cn(CHINA) 中国</li>
</ol>
</li>
<li>通用TLD(gTLD)，最早的域包括：<ol>
<li>.com Enterprises and companies 企业和公司</li>
<li>.edu Educational facilities 教育机构</li>
</ol>
</li>
<li>Infrastructure domain 基础设施领域<ol>
<li>Only one: arpa, for resolving domain names reversely 仅一个：arpa，用于反向解析域名</li>
</ol>
</li>
<li>Recently, new TLD domain added</li>
</ol>
</li>
<li>域名服务器（Domain Name System）<ol>
<li>顶级域名底下的域名就是由顶级域名下面进行管理</li>
<li>根域名服务器存储位置，所以子服务器知道根服务器的地址即可</li>
</ol>
</li>
<li>结合域名服务器查找IP地址<ol>
<li>DNS系统以层次(hierarchy)结构设置，该层次结构创建不同级别的DNS服务器。</li>
<li>此级别的DNS服务器判断其自身是否能够将域名转换为关联的IP地址：<ol>
<li>如果可以，则将结果返回给客户端</li>
<li>如果没有，它将请求发送到更高级别。(向上级请求)<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125164918106.png" alt="image-20241125164918106"><ul>
<li>请求分为两种:<ul>
<li>能够应答</li>
<li>不能够应答</li>
</ul>
</li>
<li>从主机的视角看，这是一个递归的过程：先问本地DNS，本地DNS若不知道再问其他的</li>
<li>从本地DNS的视角看，这是一个迭代的过程：先访问根DNS，得到顶级域的位置，再去问顶级域，得到二级域的位置，等等。</li>
</ul>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="沟通的方式"><a href="#沟通的方式" class="headerlink" title="沟通的方式"></a>沟通的方式</h3><ol>
<li>无上下文，请求后就断开：<ol>
<li>当浏览器打开时，它将连接到默认页面，并且该页面的文件将传输到客户端。</li>
<li>处理完成后，连接断开</li>
</ol>
</li>
<li>有上下文：<ol>
<li>作为Telnet和FTP，建立与服务器的连接并保持该连接，直到执行所有处理。</li>
<li>当用户确定他&#x2F;她已完成时，客户端将终止连接。</li>
</ol>
</li>
<li>所有的交流活动都属于这两类之一</li>
</ol>
<h3 id="动态主机配置协议（DHCP，Dynamic-Host-Configuration-Protocol）"><a href="#动态主机配置协议（DHCP，Dynamic-Host-Configuration-Protocol）" class="headerlink" title="动态主机配置协议（DHCP，Dynamic Host Configuration Protocol）"></a>动态主机配置协议（DHCP，Dynamic Host Configuration Protocol）</h3><ol>
<li><p>概述：</p>
<ol>
<li>一个协议软件在使用之前先作正确协议配置，具体配置内容取决于协议。</li>
<li>接到因特网的计算机的协议软件需要配置的项目包括：<ol>
<li>IP 地址</li>
<li>子网掩码</li>
<li>默认路由器的 IP 地址</li>
<li>域名服务器的 IP 地址</li>
</ol>
</li>
<li>Dynamic Host Configuration Protocol可以高效地分配IP地址<ol>
<li>局域网的网络协议</li>
<li>使用UDP来实现</li>
</ol>
</li>
<li>目前一般都是自动获取IP地址，而不需要手动去获取IP地址等信息</li>
</ol>
</li>
<li><p>DHCP工作过程</p>
<p><img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125170149909.png" alt="image-20241125170149909"></p>
<ol>
<li><p>发现阶段<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125170529753.png" alt="image-20241125170529753"></p>
<ol>
<li>广播携带地址是MAC地址</li>
</ol>
</li>
<li><p>响应阶段<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125170615658.png" alt="image-20241125170615658"></p>
</li>
<li><p>选择阶段<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125170711415.png" alt="image-20241125170711415"></p>
</li>
<li><p>租约确认阶段<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125170752508.png" alt="image-20241125170752508"></p>
</li>
<li><p>租期续约：在租期中，DHCP Client直接向为其提供IP地址的DHCP Server发送DHCP Request消息，收到回应的DHCP ACK消息后，DHCP Client根据所提供的新的租期以及其它更新的 TCP&#x2F;IP 参数更新自己的配置，IP租用更新完成</p>
</li>
<li><p>租期释放：</p>
<ul>
<li><p>当DHCP Client不再需要使用分配IP地址时，就会主动向 DHCP Server发送Release报文，告知不再需要分配IP地址，DHCP Server会释放被绑定的租约</p>
</li>
<li><p>到时间后，Server会主动询问，如果没有应答会自动释放</p>
</li>
</ul>
</li>
</ol>
</li>
<li><p>DHCP报文结构<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125170942701.png" alt="image-20241125170942701"></p>
</li>
<li><p>报文类型</p>
<ol>
<li>DHCP Discover：发现</li>
<li>DHCP Offer：提供</li>
<li>DHCP Request：告知决定</li>
<li>DHCP ACK：租约确认</li>
<li>DHCP NAK：租约不确认</li>
<li>DHCP Release：释放租约</li>
<li>DHCP Decline:收到Ack后，Client告诉服务器不接受</li>
<li>DHCP Inform:客户端向服务器端请求详细信息</li>
</ol>
</li>
<li><p>DHCP欺骗与防范</p>
<ol>
<li>欺骗<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125171431223.png" alt="image-20241125171431223"><ol>
<li>客户端以广播的方式来寻找服务器，并且只接收第一个到达的服务器提供的网络配置参数。</li>
<li>非授权的DHCP服务器先应答，客户端最后获得的网络参数即是非授权的，客户端即被欺骗。(恶意服务器把自己作为默认网关)</li>
<li>在实际应用DHCP的网络中，基本上都会采用DHCP中继，因此本网络的非授权DHCP服务器一般都会先于其余网络的授权DHCP服务器的应答(由于网络传输的延迟)，在这样的应用中，DHCP欺骗更容易完成。</li>
</ol>
</li>
<li>防范<ol>
<li>在交换机上启用DHCP Snooping功能 DHCP Snooping技术通过建立和维护DHCP Snooping绑定表过滤不可信任的DHCP信息:比如B的DHCP不能通过认证，交换机拒绝进行转发<ol>
<li>在交换机的全局配置模式中启用DHCP Snooping:<code>switch (config)# ip dncp snooping</code></li>
<li>在交换机的全局配置模式中开启需要启用DHCP Snooping 的VLAN”:<code>switch (config)# ip dhcp snooping vlan vlan号</code></li>
<li>在端口配置子模式中将授权DHCP服务器所连的端口设为信任端口(缺省都是非信任的端口):就是连接到DHCP Server的端口:<code>switch (config-if)# ip dhcp snooping trust</code></li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h1 id="第六章-·-路由器和网络"><a href="#第六章-·-路由器和网络" class="headerlink" title="第六章 · 路由器和网络"></a>第六章 · 路由器和网络</h1><h2 id="路由器基础"><a href="#路由器基础" class="headerlink" title="路由器基础"></a>路由器基础</h2><ol>
<li><p>内部组件<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125171736811.png" alt="image-20241125171736811"></p>
<ul>
<li>特殊组件的计算机</li>
<li>console口进行具体的调试</li>
<li>辅助口(Auxiliary):一般不用，但是可能会用到</li>
</ul>
<ol>
<li>RAM（随机存取存储器）<ol>
<li>路由器配置文件的临时存储，一般做为内存使用</li>
<li>断电或重新启动时RAM内容丢失</li>
<li>存储:<ol>
<li>路由表</li>
<li>ARP缓存</li>
<li>快速切换缓存</li>
<li>报文缓存:可能前面有正在处理的，需要等待</li>
<li>数据包保留队列</li>
</ol>
</li>
<li>根据地址位就可以读到地址内容(访问比较快)</li>
</ol>
</li>
<li>非易失随机存取存储器(NVRAM, Non-volatile RAM)<ol>
<li>存储备份(backup)&#x2F;启动(startup)配置文件</li>
<li>路由器掉电或重启时内容不会丢失。</li>
<li>内置电池的方式来保证不断电，这一部分可以整体单独拿出来</li>
<li>保证快速访问，但是存储空间有限。</li>
</ol>
</li>
<li>Flash (相当于台式机硬盘)<ol>
<li>电子可擦可编程只读存储器(EEPROM, Electronically Erasable Programmable Read-Only Memory)</li>
<li>存储了Cisco IOS(互联网操作系统)</li>
<li>允许更新软件而无需更换闪存芯片</li>
<li>可以存储多个版本的IOS</li>
<li>断电保持</li>
</ol>
</li>
<li>只读存储器(ROM, Read-Only Memory)<ol>
<li>包含POST(开机自检):PC也有，开机的时候，读取一些参数进行对比，如果一样则保证硬件是正常的。</li>
<li>引导程序(加载Cisco IOS)</li>
<li>作系统软件<ol>
<li>IOS的备份，精简(trimmed down)版本</li>
<li>升级需要安装新的芯片组</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li><p>接口</p>
<ol>
<li>数据包通过其进入和离开路由器的网络连接口</li>
<li>附在主板(motherboard)上或作为单独的模块。</li>
<li>大部分是网口，主要是用来支持网络的</li>
<li>0&#x2F;0第一个，串口接口可能还分多个</li>
</ol>
</li>
</ol>
<h2 id="路由器启动-startup-步骤"><a href="#路由器启动-startup-步骤" class="headerlink" title="路由器启动(startup)步骤"></a>路由器启动(startup)步骤</h2><ol>
<li>系统启动程序<ol>
<li>执行开机自检(POST)：在此自检期间，路由器从所有硬件模块上的ROM执行诊断：如果有问题导致操作系统无法重启，那么我们就需要对硬件进行检查</li>
<li>验证CPU，内存和网络接口端口的基本操作。</li>
<li>软件初始化。</li>
</ol>
</li>
<li>软件启动程序<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125173124621.png" alt="image-20241125173124621"><ol>
<li>步骤1:ROM中的通用引导加载程序(bootstrap)在CPU卡上执行。</li>
<li>步骤2:可以在以下几个位置之一找到操作系统(Cisco IOS)。该位置在配置寄存器的引导字段中公开。</li>
<li>步骤3:加载操作系统映像。<ol>
<li>先从Flash找，也就只有一个image文件，将image导入内存</li>
<li>如果image找不到，则到TFTP Server，如果能找到则下载下拉一个image</li>
<li>如果TFTP也没有配置，则去ROM中导出IOS</li>
</ol>
</li>
<li>步骤4:将保存在NVRAM中的配置文件加载到主存储器中，并一次执行一行。<ol>
<li>先看NVRAM中有没有配置(start.config)</li>
<li>然后看TFTP Server有没有配置，如果有则下载一个</li>
<li>如果都没有，用console进行配置</li>
</ol>
</li>
<li>步骤5-如果NVRAM中<strong>没有</strong>有效的配置文件，则执行问题驱动(question-driven)的初始配置例程，该例程称为系统配置对话框，也称为<strong>设置模式</strong>。</li>
</ol>
</li>
<li>查看和修改基本的路由器配置</li>
</ol>
<h2 id="路由和配置"><a href="#路由和配置" class="headerlink" title="路由和配置"></a>路由和配置</h2><ol>
<li><p>使用网络寻址进行路由</p>
<ol>
<li>路由器通常使用两个基本功能(路径确定功能和交换功能)将数据包从一条数据链路中继(relay)到另一条数据链路。<ol>
<li><strong>交换功能</strong>允许路由器在一个接口上<strong>接受数据包</strong>并<strong>通过第二个接口转发。</strong></li>
<li><strong>路径确定</strong>功能使路由器能够选择<strong>最合适的接口</strong>来<strong>转发数据包</strong>。</li>
</ol>
</li>
<li>路由器使用地址的网络部分进行路径选择，以将数据包传递到下一个路由器</li>
<li>地址的节点部分由直接连接到目标网络的路由器使用，以将数据包传递到正确的主机。</li>
</ol>
</li>
<li><p>静态路由<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241128163353972.png" alt="image-20241128163353972"></p>
<ol>
<li>尽管(whereas)动态路由倾向于显示(reveal)有关互联网络的所有已知信息，但是出于安全原因，您可能希望隐藏互联网络的某些部分。</li>
<li>当只有一条路径可访问网络时，到网络的静态路由就足够了。(默认路由，将B所有不知道位置的全部交给A，由A去进行访问)</li>
<li>这种只有一个出口的网络分区称为末节网络(Stub Network)</li>
</ol>
</li>
<li><p>管理距离</p>
<ol>
<li>**管理距离(administrative distance)**是路由信息源的可信赖性的等级，表示为从0到255的数值。(管理距离)</li>
<li>数字越大，可信度(trustworthiness)越低。</li>
<li>因此静态路由的管理距离通常很短(默认值为1)</li>
<li>管理距离是0的路由是直连网段，是最可信的，比静态路由还高</li>
</ol>
</li>
<li><p>动态路由</p>
<ol>
<li>动态路由协议还可以重定向网络中不同路径之间的流量(或负载分担(loadshare))</li>
<li>往往网络是冗余的，保证连通性</li>
<li>静态路由的问题:如果指定的路径中出现故障就会出问题，而动态路由就避免了这个问题。</li>
</ol>
</li>
<li><p>收敛时间</p>
<ol>
<li>收敛时间:<ol>
<li>从刚启动到网络达到稳定的时间</li>
<li>从发生变化到再次稳定的时间</li>
</ol>
</li>
<li>收敛时间越短，路由协议越强，需要路由器的基本硬件支持。</li>
</ol>
</li>
<li><p>动态路由协议</p>
<ol>
<li>分类<ol>
<li>距离矢量(DV,Distance Vector)</li>
<li>链路状态(LS,Link State)</li>
<li>混合路由(HR,Hybird Routing)</li>
</ol>
</li>
<li>距离矢量协议（DVP）<ol>
<li>协议内容<ol>
<li>距离矢量算法不允许路由器知道互联网络的<strong>确切拓扑</strong></li>
<li>基于距离矢量的路由算法(也称为Bellman-Ford算法)在路由器之间传递路由表的周期性副本。<ol>
<li>大家交换Routing Table</li>
<li>只知道可达，但是不知道怎么可达(知道where,但是不知道how)，不知道整个网路的具体拓扑</li>
</ol>
</li>
</ol>
</li>
<li>路由回路问题：<ol>
<li>是DV的缺陷</li>
<li>例子：<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241128164612339.png" alt="image-20241128164612339"><ol>
<li><strong>稳定之后</strong>,如果NetWork1不可到达</li>
<li>B发现不可达，但是告知C的时候比较晚，C已经将信息告诉了D，D就以为可以通过C到达，这样子就可能循环下去，然后不收敛。</li>
</ol>
</li>
<li>解决方案<ol>
<li>定义最大值(Maximum）：设置最大跳数，比如最多转发15跳，16跳以上为不可达</li>
<li>路由中毒(Route Poisoning)<ol>
<li>当网络5发生故障时，路由器E通过将网络5的表条目设置为<strong>16或不可访问</strong>来启动路由中毒。(而不是删除条目)</li>
<li>、当路由器C从路由器E接收到路由中毒时，它会将更新(称为毒性逆转，poison reverse)发送回路由器E。这确保网段上的所有路由器都已接收到中毒的路由信息。</li>
<li>最终所有的路由器都知道不可达</li>
<li>路由毒害，由信息在路由表中失效的时候，把该表项的的度量值(metric)设为无穷大16，而不是马上从路由表中删掉这条路由信息，再将其信息发布出去，这样相邻的路由器就得知这条路由已无效了</li>
</ol>
</li>
<li>水平分割(Split Horizon)<ol>
<li>从某个端口收到的报文信息，不能再从端口发送回去</li>
<li>比如A发送给B和D，之后B和D又把之后的报文还给A，这时候就不接受B和D的。也即使A只接受B的</li>
<li>如果B和D接收到一个到达目的网段1的更好的路径，A是会接收的</li>
<li><strong>有名词解释题目</strong></li>
</ol>
</li>
<li>计时器(Hold-Down Timers)<ol>
<li>我收到网络信息不可以到达的信息的时候，启动计时器，开始计时(这个信息包含请计时信息)</li>
<li>如果有任何一个计时的设备收到了一个比原来更好的达到路径，则会修改对应记录，但是如果更差不会记录。</li>
<li>计时器结束后，删除掉对应的条目，避免出现问题</li>
<li>每一条路由表的记录都有<strong>有效时间</strong></li>
</ol>
</li>
</ol>
</li>
<li>阻止发送路由更新<ol>
<li>接受路由表的更新，但是不发送报文出去</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>链路状态协议(LSP, Link-state Protocol)<ol>
<li>内容<ol>
<li>基于链接状态的路由算法也称为SPF(最短路径优先)算法，维护复杂的拓扑信息数据库:对树处理路由表，没有环路问题</li>
<li>链接状态路由使用：<ol>
<li>链接状态广告(LSAs):告诉你我有这个链路(每一个网段都是相同性质链路，链路上有唯一的NetID、带宽、连接拓扑关系、网段、链路类型等属性，我们优化属性后，进行LSA，告知对方主Key，如果再需要的话，再给具体信息)</li>
<li>拓扑数据库(有LSA组成，每个结点都持有)</li>
<li>根据SPF(shortest path first)算法生成的SPF树(Tree会不一样，因为每一个路由都是以自己为根的)</li>
<li>每个网络的路径和端口的路由表</li>
</ol>
</li>
<li>RFC 1583包含对OSPF链路状态概念和操作的描述。</li>
</ol>
</li>
<li>问题：<ol>
<li>处理和存储要求<ul>
<li>在大多数情况下，运行链路状态路由协议要求路由器比距离矢量路由协议使用更多的内存并执行更多的处理：需要CPU进行计算</li>
</ul>
</li>
<li>带宽要求<ol>
<li>在初始链路状态数据包泛洪(flooding)期间，所有使用链路状态路由协议的路由器会将LSA数据包发送到所有其他路由器。 随着路由器对带宽的需求增加，此操作将淹没互联网，并暂时减少可用于承载用户数据的路由流量的带宽。</li>
<li>一开始的时候报文会比较频繁多(所以告知LSA而不是LS，减小压力)</li>
<li>注：初期消耗大，之后消耗小，稳定之后是根据事务触发更新</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>比较DV和LS：<ol>
<li>DV:距离矢量<ol>
<li>视野窄，代价小</li>
<li>基于跳数</li>
<li>定期交换路由表，收敛慢</li>
<li>交换路由表</li>
</ol>
</li>
<li>LS:链路状态<ol>
<li>视野宽，有一定代价</li>
<li>基于带宽</li>
<li>初期充分交换，收敛快</li>
<li>交换Linked State的数据库</li>
</ol>
</li>
</ol>
</li>
<li>混合协议(Hybrid Protocols)</li>
</ol>
</li>
<li><p>主动路由协议</p>
<ol>
<li>IP主动路由协议的示例包括：</li>
</ol>
<table>
<thead>
<tr>
<th>英文缩写</th>
<th>英文解释</th>
<th>中文解释</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>RIP</td>
<td>a distance-vector routing protocol</td>
<td>距离矢量协议</td>
<td>DV</td>
</tr>
<tr>
<td>IGRP</td>
<td>Cisco’s distance-vector routing protocol IGRP</td>
<td>思科的距离矢量路由协议</td>
<td>DV，基本启用</td>
</tr>
<tr>
<td>OSPF</td>
<td>Open Shortest Path First</td>
<td>开放式最短路径优先</td>
<td>LSP</td>
</tr>
<tr>
<td>EIGRP</td>
<td>-</td>
<td>平衡的混合路由协议</td>
<td>杂合</td>
</tr>
</tbody></table>
<ol>
<li>工作在第三层</li>
</ol>
</li>
</ol>
<h2 id="主动路由协议"><a href="#主动路由协议" class="headerlink" title="主动路由协议"></a>主动路由协议</h2><h3 id="RIP"><a href="#RIP" class="headerlink" title="RIP"></a>RIP</h3><h3 id="OSPF"><a href="#OSPF" class="headerlink" title="OSPF"></a>OSPF</h3><ol>
<li><p>其他内容详见实验笔记</p>
</li>
<li><p>OSPF具有七个状态。简而言之，它们是：</p>
<ol>
<li>Init, 2Way, Ex Start, Exchange, Loading, Full</li>
<li>初始化，双向操作，预先启动，交换，加载，完成</li>
</ol>
</li>
<li><p>环回接口：是一个虚拟接口。可以看做是路由器背后的一台PC，可以通过任意端口访问到。</p>
</li>
<li><p>DR，BDR</p>
<ol>
<li>DR是DR的备份，其他路由器之间就不用通信了</li>
<li>如果有DR则需要至少4条连接，DR和BDR之间必然有连接</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/23.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/23.png" alt="img"></a></p>
<blockquote>
<p><strong>只有多路复用的实现方式需要DR和BDR</strong></p>
</blockquote>
<ol>
<li>然后，每个路由器与DR和BDR形成邻接关系</li>
<li>对于所有OSPF路由器，DR使用224.0.0.5(自己的IP)的<strong>主播地址</strong>向该网段上的所有其他路由器发送链接状态信息。</li>
<li>为确保DR&#x2F;BDR看到所有路由器在网段上发送的链接状态，使用了所有DR&#x2F;BDR的多播地址224.0.0.6。(DR和BDR之间)</li>
<li>选举<ol>
<li>优先级+路由器ID，最大的是DR，第二大的是BDR。</li>
<li>优先级：1-255，默认值:1</li>
<li>路由器ID<ol>
<li>环回IP地址(逻辑端口)，避免端口宕机出现问题。(3中描述的问题)，需要手动配置</li>
<li>如果没有环回IP地址，则物理接口IP为最高值地址(Active的端口上的IP作为参考)</li>
<li>如果接口出现故障，则路由器必须重新建立邻接关系并重新转换(readvertising)LSA</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li><p>报文</p>
<ol>
<li>OSPF只有5个类型的报文</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/26.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/26.png" alt="img"></a></p>
<ul>
<li>DBD:LSA,发现没有发送LSR</li>
<li>由于传输要求比较高，所以设计了LSAck</li>
</ul>
</li>
<li><p>OSPF Hello协议</p>
<ol>
<li>路由器在接口上启动OSPF路由过程时，将发送hello数据包，并继续以固定的时间间隔(intervals)发送hello。</li>
<li>控制(govern)OSPF hello数据包交换的规则称为Hello协议。</li>
<li>Hello数据包的地址为224.0.0.5。</li>
<li>默认情况下，广播多路访问和点对点网络上<strong>每10秒</strong>发送一次Hello报文。</li>
<li>在连接到NBMA网络的接口(例如帧中继)上，默认时间是30秒。</li>
<li>保持心跳，确定还活着。Hello几乎是空报文，给所有跑OSPF的路由器发送</li>
<li>Hello报文的Type字段设置为1</li>
</ol>
</li>
<li><p>OSPF操作的完整步骤</p>
<ol>
<li><p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/29.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/29.png" alt="img"></a></p>
<ul>
<li>一开始的状态是Down State</li>
<li>然后发送Hello报文(Init State)</li>
<li>B收到A的报文(收到报文一定是邻居):Hello报文的TTL是1，所以不会跨路由器传播，收到即丢弃。</li>
<li>收到后，B也会发送自己的Hello，然后A收到后进入Two Way状态</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/30.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/30.png" alt="img"></a></p>
<ul>
<li>准备交换数据库(Exstart Starts)</li>
<li>首先确认主方(发送方)、从方(接受方)，保证数据有序，简单就是谁的Router ID高</li>
<li>Router ID高的(主方)发送自己DBD报文，从方对主方发送的DBD接受处理并发送</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/31.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/31.png" alt="img"></a></p>
<ul>
<li>交换完成后，各自检查自己是不是有全部的信息<ul>
<li>如果有完整的信息，则发送LSAck</li>
<li>如果发现有没有的，则发送LSR，等待LSU(整个链路的详细信息，不是LSA)来进行学习，之后收到完成后发送LSAck</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
<li><p>工作步骤</p>
<ol>
<li><h3 id="步骤1：建立路由器邻接"><a href="#步骤1：建立路由器邻接" class="headerlink" title="步骤1：建立路由器邻接"></a>步骤1：建立路由器邻接</h3><ol>
<li>路由器每隔一段时间发送一次hello数据包,Hello报文的TTL是1，表明不会跨路由传播。</li>
<li>如果邻居被发现了：将邻居添加到邻居数据库</li>
<li>发现网络类型<ol>
<li>如果是多路复用网络，进入DR&#x2F;BDR选举过程，然后进入步骤2。</li>
<li>如果是点对点或点对多点网络，则不会举行DR&#x2F;BDR选举过程，并跳过步骤2。</li>
<li>如果hello数据包标头中的DR&#x2F;BDR字段已被占用(即DR &#x2F; BDR对已经存在)，则不会进行DR&#x2F;BDR选举，并跳过步骤2。</li>
</ol>
</li>
<li>如果对方的DP&#x2F;BDP优于我的DP&#x2F;BDP，则接受对方的。</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/28.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/28.png" alt="img"></a></p>
<blockquote>
<p>Hello Interval:如果不同不能建立关系,Hello报文包含了DR信息在内的必要的参数</p>
</blockquote>
<h3 id="2-13-2-步骤2：选举DR和BDR"><a href="#2-13-2-步骤2：选举DR和BDR" class="headerlink" title="2.13.2. 步骤2：选举DR和BDR"></a>2.13.2. 步骤2：选举DR和BDR</h3><ol>
<li>如果没有其他路由器联机，则该路由器将成为DR。下一个要”启动”的路由器将是BDR。</li>
<li>如果多个路由器(两个或更多)同时联机，则<ol>
<li>优先级最高的路由器成为DR：优先级为零表示”从不DR”</li>
<li>如果存在平局，则具有最高路由器ID的路由器将成为DR：路由器ID是最高的环回或接口IP地址</li>
<li>具有第二高优先级或路由器ID的路由器成为BDR</li>
</ol>
</li>
<li>如果DR无效，则BDR变为DR。</li>
<li>然而<ol>
<li>如果新的OSPF路由器以更高的优先级或路由器ID加入网络，则当前的DR和BDR<strong>不会更改</strong>。</li>
<li>仅当当前DR失败时，它才成为新的BDR；或者仅当当前DR和BDR失败时，才成为新的DR。</li>
</ol>
</li>
</ol>
<h3 id="2-13-3-步骤3：发现路线"><a href="#2-13-3-步骤3：发现路线" class="headerlink" title="2.13.3. 步骤3：发现路线"></a>2.13.3. 步骤3：发现路线</h3><ol>
<li>这一步从Ex Start状态转换到完整状态</li>
<li>路由器确定”主&#x2F;从(master&#x2F;slave)”关系</li>
<li>多路复用网络中的DR&#x2F;BDR交换LSA，并且所有其他DR将其Type 2 DBD发送给DR&#x2F;BDR。</li>
<li>如有必要，路由器可以通过发送请求更多信息的LSR进入负载状态:所有路由器必须在”加载状态”中等待，直到完全更新请求的路由器。</li>
<li>路由器现在进入完整状态</li>
</ol>
<h3 id="2-13-4-步骤4：选择适当的路线"><a href="#2-13-4-步骤4：选择适当的路线" class="headerlink" title="2.13.4. 步骤4：选择适当的路线"></a>2.13.4. 步骤4：选择适当的路线</h3><ol>
<li>现在，将与网络上的所有其他路由器并行地计算SPF算法。<ol>
<li>切记：在发生这种情况之前，所有路由器必须具有相同的链接状态数据库。</li>
<li>SPF使用Cost作为指标</li>
<li>SPF将从其自身到目的地的每条路径的成本相加，并以路由器为根来构建树</li>
<li>OSPF然后在路由表中安装成本最低的路径：最多将安装4条等价路径以进行负载共享</li>
</ol>
</li>
</ol>
<h3 id="2-13-5-步骤5-维护路由信息"><a href="#2-13-5-步骤5-维护路由信息" class="headerlink" title="2.13.5. 步骤5:维护路由信息"></a>2.13.5. 步骤5:维护路由信息</h3><ol>
<li>常规的Hello交换是OSPF用于检测新邻居或故障(downed)邻居的机制。</li>
<li>根据网络的类型，Hello数据包以不同的默认间隔发送。(确定对方是不是还好)<ol>
<li>对于速度为T1(1.544 Mbps)或更高的链接，每10秒：广播多路访问和点对点链接</li>
<li>对于小于T1的链接，每30秒：非广播多路访问链接</li>
<li>“死间隔”是问候间隔的四倍。(如果在这样子对方还没有成功则对方死了)</li>
</ol>
</li>
</ol>
<h3 id="2-13-6-链路状态变化出现"><a href="#2-13-6-链路状态变化出现" class="headerlink" title="2.13.6. 链路状态变化出现"></a>2.13.6. 链路状态变化出现</h3><p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/32.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/32.png" alt="img"></a></p>
<ul>
<li>Router A tells all OSPF DRs on 224.0.0.6</li>
<li>Event触发交换:比如A连接的网段断掉了</li>
<li>A使用LSU告知<strong>DR</strong></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/33.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/33.png" alt="img"></a></p>
<ul>
<li>DR tells others on 224.0.0.5</li>
<li>DR 通过LSU告知所有的路由器</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/34.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/34.png" alt="img"></a></p>
<ul>
<li>如果B连接了别的Area，则继续进行交换</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/35.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/35.png" alt="img"></a></p>
<ul>
<li>所有的路由信息交换完毕后，同时更新路由表。</li>
</ul>
</li>
</ol>
</li>
<li><p>配置OSPF</p>
<ol>
<li>在路由器上启动OSPF<ol>
<li><code>Router (config)# router ospf process-id</code></li>
<li>进程号:process-id<ol>
<li>取值: 1 ~ 65535</li>
<li>在一台路由器上识别多个OSPF进程</li>
<li>通常在整个AS(自治系统)中保持相同的进程ID</li>
</ol>
</li>
</ol>
</li>
<li>在路由器上识别IP网络<ol>
<li><code>Router (config-router) # network address wildcardmask area area-id</code></li>
<li>网络地址可以是整个网络，子网或接口的地址。</li>
<li>address:IP地址</li>
</ol>
</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/36.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec08/36.png" alt="img"></a></p>
<ul>
<li>只有一个Area，则为0</li>
<li><strong>Wild-card Mask和子网掩码相反</strong>:子网掩码是255.255.255.0，则Wild-card Address就是0.0.0.255</li>
<li>写IP和写网段最后都是一样的</li>
</ul>
</li>
</ol>
<h1 id="第七章-·-局域网交换与VLAN"><a href="#第七章-·-局域网交换与VLAN" class="headerlink" title="第七章 · 局域网交换与VLAN"></a>第七章 · 局域网交换与VLAN</h1><h2 id="交换机"><a href="#交换机" class="headerlink" title="交换机"></a>交换机</h2><ol>
<li>基本功能：<ol>
<li>根据MAC地址建立和维护<strong>交换表</strong>(类似于网桥表)</li>
<li>将帧切换出接口到目标</li>
</ol>
</li>
<li>对称交换<ol>
<li>对称交换可在具有相同带宽(10&#x2F;10 Mbps或100&#x2F;100 Mbps)的端口之间提供交换连接</li>
<li>多个用户尝试某个服务器时，可能会导致瓶颈(对称交换可能会导致带宽不足)。因为多个客户端向服务器访问的话，服务器端口流量会比较阻塞(在对称切换中，双端的带宽是完全对称的)，这是一个瓶颈。</li>
</ol>
</li>
<li>非对称交换<ol>
<li>通过将带有服务器的网段连接到更高带宽的端口(100 Mbps)，非对称交换(asymmetric switching)减少了服务器上潜在瓶颈的可能性</li>
<li>非对称交换需要在交换器中进行内存缓冲</li>
<li>非对称交换端口解决对称交换端口中的对称阻塞问题(进一步保证了服务器的稳定实现)</li>
</ol>
</li>
<li>内存缓冲：<ol>
<li>交换机中存储目标和传输数据的内存区域，直到可以将其切换出正确的端口为止。<ol>
<li>基于端口(Port)的内存缓冲<ol>
<li>数据包存储在每个端口的队列中</li>
<li>由于目标端口繁忙，一个数据包可能会延迟其他数据包的传输</li>
<li>其他端口存在不均衡的问题。</li>
</ol>
</li>
<li>共享(Shared)内存缓冲<ol>
<li>所有端口共享的公用内存缓冲</li>
<li>允许将数据包在一个端口上接收并在另一个端口上发送出去，而无需将其更改为其他队列。</li>
<li>需要自己记录端口的信息</li>
</ol>
</li>
</ol>
</li>
<li>发生阻塞的时候，根据情况按照端口或者内存将包缓存下来</li>
</ol>
</li>
<li>交换方式<ol>
<li>储存转发（Store-and-Forward）<ol>
<li>交换机<strong>接收整个帧</strong>，最后将其计算为CRC，然后再将其发送到目的地</li>
<li>接收后，校验，正确再发送</li>
<li>效率比较低</li>
</ol>
</li>
<li>Cut-through 直通<ol>
<li>转发会增加延迟:通过使用直通切换方法可以减少它</li>
<li>快速转发切换:仅在立即转发帧之前检查目标MAC(只看到帧的目的地址就转发，而不看帧的后面的部分)</li>
</ol>
</li>
<li>Segment-free Switching 无碎片转发<ol>
<li>碎片释放:在转发帧之前读取前64个字节以减少错误:避免碰撞和帧碎</li>
<li>若前64个字节是正常的，说明没有碰撞问题</li>
</ol>
</li>
<li>三个方法查看到的位置如下<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241129133557313.png" alt="image-20241129133557313"></li>
</ol>
</li>
<li>多层交换机<ol>
<li>二层交换机<ol>
<li>大规模集成电路,保证链路效率,低时延,低成本</li>
<li>有一个MAC地址</li>
</ol>
</li>
<li>三层交换机<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241129133734398.png" alt="image-20241129133734398"><ol>
<li>基于硬件的帧转发机制，较高的帧转发性能，低时延</li>
<li>较高速的计算</li>
<li>每一个端口的代价低</li>
<li>流控制</li>
<li>安全性更高</li>
<li>对数据流进行路由，生成MAC和IP的映射</li>
<li>MAC地址过来的时候直接根据表从二层进行通过</li>
<li>与路由器不同的是，路由表是通过软件的方式生成路由表，而第三层交换机通过硬件生成MAC和IP的映射表。而且，而且MAC地址在通过时，走第二层而不是路由。</li>
</ol>
</li>
<li>第四层交换机<ol>
<li>数据段在数据报里面，数据报在数据帧里面</li>
<li>只要交换机可以看到数据帧的数据部分的首部</li>
<li>可以根据端口主机的应用特点进行一定的流量控制</li>
<li>和Net OS是不一样的,没有那么智能</li>
<li>识别到前80个字节的数据报长度，对指定应用进行管理</li>
</ol>
</li>
<li>总结<ol>
<li>一般我们只是用二层交换机</li>
<li>交换机可以简单识别第三层和第四层信息</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="生成树协议（STP）"><a href="#生成树协议（STP）" class="headerlink" title="生成树协议（STP）"></a>生成树协议（STP）</h2><ol>
<li><p>概述</p>
<ol>
<li>桥回路<ol>
<li>出于各种原因，网络中可能会出现环路。<ol>
<li>通常，网络中的环路是故意(deliberate)提供冗余的结果。</li>
<li>也可能由于配置错误而发生:在桥接网络中，环路可能是绝对灾难性的两个主要原因：<ol>
<li>广播回路(广播风暴)，没有TTL</li>
<li>路由表的错误</li>
</ol>
</li>
</ol>
</li>
<li>往往是<strong>第二层交换机</strong>的冗余导致的桥回路。</li>
<li>接入层到核心层的接入往往<strong>要有冗余</strong>，这个区域是主干网(backbone)<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241129134410294.png" alt="image-20241129134410294"></li>
<li>设备通过backbone和远端设备进行链接</li>
</ol>
</li>
<li>第二层路由回路<ol>
<li>广播和第2层循环可能是危险的组合。</li>
<li>以太网帧没有TTL字段</li>
<li>以太网帧开始循环后，它可能会继续下去，直到有人关闭其中一台交换机或断开链路为止(外部条件)</li>
<li>交换机将抖动(flip flop)主机A的桥接表条目(创建极高的CPU利用率)。</li>
<li>消耗CPU和内存</li>
<li>例子：泛洪单播帧<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241129134619425.png" alt="image-20241129134619425"><ol>
<li>过一段时间CAT-1和CAT-2没有收到Host-B的信息，删除表中的对应记录</li>
<li>在这之后，Host A发送给Host B信息，然后在CAT-1和CAT-2之间进行循环</li>
</ol>
</li>
</ol>
</li>
<li>综述<ol>
<li>桥协议数据单元-BPDU</li>
<li>生成树协议的元素<ol>
<li>主要功能：在<strong>交换&#x2F;桥接网络</strong>中允许<strong>冗余路径</strong>，而不会因环路的影响而引起延迟。</li>
<li>STP通过计算<strong>稳定的生成树</strong>网络拓扑来防止环路</li>
<li><strong>生成树帧</strong>(称为桥协议数据单元-BPDU)用于确定生成树拓扑</li>
</ol>
</li>
<li>在正常情况下禁用一些端口来防止出现冗余综述</li>
</ol>
</li>
</ol>
</li>
<li><p>STP决策顺序</p>
<ol>
<li><p>生成树始终使用相同的四步决策序列：</p>
<ol>
<li>选举根交换机：在拓扑里面最低的root BID(网桥标识)作为根交换机</li>
<li>找到 Root bridgh的最低路径成本</li>
<li>每个路径都会选择一个最低BID的sender 这个是针对一个链路的，详见例子</li>
<li>选举根端口：对于每个非根交换机，每个路径再指定一个最低的ID端口</li>
</ol>
</li>
<li><p>如果觉得上边的工作步骤不好理解，可以看下面的三个步骤：</p>
<ol>
<li>选举根交换机</li>
<li>选举根端口，就是到根交换机代价最小的端口</li>
<li>选举指定端口并且阻塞备用端口：<ol>
<li>根端口的对端一定是另一个交换机的指定端口</li>
<li>根交换机的端口都是指定端口</li>
<li>每个网段一定有一个指定端口，计算从哪边发BPDU到根交换机的路径成本最小</li>
<li>若都相同，则找ID小的</li>
<li>剩下的都是备用端口，要阻塞</li>
</ol>
</li>
</ol>
</li>
<li><p>BPDUs(Bridge Protocol Data Unit)</p>
<ul>
<li>注意，与OSPF不同的是，STP不是以自己为根，而是以选举出来的BID为根</li>
</ul>
<ol>
<li>BPDU是交换机之间的流量；它们不承载最终用户(end-user)流量。</li>
<li>STP建立一个称为<strong>根网桥的根节点</strong>，生成的树源自根桥。</li>
<li>不属于最短路径树的冗余连接将被阻止。(block 端口，不转发，但是接收)</li>
<li>在阻塞的链接上收到的数据帧将被丢弃。</li>
<li>交换机发送的允许形成无环逻辑拓扑的消息是BPDU</li>
</ol>
</li>
</ol>
</li>
<li><p>五个状态：</p>
<ol>
<li>通过根据策略配置每个端口来建立状态</li>
<li>然后，STP根据流量模式(traffic Patterns)和潜在环路(Protential Loops)修改状态</li>
<li>STP状态的默认顺序为：<ol>
<li>阻塞:没有转发帧，听到了BPDU</li>
<li>监听:不转发任何帧，监听数据帧(确定自己可以参加的交换)，也会发送一些数据帧表示自己状态变了</li>
<li>学习:不转发帧，学习地址</li>
<li>转发:转发帧，学习地址</li>
<li>禁用:没有转发帧，没有听到BPDU</li>
</ol>
</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/13.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/13.png" alt="img"></a></p>
<blockquote>
<p>STP过程:Blocking -&gt; 20s Listening -&gt; 15s Learning -&gt; 15s Fowarding或者Disabled</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/37.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/37.png" alt="img"></a><br><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/38.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/38.png" alt="img"></a></p>
<ul>
<li>2s可以调整</li>
<li>老化时间:保存的时间</li>
</ul>
</li>
<li><p>初始STP收敛</p>
<ol>
<li><p>步骤1：根交换机决定</p>
<ol>
<li>布自己为根</li>
<li>检查端口上收到的所有BPDU以及将在该端口上发送的BPDU</li>
<li>对于每个到达的BPDU，如果其值小于为端口保存的现有BPDU</li>
<li>旧值被替换</li>
<li>BPDU的发送者被接受为新的根</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/14.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/14.png" alt="img"></a></p>
<ul>
<li>BC收到后将根修改为A</li>
<li>比如在BC链路中，B的MAC地址比较小，作为链路的Sender BID，这个port是指定端口</li>
</ul>
</li>
</ol>
</li>
</ol>
<h2 id="VLAN"><a href="#VLAN" class="headerlink" title="VLAN"></a>VLAN</h2><ol>
<li><p>骨干网</p>
<ol>
<li>VLAN配置需要支持互连的路由器和交换机之间的骨干数据传输。</li>
<li>骨干网是用于VLAN间通信的区域</li>
<li>骨干网应该是高速链路，通常为100Mbps或更高</li>
<li>BackBone可以跑多个VLAN，是骨干网</li>
</ol>
</li>
<li><p>帧的使用：</p>
<ol>
<li><p>交换机根据帧中的数据做出过滤和转发决策。</p>
</li>
<li><p>使用了两种技术</p>
<ol>
<li>帧过滤：检查有关每个帧的特定信息(MAC地址或第3层协议类型),特定的VLAN记录或者映射</li>
<li>帧标记：在整个网络骨干网中转发时，在每个帧的标题中放置一个唯一的标识符</li>
</ol>
</li>
<li><p>帧过滤<img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/25.png" alt="img"></p>
<ol>
<li>收到帧转发后，发现都不在一个LAN上，然后通过Backbone转发</li>
<li>Frame Table在交换机上传输</li>
</ol>
</li>
<li><p>帧标记</p>
<ol>
<li>帧标记实施过程：<ol>
<li>在整个网络骨干网中转发时，在每个帧的标题中放置一个VLAN标识符。</li>
<li>每个开关都可以理解和检查标识符。</li>
<li>当帧离开网络骨干网时，交换机会在帧发送到目标终端站之前删除标识符。只和端口绑定，而不影响主机</li>
</ol>
</li>
<li>帧标记在第2层起作用，并且几乎不需要处理或管理开销。</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/26.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/26.png" alt="img"></a></p>
<ol>
<li>从主机到了交换机端口，交换机端口进行标记，然后进行转发。</li>
</ol>
</li>
</ol>
</li>
<li><p>VLAN到实现</p>
<ol>
<li><p>概述：</p>
<ol>
<li>实现VLAN的两种方法<ol>
<li>静态的</li>
<li>动态的</li>
</ol>
</li>
<li>每一个端口绑定给一个VLAN<ol>
<li>确保不共享同一VLAN的端口不共享广播。</li>
<li>确保共享相同VLAN的端口将共享广播。</li>
</ol>
</li>
<li>实现途径:<ol>
<li>基于端口的虚拟局域网</li>
<li>基于MAC地址的虚拟局域网</li>
<li>基于IP地址的虚拟局域网</li>
<li>基于上层协议的虚拟局域网</li>
</ol>
</li>
</ol>
</li>
<li><p>静态VLAN</p>
<ol>
<li><p>定义：静态VLAN是指将交换机上的端口管理性地分配给VLAN的时间</p>
</li>
<li><p>优点：</p>
<ol>
<li>安全，易于配置和监控</li>
<li>在控制移动的网络中效果很好</li>
</ol>
</li>
<li><p>端口是写死在交换机的端口上的</p>
</li>
</ol>
</li>
<li><p>动态VLAN</p>
<ol>
<li>由服务器配置VLAN信息</li>
<li>交换机通过MAC地址或者哪一个协议，指定是哪一个VLAN</li>
<li>当工作站最初连接到未分配的端口时，交换机会检查表中的条目，并使用正确的VLAN动态配置端口</li>
<li>优点<ol>
<li>添加或移动用户时减少管理(更多前期工作)</li>
<li>集中通知未授权用户</li>
</ol>
</li>
</ol>
</li>
<li><p>以端口为中心的VLAN</p>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/30.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/30.png" alt="img"></a></p>
<ul>
<li>实际的网络是有层次的</li>
<li>static的物理的接入层(physical Layer)</li>
<li>不同电脑在一个房间内</li>
<li>不同房间的不同电脑组成一个VLAN</li>
<li>路由器网关来处理</li>
<li>优点：<ul>
<li>同一VLAN中的所有节点都连接到同一路由器接口</li>
<li>使管理更容易，因为…<ol>
<li>通过路由器端口分配用户</li>
<li>VLAN易于管理。</li>
<li>提供更高的安全性</li>
<li>数据包不会”泄漏”到其他域</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li><p>两种链路</p>
<ol>
<li><p>访问链接Access：</p>
<ol>
<li>访问连接是仅作为一个VLAN成员的交换机上的连接。</li>
<li>此VLAN被称为端口的本机VLAN，连接到端口的任何设备都完全不知道VLAN存在</li>
</ol>
</li>
<li><p>主干链路：</p>
<ol>
<li>主干链路能够支持多个VLAN。</li>
<li>主干链路通常用于将交换机连接到其他交换机或路由器。</li>
<li>交换机在快速以太网和千兆位以太网端口上都支持骨干链路。</li>
<li>也存在访问和骨干链接</li>
<li>一般Trunk就是BackBone</li>
</ol>
</li>
</ol>
</li>
<li><p>在局域网之间的路由</p>
<ol>
<li>每个端口连接一个VLAN，每个IP和一个VLAN连接，就需要很多线，浪费了</li>
<li>我们可以使用串口线，物理上是一个接口，逻辑划分成多个IP和子接口，就相当于trunk线</li>
<li><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/36.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec09/36.png" alt="img"></a><ol>
<li>物理上一个，划分成Fa0&#x2F;1、Fa0&#x2F;2和Fa&#x2F;3</li>
<li>涉及到的是单臂路由</li>
</ol>
</li>
</ol>
</li>
<li><p>注意：</p>
<ol>
<li>同一VLAN中的两台主机可以跨越多台交换机</li>
<li>必须是第三层及以上的交换机才能用来构建VLAN</li>
</ol>
</li>
</ol>
</li>
</ol>
<h1 id="第八章-·-广域网WAN"><a href="#第八章-·-广域网WAN" class="headerlink" title="第八章 · 广域网WAN"></a>第八章 · 广域网WAN</h1><h2 id="广域网技术和设备"><a href="#广域网技术和设备" class="headerlink" title="广域网技术和设备"></a>广域网技术和设备</h2><ol>
<li><p>广域网服务</p>
<ol>
<li>定义:WAN是通过WAN服务提供商连接LAN的通信网络。</li>
<li>一般不是一个单位来做，而是由运营商完成，而在运营商之间沟通好相互的接入问题。</li>
<li>WAN在OSI的前三层运行，但<strong>主要集中在物理和数据链路层</strong>。</li>
<li>广域网和局域网相比相对低效</li>
<li>广域网位于物理层和数据链路层</li>
</ol>
</li>
<li><p>广域网的最小单位是公司</p>
</li>
<li><p>物理结构</p>
<ol>
<li><p><img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241130110327699.png" alt="image-20241130110327699"></p>
<ul>
<li>涉及到具体一个公司的接入</li>
<li>通过NetWork远程接入，通过WSP提供的CO Swtich来连接到中心局</li>
<li>CPE:位于公司本地的设备(主要是接入设备)，可以向ISP购买或者租用，购买上网服务(猫)</li>
<li>CPE和远端通过Local loop连接(最后一公里)，ISP做解决方案。</li>
<li>Demarcation(分界点)：分界点一侧是ISP做解决方案，而另一侧是本地进行管理</li>
</ul>
</li>
</ol>
</li>
<li><p>虚拟电路</p>
<ol>
<li>交换虚拟电路(SVC，Switched Virtual Circuits)是到目的地的WAN路径，可根据需要建立(established)和终止(terminated)。</li>
<li>三个阶段<ol>
<li>电路建立–创建虚拟电路(逻辑确定)</li>
<li>数据传输–发送和接收用户数据(含有虚电路号等)</li>
<li>电路中断–拆除虚拟电路</li>
</ol>
</li>
</ol>
</li>
<li><p>调制解调器</p>
<ol>
<li>通道服务单元 CSU,Channel Service Units&#x2F;数字服务单元 DSU,Digital Service Units</li>
<li>与语音级(voice-grade)连接接口，以便将模拟信号转换为数字信号。</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/6.jpg"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/6.jpg" alt="img"></a></p>
<ol>
<li>CPE(左边的用户网关路由器，作为终端数据单元(DTE)):往往是路由器</li>
<li>DCE:将信号转换成运营商可以接受的信号发送给远端。</li>
</ol>
</li>
</ol>
<h2 id="广域网和OSI模型"><a href="#广域网和OSI模型" class="headerlink" title="广域网和OSI模型"></a>广域网和OSI模型</h2><ol>
<li><p>广域网标准</p>
<ol>
<li>WAN标准主要描述OSI模型的哪些层？<strong>物理层和数据链路层</strong>，物理层提供电器标准，数据链路层封装到远程的部分:帧标准</li>
<li>连接通信服务提供商提供的服务所需的电气、机械、操作和功能特性。</li>
<li>描述DTE和DCE之间的接口</li>
</ol>
</li>
<li><p>物理层</p>
<ol>
<li>描述如何为WAN服务提供电气，机械，操作和功能连接的协议。</li>
<li>这些服务通常是从WAN服务提供商，备用运营商，电话后和电报(PTT)机构获得的。</li>
<li>描述数据终端设备(DTE, Data Terminal Equipment)和数据电路终端设备(DCE. Data Circuit-terminating Equipment)之间的接口。</li>
<li>通常，DCE是服务提供商，而DTE是连接的设备。</li>
<li>在此模型中，通过调制解调器或 CSU &#x2F; DSU 提供给DTE的服务。</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/8.jpg"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/8.jpg" alt="img"></a></p>
<blockquote>
<p>一般以用户路由器作为DTE，运营商提供的Modem做信号转换，作为DCE</p>
</blockquote>
</li>
<li><p>数据链路层的帧封装</p>
<ol>
<li>WAN数据链路层定义了如何封装数据以传输到远程站点<ol>
<li><strong>点对点协议(PPP,Point-to-Point Protocol)</strong>:由IETF开发。PPP包含用于识别网络层协议的协议字段(包含一个协议单元，指定网络协议)</li>
<li><strong>高级数据链路控制(HDLC, High-Level Data Link Control)</strong>:ISO标准，不同供应商之间不兼容的HDLC，因为每个供应商都选择了实现方式。HDLC支持点对点&#x2F;多点配置(抽象规范和约束，各个厂商不同)</li>
<li><strong>帧中继(Frame Relay)</strong>：使用简化的封装，对高质量的数字设备不进行纠错。(比较高速)</li>
<li><strong>ISDN</strong>：通过现有电话线传输语音和数据的一组数字服务。</li>
<li><strong>平衡的链路访问程序(LAPB, Link Access Procedure, Balanced)</strong>：用于在X.25堆栈的第2层封装数据包的数据包交换网络。 提供点对点的可靠性和流量控制。</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="点对点协议-PPP-Point-to-Point-Protocol-（本次考试重点）"><a href="#点对点协议-PPP-Point-to-Point-Protocol-（本次考试重点）" class="headerlink" title="点对点协议(PPP,Point-to-Point Protocol) *** （本次考试重点）"></a>点对点协议(PPP,Point-to-Point Protocol) *** （本次考试重点）</h2><ol>
<li><p>概述 ***</p>
<ol>
<li>点对点的标准</li>
<li>以思科厂商为标准</li>
<li>工作在串行链路上的</li>
<li>如果都是同一个厂商的可以用HDLC，不然使用PPP</li>
</ol>
</li>
<li><p>串行线框字段</p>
<ol>
<li>两种最常见的点对点WAN封装是HDLC(High-level Data Protocol)和PPP(Point to Poing Protocol)</li>
<li>所有串行线封装共享一个通用的帧格式，该格式具有以下字段</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/9.jpg"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/9.jpg" alt="img"></a></p>
<blockquote>
<p>封装协议的选择取决于WAN技术和通信设备</p>
</blockquote>
</li>
<li><p>PPP和HDLC</p>
<ol>
<li><strong>PPP是一种标准的串行线路封装方法，为点对点链路各种协议数据报提供了一个标准方法</strong>。<ol>
<li>由IETF(The Internet Engineering Task)开发;取代SLIP(Serial Line Internet Protocol)</li>
<li>包含标识网络层协议的字段</li>
<li>PPP可以在建立连接期间检查链接质量</li>
<li><strong>通过密码认证协议(PAP)和质询握手认证协议(CHAP)提供认证</strong>。</li>
</ol>
</li>
<li>HDLC是Cisco串行线的默认封装<ol>
<li>没有窗口或流量控制</li>
<li>框架中插入了专有类型(所有权)代码，这意味着HDLC帧不能与其他供应商的设备互操作。</li>
<li>当专用线路连接的两端是运行Cisco IOS的路由器时使用</li>
<li>不做出窗口控制和流控制</li>
</ol>
</li>
<li>比较：<ol>
<li>HDLC是面向位的链路层协议，通常用于专有环境。</li>
<li>HDLC不支持多协议封装，通常用于固定类型的网络。</li>
<li>PPP相比HDLC更灵活，支持多种协议和认证功能，因此更适合异构网络。</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="PPP点对点协议"><a href="#PPP点对点协议" class="headerlink" title="PPP点对点协议"></a>PPP点对点协议</h3><ol>
<li><p>概述</p>
<ol>
<li>串行链路上使用最广泛的第2层协议</li>
<li>从SLIP开发，<ol>
<li>仅支持IP协议</li>
<li>不支持动态IP分配</li>
<li>不支持身份验证</li>
<li>不支持压缩</li>
<li>不支持错误检测</li>
</ol>
</li>
<li>PPP提供以下功能<ol>
<li>网络协议多路复用</li>
<li>动态分配IP地址</li>
<li>验证：PAP，CHAP</li>
<li>压缩</li>
<li>错误检测</li>
</ol>
</li>
</ol>
</li>
<li><p>PPP组件</p>
<ol>
<li>使用HDLC(ISO HDLC，而非Cisco HDLC)作为封装第3层数据报的基础</li>
<li>实现LCP(链接控制协议)以：<ol>
<li>建立连接</li>
<li>连接配置选项</li>
<li>链接质量测试</li>
</ol>
</li>
<li>实施NCP(网络控制协议，Network Control Protocol)以选择和配置第3层协议。<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241130152243250.png" alt="image-20241130152243250"></li>
</ol>
</li>
<li><p>PPP帧格式<a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/10.jpg"><br><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/10.jpg" alt="img"></a></p>
<blockquote>
<p>数字的单位是字节</p>
</blockquote>
<ol>
<li>Flag: 01111110，0x7E 标记：帧的开头或结尾，01111110，一位可能会连续接受到多个帧</li>
<li>Address：11111111, 0xFF，广播地址</li>
<li>Control：00000011, 0x03，用户数据作为无序帧传输</li>
<li>Protocol: 数据字段中的协议类型</li>
<li>Data: 数据报，最大默认值为1500字节</li>
<li>FCS: 2或者4字节，循环冗余校验位</li>
</ol>
</li>
<li><p>PPP会话建立&#x2F;终止</p>
<ol>
<li>为了通过点对点链路建立通信，PPP经历四个不同的阶段：<ol>
<li>步骤一: 链接建立和配置协商(negotiation)(链路控制协议，LCP)。</li>
<li>步骤二: 链接质量测试。</li>
<li>步骤三: 网络层协议配置(NCP)。</li>
<li>步骤四: 链接终止。</li>
</ol>
</li>
<li>阶段一：连接建立<ol>
<li>建立链接是交换任何网络层数据报之前的第一阶段<ol>
<li>每个PPP设备发送LCP来打开连接</li>
<li>LCP数据包包含一个配置选项字段，该字段允许设备协商选项的使用，例如<strong>压缩和身份验证协议</strong>等。</li>
<li>如果LCP数据包中未包含配置选项，则采用该配置选项的<strong>默认值</strong>。</li>
<li>当已发送和接收配置<strong>确认</strong>帧时，此阶段完成。</li>
</ol>
</li>
<li>在完成这个步骤前不会传输具体数据帧的。</li>
</ol>
</li>
<li>第二阶段：链路质量确定<ol>
<li>发送和接收LCP数据包以测量链路上的错误率(如果已配置)</li>
<li>身份验证(如果使用)在网络层协议配置阶段开始之前进行。(可选)</li>
<li>LCP可以延迟网络层协议信息的传输，直到完成此阶段。</li>
<li>在这之前不能传输网络帧。</li>
</ol>
</li>
<li>第三阶段：网络层协议配置<ol>
<li>在此阶段，PPP设备发送NCP数据包以选择和配置一个或多个网络层协议(例如IP)。</li>
<li>配置了每个选定的网络层协议后，可以通过链接发送来自每个网络层协议的数据报。</li>
</ol>
</li>
<li>第四阶段：链接终止<ol>
<li>LCP可以随时终止链接：<ol>
<li>应用户要求；(一方请求终止)</li>
<li>链接质量</li>
<li>超时</li>
</ol>
</li>
<li>当LCP关闭链接时，它将通知网络层协议，以便它们可以采取适当的措施。</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="PAP安全认证协议"><a href="#PAP安全认证协议" class="headerlink" title="PAP安全认证协议"></a>PAP安全认证协议<img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/12.jpg" alt="img"></h3><ol>
<li>PAP由一方向另一方发起请求，另一方选择是否接受，双方具有<strong>相同</strong>的用户名和密码,发起方可以多次尝试</li>
<li>链接的发起方(Calling Side)输入身份验证信息，以帮助确保用户具有网络管理员的许可来进行连接。</li>
<li>远程节点使用双向握手PAP建立其身份。</li>
<li>远程节点<strong>重复</strong>发送用户名&#x2F;密码对，直到确认身份验证或连接终止</li>
<li>密码以明文形式通过链接发送。</li>
<li>在建立连接阶段之后，仅对远程节点进行一次身份验证。</li>
</ol>
<h3 id="CHAP"><a href="#CHAP" class="headerlink" title="CHAP"></a>CHAP<img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/13.jpg" alt="img"></h3><ol>
<li><p>概述</p>
<ol>
<li>避免明文发送,三阶段握手,发起方是HQ，找一个时间来Challenge，然后由用户进行response，之后决定是否接受。密码密文发送比较安全，而且更加合理的设计。</li>
<li>被叫方使用三向握手CHAP协议定期验证主叫方。</li>
<li>CHAP不允许呼叫者在没有Challenge(随机数)的情况下尝试进行身份验证。(Challenge-&gt;随机数)</li>
<li>主机(称为参与者)将质询消息发送到远程节点。</li>
<li>远程节点以一个值(加密的值，包括：接收到的质询，其用户名和密码)进行响应:value是challenge和密钥生成的</li>
<li>主机根据自己的价值检查响应<ol>
<li>如果值匹配，则确认身份验证</li>
<li>否则，连接终止</li>
</ol>
</li>
</ol>
</li>
<li><p>流程：</p>
<ol>
<li><p>挑战：</p>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/14.jpg"><br><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/14.jpg" alt="img"></a></p>
<ul>
<li>RTB请求连接RTA</li>
<li>他们都存储一个用户名密码，但是用户名不同，密码相同</li>
<li>RTB发送一个连接请求</li>
<li>RTA找一个时间来发起挑战</li>
<li>挑战中内容:<ul>
<li>编号</li>
<li>id是第几次挑战</li>
<li>random:生成的随机数</li>
<li>RTA:谁发起的挑战</li>
</ul>
</li>
</ul>
</li>
<li><p>应答：</p>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/15.jpg"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/15.jpg" alt="img"></a></p>
<ul>
<li>RTB进行应答，</li>
<li>RTB操作:pass + random 使用 MD5 算法 -&gt; 哈希值</li>
</ul>
</li>
<li><p>验证确认：</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/16.jpg"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/16.jpg" alt="img"></a><ul>
<li>RTA收到RTB的回复，然后比较是否相同</li>
</ul>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="综合数字服务网络-ISDN-Integrated-Services-Digital-Networks"><a href="#综合数字服务网络-ISDN-Integrated-Services-Digital-Networks" class="headerlink" title="综合数字服务网络(ISDN, Integrated Services Digital Networks)"></a>综合数字服务网络(ISDN, Integrated Services Digital Networks)</h2><ol>
<li><p>概述</p>
<ol>
<li>集成服务数字网络允许通过现有电话线传输数字信号:提供远程站点的连接</li>
<li>ISDN具有以下优点：<ol>
<li>可以携带语音，视频和数据</li>
<li>使用带外D(或Delta)信道比调制解调器(有时&lt;1s)更快的呼叫建立</li>
<li>使用B(或屏障)通道以64kps提供更快的数据传输</li>
</ol>
</li>
<li>ISDN服务有两种：<ol>
<li>BRI(基本速率接口, Basic Rate Interface),用户虚拟电路数据传，HDLC,PPP</li>
<li>PRI(主速率接口,Primary Rate Interface)，发送控制信息，LAPD</li>
</ol>
</li>
<li>ISDN BRI服务提供两个B通道和一个D通道。</li>
<li>ISDN BRI将144kbps(2B + D &#x3D; 144kps)线路的总带宽传送到三个单独的通道中。</li>
<li>BRI B信道服务以64 kbps的速率运行，旨在承载用户数据和语音流量。</li>
<li>第三个通道，D通道，是一个16 kbps信令通道，用于承载指令，这些指令告诉电话网络如何处理每个B通道。</li>
<li>BRI和DRI都是基于电话信道的</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/17.jpg"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/17.jpg" alt="img"></a></p>
<ul>
<li>B信道传递HDLC和PPP数据帧</li>
<li>D信道传递LAPD数据帧</li>
</ul>
</li>
<li><p>BRI</p>
<ol>
<li>ISDN BRI服务提供两个B通道和一个D通道。</li>
<li>BRI B信道服务以64 kbps的速率运行，旨在承载用户数据和语音流量。</li>
<li>第三个通道，D通道，是一个16 kbps信令通道，用于承载指令，这些指令告诉电话网络如何处理每个B通道。</li>
</ol>
</li>
</ol>
<h2 id="非对称数字用户线路-ADSL-Asymmetric-Digital-Subscriber-Line"><a href="#非对称数字用户线路-ADSL-Asymmetric-Digital-Subscriber-Line" class="headerlink" title="非对称数字用户线路(ADSL,Asymmetric Digital Subscriber Line)"></a>非对称数字用户线路(ADSL,Asymmetric Digital Subscriber Line)</h2><ol>
<li>概述<ol>
<li>xDSL 技术就是用数字技术对现有的模拟电话用户线进行改造，使它能够承载宽带业务</li>
<li>DSL的前缀 x 表示在数字用户线上实现的不同宽带方案</li>
<li>虽然标准模拟电话信号的频带限制在 300~3400kHz 范围内，但用户线本身实际可通过的信号频率仍超过 1 MHz</li>
<li>xDSL 技术把 0~4 kHz 低端频谱留给传统电话使用，而把原来没有被利用的高端频谱留给用户上网使用</li>
<li>DSL:数字用户线(Digital Subscriber Line)</li>
</ol>
</li>
<li>ADSL 的极限传输距离：ADSL 的极限传输距离与<strong>数据率</strong>以及<strong>用户线的线径</strong>都有很大的关系(用户线越细，信号传输时的衰减就越大)</li>
<li>ADSL 的特点<ol>
<li>上行和下行带宽不对称:上行指从用户到 ISP，而下行指从 ISP 到用户</li>
<li>ADSL 在用户线(铜线)的两端各安装一个 ADSL 调制解调器。</li>
<li>上行下行不对称，下行大于上行</li>
</ol>
</li>
<li>第二代 ADSL<ol>
<li>通过提高调制效率得到了更高的数据率。</li>
<li>采用了<strong>无缝速率自适应技术 SRA</strong> (Seamless Rate Adaptation)，可在运营中不中断通信和不产生误码的情况下，自适应地调整数据率。</li>
<li>改善了线路质量评测和故障定位功能，这对提高网络的运行维护水平具有非常重要的意义。</li>
</ol>
</li>
</ol>
<h2 id="SONET"><a href="#SONET" class="headerlink" title="SONET"></a>SONET</h2><ol>
<li><p>同步数字系统的2种标准：同步光纤网SONET和同步数字系列SDH</p>
<ol>
<li>旧的数字传输系统存在着许多缺点。其中最主要的是以下两个方面：</li>
<li>速率标准不统一：如果不对高次群的数字传输速率进行标准化，国际范围的高速数据传输就很难实现。</li>
<li>不是同步传输： 在过去相当长的时间，为了节约经费，各国的数字网主要是采用准同步方式。</li>
</ol>
</li>
<li><p>同步光纤网 SONET</p>
<ol>
<li>同步光纤网 SONET (Synchronous Optical Network) 的各级时钟都来自一个非常精确的主时钟(铯原子钟，精度优于10-11秒)</li>
<li>第 1 级同步传送信号 STS-1 (Synchronous Transport Signal)的传输速率是 51.84 Mb&#x2F;s。</li>
</ol>
</li>
<li><p>同步数字系列 SDH</p>
<ol>
<li>ITU-T 以美国标准 SONET 为基础，制订出国际标准同步数字系列 SDH (Synchronous Digital Hierarchy)。</li>
<li>一般可认为 SDH 与 SONET 是同义词。</li>
<li>SDH 的基本速率为 155.52 Mb&#x2F;s，称为第 1 级同步传递模块 (Synchronous Transfer Module)，即 STM-1，相当于 SONET 体系中的 OC-3 速率。</li>
</ol>
</li>
<li><h3 id="SONET-的-OC-级-STS-级与-SDH-的-STM-级的对应关系"><a href="#SONET-的-OC-级-STS-级与-SDH-的-STM-级的对应关系" class="headerlink" title="SONET 的 OC 级&#x2F;STS 级与 SDH 的 STM 级的对应关系"></a>SONET 的 OC 级&#x2F;STS 级与 SDH 的 STM 级的对应关系</h3><p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/20.jpg"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/20.jpg" alt="img"></a></p>
</li>
<li><h3 id="SONET-的体系结构"><a href="#SONET-的体系结构" class="headerlink" title="SONET 的体系结构"></a>SONET 的体系结构</h3><p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/21.jpg"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/21.jpg" alt="img"></a></p>
<ul>
<li>SDH也是光传输</li>
<li>路径很长，分为一段一段的线路。</li>
<li>线路中复用器和复用器之间分成段，使用转发器</li>
</ul>
</li>
<li><p>同步光纤网 SONET</p>
<ol>
<li>SONET 第 1 级同步传送信号 STS-1 ( Synchronous Transport Signal) 的传输速率为 51.84 Mb&#x2F;s，第 3 级同步传送信号 STS-3 传输速率是 STS-1 的3倍，为155.52 Mb&#x2F;s， …，等等，依此类推。</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/22.jpg"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/22.jpg" alt="img"></a></p>
<ol>
<li>STS帧为时分复用幀，8000帧&#x2F;秒，每帧125 μS</li>
<li>其对应的光信号则称为第 1 级光载波 OC-1 (OC表示 Optical Carrier)，第 3 级光载波 OC-3， …，等</li>
</ol>
</li>
<li><p>SONET 标准的四个光接口层</p>
<ol>
<li>光子层(Photonic Layer)：处理跨越光缆的比特传送。</li>
<li>段层(Section Layer)：在光缆上传送 STS-N 帧。</li>
<li>线路层(Line Layer)：负责路径层的同步和复用</li>
<li>路径层(Path Layer)：处理路径端接设备 PTE (Path Terminating Element)之间的业务的传输。</li>
</ol>
</li>
</ol>
<h2 id="光纤同轴混合网HFC-Hybrid-Fiber-Coax"><a href="#光纤同轴混合网HFC-Hybrid-Fiber-Coax" class="headerlink" title="光纤同轴混合网HFC(Hybrid Fiber Coax)"></a>光纤同轴混合网HFC(Hybrid Fiber Coax)</h2><ul>
<li>主要链路用光纤，到户用同轴电缆</li>
</ul>
<ol>
<li><p>内容：</p>
<ol>
<li>HFC 网是在目前覆盖面很广的有线电视网 CATV 的基础上开发的一种居民宽带接入网。</li>
<li>HFC 网除可传送 CATV 外，还提供电话、数据和 其他宽带交互型业务。</li>
<li>现有的 CATV 网是树形拓扑结构的同轴电缆网络， 它采用模拟技术的频分复用对电视节目进行单向传 输。而 HFC 网则需要对 CATV 网进行改造</li>
</ol>
</li>
<li><p>HFC 的主要特点</p>
<ol>
<li>HFC网的<strong>主干线</strong>路采用光纤</li>
<li>HFC 网将原 CATV 网中的同轴电缆主干部分改换为光纤，并使用模拟光纤技术。</li>
<li>在模拟光纤中采用光的振幅调制 AM，这比使用数字 光纤更为经济。</li>
<li>模拟光纤从头端连接到<strong>光纤结点(fiber node)</strong>，即光分配结点 ODN (Optical Distribution Node)。在光纤结点光信号被转换为电信号。在光纤结点以下就是同轴电缆。(光信号转换成点信号)<img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/23.jpg" alt="img">到小区前是光传输，之后是电传输</li>
<li>具有比 CATV 网更宽的频谱，且具有双向传输功能</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/24.jpg"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/24.jpg" alt="img"></a></p>
</li>
<li><p>用户接口盒UIB (User Interface Box)</p>
<ol>
<li>每个家庭要安装一个用户接口盒</li>
<li>用户接口盒要提供三种连接，即：<ol>
<li>使用同轴电缆连接到机顶盒(set-top box)，然后再连接到用户的电视机。</li>
<li>使用双绞线连接到用户的电话机。</li>
<li>使用电缆调制解调器连接到用户的计算机。</li>
</ol>
</li>
</ol>
</li>
<li><p>电缆调制解调器(Cable Modem)</p>
<ol>
<li>电缆调制解调器是为 HFC 网而使用的调制解调器。</li>
<li>电缆调制解调器最大的特点就是<strong>传输速率高</strong>。其下行速率一般在 3∼10 Mb&#x2F;s之间，最高可达 30 Mb&#x2F;s，而上行速率一般为 0.2∼2 Mb&#x2F;s，最高可达 10 Mb&#x2F;s。</li>
<li>电缆调制解调器比在普通电话线上使用的调制解调器要复杂得多，并且不是成对使用，而是只安装在<strong>用户端</strong>。(远端是光，不是电）</li>
</ol>
</li>
<li><p>HFC 网的最大优点</p>
<ol>
<li>具有很宽的频带，并且能够利用已经有相当大的覆盖面的有线电视网。</li>
<li>要将现有的 450 MHz 单向传输的有线电视网络改造为 750 MHz 双向传输的 HFC 网(还要将所有的用户服务区互连起来而不是一个个 HFC 网的孤岛)， 也需要相当的资金和时间。</li>
<li>在电信政策方面也有一些需要协调解决的问题。</li>
<li>电信也在跨界到视频</li>
</ol>
</li>
<li><p>FTTx 技术</p>
<ol>
<li>FTTx(光纤到……)也是一种实现宽带居民接入网的方案。这里字母 x 可代表不同意思。<ol>
<li>光纤到家 FTTH (Fiber To The Home)：光纤一直铺设到用户家庭可能是居民接入网最后的解决方法。</li>
<li>光纤到大楼 FTTB (Fiber To The Building)：光纤进入大楼后就转换为电信号，然后用电缆或双绞线分配到各用户。</li>
<li>光纤到路边 FTTC (Fiber To The Curb)：从路边到各用户可使用星形结构双绞线作为传输媒体。</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="考试要求"><a href="#考试要求" class="headerlink" title="考试要求"></a>考试要求</h2><ol>
<li>名词解释</li>
<li>ADSL意义、实现和B和D信道的带宽使用等</li>
</ol>
<h1 id="第九章-·-网络安全"><a href="#第九章-·-网络安全" class="headerlink" title="第九章 · 网络安全"></a>第九章 · 网络安全</h1><h2 id="概述-5"><a href="#概述-5" class="headerlink" title="概述"></a>概述</h2><ol>
<li>计算机网络上的通信面临以下的四种威胁：</li>
</ol>
<table>
<thead>
<tr>
<th>威胁</th>
<th>解释</th>
<th>攻击类型</th>
</tr>
</thead>
<tbody><tr>
<td>截获</td>
<td>从网络上窃听他人的通信内容。</td>
<td>被动攻击</td>
</tr>
<tr>
<td>中断</td>
<td>有意中断他人在网络上的通信。</td>
<td>主动攻击</td>
</tr>
<tr>
<td>篡改</td>
<td>故意篡改网络上传送的报文。</td>
<td>主动攻击</td>
</tr>
<tr>
<td>伪造</td>
<td>伪造信息在网络上传送。</td>
<td>主动攻击</td>
</tr>
</tbody></table>
<ol>
<li>被动攻击<ol>
<li>截获信息的攻击称为被动攻击(并不改变通讯的过程)</li>
<li>在被动攻击中，攻击者只是观察和分析某一个协议数据单元PDU而不干扰信息流。</li>
</ol>
</li>
<li>主动攻击<ol>
<li>更改信息和拒绝用户使用资源的攻击称为主动攻击。(修改了通信的构成)</li>
<li>主动攻击是指攻击者对某个连接中通过的PDU进行各种处理(理解PDU后)<ol>
<li>更改报文流</li>
<li>拒绝报文服务</li>
<li>伪造连接初始化</li>
</ol>
</li>
</ol>
</li>
<li>计算机网络通信安全的目标<ol>
<li>防止析出报文内容</li>
<li>防止通信量分析(通信的习惯)</li>
<li>检测更改报文流</li>
<li>检测拒绝报文服务</li>
<li>检测伪造初始化连接</li>
</ol>
</li>
<li>报文应该具有的性质<ol>
<li>保密性</li>
<li>完整性</li>
<li>可用性</li>
<li>鉴别性</li>
<li>不可否认(抵赖)性:确认是特定的发送方</li>
</ol>
</li>
<li>恶意程序(malicious program)<ol>
<li>计算机病毒:会”传染”其他程序的程序，“传染” 通过修改其他程序来把自身或其变种复制进去而完成。</li>
<li>计算机蠕虫:通过网络的通信功能将自身从一个结点发送到另一个结点并启动运行的程序。(特定场景才能使用，出现上商业行为)</li>
<li>特洛伊木马:一种程序，它执行的功能超出所声称的功能（伪装成正常程序，但是留了后门）。运作木马获得特殊的权限<ol>
<li>逻辑程序:逻辑下载程序</li>
<li>控制器程序:远程控制</li>
</ol>
</li>
<li>逻辑炸弹:一种当运行环境满足某种特定条件时执行其他特殊功能的程序。</li>
</ol>
</li>
<li>计算机网络安全的内容<ol>
<li>保密性</li>
<li>安全协议的设计</li>
<li>访问控制</li>
</ol>
</li>
</ol>
<h2 id="一般的数据加密模型"><a href="#一般的数据加密模型" class="headerlink" title="一般的数据加密模型"></a>一般的数据加密模型</h2><ol>
<li>概述：<ol>
<li><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/2.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/2.png" alt="img"></a><ol>
<li>不确定有没有人修改:使用密文发送</li>
<li>最早的是凯撒密码:<ol>
<li>加密：明文按照数字mod的值进行偏移，得到密文</li>
<li>解密：密文反向偏移数字mod的值进行偏移，得到明文</li>
</ol>
</li>
</ol>
</li>
<li>密码相关的重要概念<ol>
<li><strong>密码编码学</strong>(cryptography)是密码体制的设计学(设计密码)</li>
<li><strong>密码分析学</strong>(cryptanalysis)则是在未知密钥的情况下从密文推演出明文或密钥的技术。密码编码学与密码分析学合起来即为密码学(cryptology)。</li>
<li>如果不论截取者获得了多少密文，但在密文中都没有足够的信息来唯一地确定出对应的明文，则这一密码体制称为<strong>无条件安全</strong>的，或称为<strong>理论上是不可破</strong>的。</li>
<li>如果密码体制中的密码不能被可使用的计算资源破译，则这一密码体制称为在<strong>计算上安全</strong>的。(目前一般的密码体系能够达到的标注)</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="对称密钥和公钥密码体制"><a href="#对称密钥和公钥密码体制" class="headerlink" title="对称密钥和公钥密码体制"></a>对称密钥和公钥密码体制</h2><ol>
<li><p>对称密钥密码体系</p>
<ol>
<li>概述<ol>
<li>所谓常规密钥密码体制，即加密密钥与解密密钥是<strong>相同</strong>的密码体制。</li>
<li>这种加密系统又称为<strong>对称密钥系统</strong>。</li>
</ol>
</li>
<li>数据加密标准 （DES Data Encryption Standard）<ol>
<li>数据加密标准DES属于常规密钥密码体制，是一种分组密码(对称加密算法)</li>
<li>在加密前，先对整个明文进行分组。每一个组长为64位。</li>
<li>然后对每一个64位二进制数据进行加密处理，产生一组64位密文数据。</li>
<li>最后将各组密文串接起来，即得出整个的密文。</li>
<li>使用的密钥为64位(实际密钥长度为56位，有8位用于奇偶校验)。</li>
<li>对于64位密码有编排的过程，详细自己查找学习</li>
<li>密钥长度不会太长，算法复杂度比较低</li>
</ol>
</li>
<li>DES 的保密性<ol>
<li>DES的保密性仅取决于对密钥的保密，而算法是公开的。尽管人们在破译DES方面取得了许多进展，但至今仍未能找到比穷举搜索密钥更有效的方法。</li>
<li>DES 是世界上第一个公认的实用密码算法标准，它曾对密码学的发展做出了重大贡献。</li>
<li>目前较为严重的问题是DES的密钥的长度(算力提升)<ol>
<li>由于算力的提升，破解DES所需的时间进一步降低，不再是计算上安全的了。</li>
<li>通过增加DES密钥的长度来提高安全性。</li>
</ol>
</li>
<li>现在已经设计出来搜索DES密钥的专用芯片(硬件层面的解决方案)</li>
</ol>
</li>
</ol>
</li>
<li><p>公钥密码体制</p>
<ol>
<li><p>公钥密码体制使用</p>
<p>不同的加密密钥与解密密钥</p>
<p>，是一种”由已知加密密钥推导出解密密钥在</p>
<p>计算上是不可行</p>
<p>的”密码体制。(非对称密码体系)</p>
<ol>
<li>经典算法:密钥E和N，明文是一个数字，加密时用明文做E的指数次方之后mod N得到密文C，解密是D和N，密文C做D次方再mod N得到明文</li>
<li>例子:密钥是7和187，明文88，88的7次方mod187 &#x3D; 11(密文)，解密密钥23和187，11的23次方mod187得到88(明文)</li>
</ol>
</li>
</ol>
<p>88(明文)7 mod 187&#x3D;11(密文)88(明文)7 mod 187&#x3D;11(密文)<br>11(密文)23 mod 187&#x3D;88(明文)11(密文)23 mod 187&#x3D;88(明文)</p>
<ol>
<li><p>公钥密码体制的产生主要是因为两个方面的原因，一是由于常规密钥密码体制的密钥分配问题，另一是由于对数字签名的需求。</p>
<ol>
<li>一个机构可以发送自己的公钥，保留自己的密钥。接收者受到密钥加密的就知道是谁发送的，保证机构可以发送安全认证，接受者使用公钥解密知道是谁发送的，做到密钥的分配</li>
<li>私钥加密的是机构的签名，大量数据传输使用对称密钥体系传输，公钥发送比较少的数据，因为公钥密码体系算法复杂度比较高，加密的时候是很多位的明文，计算量太大。</li>
</ol>
</li>
<li><p>现有最著名的公钥密码体制是RSA体制，它基于数论中大数分解问题的体制，由美国三位科学家Rivest，Shamir和Adleman于1976年提出并在1978年正式发表。</p>
</li>
<li><p>公钥算法的例子</p>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/3.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/3.png" alt="img"></a></p>
<ol>
<li>在公钥密码体制中，加密密钥(即公钥)PK是公开信息，而解密密钥(即私钥或秘钥)SK是需要保密的</li>
<li>加密算法E和解密算法D也都是公开的</li>
<li>虽然SK是由PK决定的，但却不能根据PK计算出SK(单向的)</li>
<li>公钥和私钥是成对生成的</li>
</ol>
</li>
<li><p>公钥算法的特点</p>
<ol>
<li><p>发送者A用B的公钥</p>
<p>PKBPKB</p>
<p>对明文X加密(E运算)后，在接收者B用自己的私钥</p>
<p>SKBSKB</p>
<p>解密(D 运算)，即可恢复出明文：</p>
<ul>
<li>DSKB(Y)&#x3D;DSKB(EPKB(X))&#x3D;XDSKB(Y)&#x3D;DSKB(EPKB(X))&#x3D;X</li>
</ul>
</li>
<li><p>解密密钥是接收者专用的秘钥，对其他人都保密。</p>
</li>
<li><p>加密密钥是公开的，但不能用它来解密，即</p>
<ul>
<li>DPKB(EPKB(X))≠XDPKB(EPKB(X))&#x3D;X</li>
</ul>
</li>
<li><p>加密和解密的运算可以对调，即(用私钥进行加密，意义有差别:这样子证明是B发送的，但是别人都知道公钥，相当于明文发送)</p>
<ul>
<li>EPKB(DSKB(X))&#x3D;DSKB(EPKB(X))&#x3D;XEPKB(DSKB(X))&#x3D;DSKB(EPKB(X))&#x3D;X</li>
</ul>
</li>
<li><p>在计算机上可容易地产生成对的PK和SK</p>
</li>
<li><p>从已知的PK实际上不可能推导出SK，即从PK到SK是”计算上不可能的”</p>
</li>
<li><p>加密和解密算法都是公开的</p>
</li>
</ol>
</li>
<li><p><strong>应当注意：</strong></p>
<ol>
<li>任何加密方法的安全性取决于<strong>密钥的长度</strong>，以及<strong>攻破密文所需的计算量</strong></li>
<li>在这方面，公钥密码体制并不比传统加密体制更加优越</li>
<li>由于目前公钥加密算法的开销较大，在可见的将来还不会放弃传统的加密方法</li>
<li>公钥需要密钥分配协议，具体的分配过程并不比采用传统加密方法时更简单</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="数字签名"><a href="#数字签名" class="headerlink" title="数字签名"></a>数字签名</h2><ol>
<li><p>概述：</p>
<ol>
<li>数字签名必须保证以下三点：<ol>
<li>报文鉴别:接收者能够核实发送者对报文的签名</li>
<li>报文的完整性:发送者事后不能抵赖对报文的签名</li>
<li>不可否认:接收者不能伪造对报文的签名</li>
</ol>
</li>
<li>现在已有多种实现各种数字签名的方法。但采用<strong>公钥算法</strong>更容易实现</li>
</ol>
</li>
<li><p>数字签名的实现</p>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/4.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/4.png" alt="img"></a></p>
<ol>
<li>因为除A外没有别人能具有A的私钥，所以除A外没有别人能产生这个密文。因此B相信报文X是A签名发送的。</li>
<li>若A要抵赖曾发送报文给B，B可将明文和对应的密文出示给第三者。第三者很容易用A的公钥去证实A确实发送X给B。</li>
<li>反之，若B将X伪造成Y，则B不能在第三者前出示对应的密文。这样就证明了B伪造了报文。</li>
</ol>
</li>
</ol>
<h2 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h2><ol>
<li><p>概述</p>
<ol>
<li>防火墙是由软件、硬件构成的系统，是一种特殊编程(ACL)的路由器，用来在两个网络之间实施接入控制策略。接入控制策略是由使用防火墙的单位自行制订的，为的是可以最适合本单位的需要。</li>
<li>防火墙内的网络称为<strong>可信赖的网络</strong>(trusted network)，而将外部的因特网称为<strong>不可信赖的网络</strong>(untrusted network)。</li>
<li>防火墙可用来解决内联网和外联网的<strong>安全问题</strong>。</li>
</ol>
</li>
<li><p>防火墙在互连网络中的位置</p>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/6.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/6.png" alt="img"></a></p>
<ol>
<li>其实只用一个路由器就可以完成防火墙的划分。</li>
<li>例子中:应用网关，可以内部外部进行访问过滤。</li>
<li>优点:在防火墙中的外局域网和内局域网都可以放置一些服务器，由左侧过滤的路由器控制访问，而右侧的路由控制内部网络的访问，从而达成一个访问权限控制</li>
<li>内网络安全也是一个问题</li>
</ol>
</li>
<li><p>防火墙的功能</p>
<ol>
<li>防火墙的功能有两个：阻止和允许。<ol>
<li><strong>阻止</strong>就是阻止某种类型的通信量通过防火墙(从外部网络到内部网络，或反过来)：比如阻止内部的对迅雷的请求向外发送</li>
<li><strong>允许</strong>的功能与<strong>阻止</strong>恰好相反。</li>
</ol>
</li>
<li>防火墙必须能够识别通信量的各种类型。不过在<strong>大多数情况下防火墙的主要功能</strong>是<strong>阻止</strong>。</li>
</ol>
</li>
<li><p>防火墙技术一般分为两类</p>
<ol>
<li>网络级防火墙:用来防止整个网络出现外来非法的入侵。属于这类的有分组过滤和授权服务器<ol>
<li>前者检查所有流入本网络的信息，然后拒绝不符合事先制订好的一套准则的数据</li>
<li>后者则检查用户的登录是否合法</li>
</ol>
</li>
<li>应用级防火墙:从应用程序来进行接入控制。通常使用应用网关或代理服务器来区分各种应用，例如，可以只允许通过访问万维网的应用，而阻止FTP应用通过</li>
</ol>
</li>
</ol>
<h2 id="ACL"><a href="#ACL" class="headerlink" title="ACL"></a>ACL</h2><ol>
<li><p>访问控制列表ACL(Access Control Lists)</p>
<ol>
<li>ACL是指令列表，它告诉路由器允许或拒绝什么类型的数据包。</li>
<li>如果要让路由器拒绝某些数据包，则必须配置ACL。否则，只要链路打开，路由器将接受并转发所有数据包</li>
<li>您可以根据以下情况允许或拒绝数据包：<ol>
<li>源地址</li>
<li>目的地址</li>
<li>上层的协议，比如TCP或UDP端口</li>
</ol>
</li>
<li>为了确定是允许还是拒绝数据包，请按顺序对ACL语句进行测试。<ol>
<li>当一个语句”匹配”时，<strong>不再评估后面的语句</strong>。(前面的语句先匹配，处理掉)</li>
<li>允许或拒绝该数据包。</li>
</ol>
</li>
<li>默认：ACL末尾有一个隐含的”deny any”语句:如果数据包与ACL中的任何语句都不匹配，则将其丢弃。</li>
</ol>
</li>
<li><p>路由器如何使用出站ACL</p>
<ol>
<li>检查数据包是否可路由。如果是这样，请在路由表中查找路由</li>
<li>检查出站接口的ACL<ol>
<li>如果没有ACL，则将数据包切换出目标接口</li>
<li>如果是ACL，请按照ACL语句顺序检查数据包-根据匹配的条件拒绝或允许。</li>
</ol>
</li>
<li>如果没有语句匹配，会发生什么？拒绝所有没有匹配的包</li>
</ol>
</li>
<li><p>出站标准ACL流程</p>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/7.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/7.png" alt="img"></a></p>
<ol>
<li>收到packet，确定路由表确认路由表看能够转发</li>
<li>可以转发的话，进入ACL确认<ol>
<li>如果当前端口没有ACL配置，则直接进行转发</li>
<li>如果当前端口有ACL配置，开始匹配source地址(标准的ACL，只能对原地址进行判断)<ol>
<li>语句满足条件，<ol>
<li>deny</li>
<li>premit</li>
</ol>
</li>
<li>语句不满足条件，看下一条，如果没有下一条，则默认deny</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li><p>access-list-number参数</p>
<ol>
<li>ACL有很多类型。访问列表号指定什么类型。</li>
<li>下表显示了常见的访问列表类型。</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/8.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/8.png" alt="img"></a></p>
<ul>
<li>注意默认的取值(扩展ACL不仅仅局限于源地址)</li>
</ul>
</li>
<li><p>test-condition参数</p>
<ol>
<li>在ACL的{test condition}部分中，大多数访问列表的共同点是源地址的IP掩码和通配符掩码。</li>
<li>源地址可以是子网，地址范围或单个主机。由于通配符掩码使用源地址检查位，因此也称为ip掩码。</li>
<li>通配符掩码告诉路由器要检查哪些位。</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/10.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/10.png" alt="img"></a></p>
<blockquote>
<ol>
<li>Ip mask:Ipv4的地址</li>
<li><strong>Wilcard mask</strong>:和netmask是不同的，指示哪些位置被检查</li>
</ol>
</blockquote>
</li>
<li><p>通配符掩码 Wildcard Mask</p>
<ol>
<li>编写通配符掩码以告知路由器地址中要匹配的位以及要忽略的位。<ol>
<li>0位表示检查该位位置</li>
<li>表示忽略该位位置</li>
</ol>
</li>
<li>我们先前的192.5.5.10 0.0.0.0示例可以用二进制重写为：<ol>
<li>11000000.00000101.00000101.00001010 (Source address)</li>
<li>00000000.00000000.00000000.00000000 (Wildcard mask)</li>
</ol>
</li>
<li>通配符掩码的例子<ol>
<li>编写一个IP掩码和通配符掩码以检查网络上的所有主机：192.5.5.0 255.255.255.0(检查这一个网段)</li>
<li>Answer: 192.5.5.0 0.0.0.255(<strong>和net mask是取反的</strong>)<ol>
<li>请注意，此通配符掩码是C类地址的默认子网掩码的镜像。</li>
<li>警告：<strong>仅当查看整个网络或子网时，这才是有用的规则。</strong></li>
</ol>
</li>
<li>编写一个IP掩码和通配符掩码以检查子网中的所有主机：192.5.5.32 255.255.255.224<ol>
<li>If you answered 192.5.5.32 0.0.0.31</li>
<li>0.0.0.31 是 255.255.255.224 的镜像地址</li>
<li>二进制标识<ol>
<li>11111111.11111111.11111111.11100000 (255.255.255.224)</li>
<li>00000000.00000000.00000000.00011111 (0.0.0.31)</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>省时：any命令<ol>
<li>由于ACL末尾有一个隐含的”deny any”语句，<strong>因此您必须编写语句以允许其他人通过。</strong></li>
<li>使用我们前面的示例，如果学生被拒绝访问而所有其他学生都被允许访问，则您将编写以下两个语句：</li>
<li><code>Lab-A(config)#access-list 1 deny 192.5.5.0 0.0.0.127</code>:拒绝一个</li>
<li><code>Lab-A(config)#access-list 1 permit 0.0.0.0 255.255.255.255</code></li>
<li>由于最后一条语句通常用于覆盖”拒绝任何”，因此思科为您提供了一个选项-any命令：</li>
<li><code>Lab-A(config)#access-list 1 permit any</code> &#x3D;&#x3D; <code>Lab-A(config)#access-list 1 permit 0.0.0.0 255.255.255.255</code></li>
</ol>
</li>
<li>省时：主机名支持<ol>
<li>很多时候，网络管理员将需要编写ACL来允许特定主机(或拒绝主机)。该语句可以用两种方式编写。<ol>
<li><code>Lab-A(config)#access-list 1 permit 192.5.5.10 0.0.0.0</code></li>
<li><code>Lab-A(config)#access-list 1 permit host 192.5.5.10(host 专指 192.5.5.10)</code></li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li><p>标准ACL的配置位置</p>
<ol>
<li>标准ACL没有目标参数。因此，您将标准ACL放置在尽可能靠近目标的位置。</li>
<li>要了解原因，请问自己，如果在Lab-A的E0上放置” deny 192.5.5.0 0.0.0.255”语句，将会对所有IP流量产生什么影响？</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/11.png" alt="img"></p>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/12.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/12.png" alt="img"></a></p>
<ul>
<li>如果放到Lab A的E0口则会导致无法访问Lab B&#x2F;C,应该放到Lab D的E0</li>
<li>约定:将标准ACL放到与将要生效的主机越近越好，但是其实会对带宽有一定的损耗</li>
</ul>
</li>
<li><p>扩展ACL</p>
<ol>
<li><p>概述：</p>
<ol>
<li>扩展ACL的编号范围为100-199，并”扩展”了标准ACL的功能。</li>
<li>扩展功能包括基于过滤流量的功能。<ol>
<li>目的地址</li>
<li>ip协议的部分(更加细分):您可以编写语句以仅拒绝”ICMP”等协议或”RIP”和”IGRP”之类的路由协议</li>
<li>协议套件的上层<ol>
<li>您可以编写语句以仅拒绝诸如”TFTP”或”HTTP”之类的协议</li>
<li>您可以使用eq，gt，lt和neq(等于，大于，小于和不等于)之类的操作数来指定如何处理特定协议。</li>
<li>例如，如果您希望访问列表允许除http访问之外的所有流量，则可以使用” permit ip any neq 80”(允许来自任意源地址和目的地址的不是80<strong>端口</strong>的信息)</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li><p>端口号</p>
<ol>
<li>查看tcp和udp协议的各种端口号，并了解以下最常见的端口号。</li>
<li>您还可以在{protocolspecific options}中键入名称(telnet)而不是数字(23)。</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/13.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/13.png" alt="img"></a></p>
</li>
<li><p>配置扩展ACL的位置</p>
<ol>
<li>在下图中，我们要拒绝网络221.23.123.0访问服务器198.150.13.34</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/14.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/14.png" alt="img"></a>。</p>
<ol>
<li>访问列表应应用于什么路由器和接口？<ol>
<li>将访问列表写在路由器C上，将其应用于E0，并在</li>
<li>这将使网络不受221.23.123.0发往198.150.13.34的访问，但仍允许221.23.123.0访问Internet</li>
</ol>
</li>
</ol>
<blockquote>
<p>按照标准的原则，应该放置到Route A，而用扩展的放置的是Route C的E0上，放置对应的命令</p>
</blockquote>
<ul>
<li>由于扩展的ACL具有目标信息，因此<strong>您希望将其放置在尽可能靠近源的位置。</strong></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/15.png"><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec11/15.png" alt="img"></a></p>
</li>
</ol>
</li>
</ol>
<h1 id="笔记-·-实验笔记"><a href="#笔记-·-实验笔记" class="headerlink" title="笔记 · 实验笔记"></a>笔记 · 实验笔记</h1><h2 id="05：动态-RIP"><a href="#05：动态-RIP" class="headerlink" title="05：动态 RIP"></a>05：动态 RIP</h2><ol>
<li>目的：以跳数为依据，让路由器互联</li>
<li>工作原理：<ol>
<li>跳数：直连网络为一，其他情况为中间的路由器数加一。</li>
<li>最大为15跳，16为不可达</li>
<li>和谁交换信息？只和相邻路由器交换信息</li>
<li>交换什么信息？路由表</li>
<li>何时交换信息？周期性定期交换</li>
<li>怎么更新信息？收到邻居路由器的路由表并且处理好跳数后，与现有路由表比较。<ol>
<li>到达相同网络，相同的下一跳，保留最小跳数。若相同，保留新消息</li>
<li>到达相同网络，不同的下一跳，保留最小跳数。若相同，两个都要保留。</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="06：配置单域-OSPF"><a href="#06：配置单域-OSPF" class="headerlink" title="06：配置单域 OSPF"></a>06：配置单域 OSPF</h2><ol>
<li>目的：动态地获得完整的网络拓扑结构</li>
<li>关键概念：<ol>
<li>OSPF（Open Shortest Path First）：是一种常见的内部网关协议（IGP），用于在一个自治系统（AS）内的<strong>路由器之间交换路由信息</strong>。适用于复杂的网络拓扑。</li>
<li>cost：指标由<strong>带宽</strong>，速度，流量，可靠性和安全性计算，本科阶段只考虑带宽因素。</li>
<li>LSA（链路状态广告）**：一旦建立邻接，OSPF路由器就会交换链路状态广告（LSA），以便所有路由器了解网络拓扑。</li>
<li>LSDB（链路状态数据库）： 每个路由器维护一个链路状态数据库（LSDB），该数据库包含了网络中所有LSA的副本，表示了当前网络拓扑。</li>
<li>DR：指定路由器，只有在多路复用的情况下使用</li>
<li>BDR：如果DR坏了，再次选举会出现问题，如果DR损坏，BDR立即成为DR</li>
<li>Hello Interval：发送hello报文的时间间隔</li>
<li>Dead Interval：能容忍的收到回复的最大时间间隔。一般是hello interval的4倍。</li>
<li>Router ID：选择所有环回接口中的IP地址最大的作为ID。若没有环回接口，则从当前活跃的物理接口中找到IP最大的作为ID。</li>
</ol>
</li>
<li>工作原理：<ol>
<li>每台路由器都有与自己直连的路由器的信息（邻居的信息），他们之间互相交换LSA，最终构建起整个网络的路由信息。</li>
<li>为了避免大量重复的泛洪造成的资源浪费，会选举出DR和BDR。大家把信息全部发给DR，DR整合好之后再发还给其他路由器。BDR是DR的备份。</li>
<li>为了减轻存储信息的压力，会对网络拓扑分区。<ol>
<li>区域0（Area 0）：OSPF的骨干区域，所有其他区域必须与区域0相连接。</li>
<li>普通区域（Normal Area）：区域0之外的其他区域，可以包含普通路由信息。</li>
<li>边界路由器：处于骨干区域边界的路由器，与骨干区域和其他区域都是相连的。要维护两个LSDB。</li>
<li>一个Area中不能有超过<strong>50</strong>台路由器，否则会导致SPF算法产生的计算量和内存过大</li>
</ol>
</li>
<li>通过Hello报文互相打招呼，以确保维持链路。若没能受到回复，则认为它“死”了。</li>
</ol>
</li>
<li>工作步骤：<ol>
<li>步骤1：建立邻接关系</li>
<li>步骤2：选择DR和BDR(如果需要):多路复用的时候才需要</li>
<li>步骤3：发现路线</li>
<li>步骤4：选择适当的路线</li>
<li>步骤5：维护路线信息</li>
</ol>
</li>
</ol>
<h2 id="07：VLAN-间路由"><a href="#07：VLAN-间路由" class="headerlink" title="07：VLAN 间路由"></a>07：VLAN 间路由</h2><ol>
<li>目的：隔离广播域</li>
<li>关键概念：<ol>
<li>VLAN：虚拟局域网。是一种隔离广播域的技术。</li>
<li>交换机不能隔离广播域，路由器天生就能够隔离广播域。</li>
<li>Access接口：只连接到单一VLAN</li>
<li>Trunk链路：可以同时承载多个VLAN的流量</li>
</ol>
</li>
</ol>
<h2 id="08：NAT网络地址转换"><a href="#08：NAT网络地址转换" class="headerlink" title="08：NAT网络地址转换"></a>08：NAT网络地址转换</h2><ol>
<li>目的：让内部的私网可以通过转换变成公网来上网</li>
</ol>
<h2 id="09：ACL-实验"><a href="#09：ACL-实验" class="headerlink" title="09：ACL 实验"></a>09：ACL 实验</h2><ol>
<li>目的：筛选数据流</li>
<li>关键概念：<ol>
<li>ACL：访问控制列表</li>
</ol>
</li>
<li>要点：<ol>
<li>标准的ACL要放在靠近目标的位置，扩展到ACL要放在靠近源的位置</li>
<li>对于 ACL，有个非常重要的特性， 他不能过滤本地数据流。即ACL所在的路由器不能控制过滤自己发出的信息。</li>
<li>设置了 2 种 ACL，但是得到的效果却不一样。如果是使用了扩展的 ACL，那么它的提示是“% Destination unreachable; gateway or host down”,说明 23 号端口根本不可达。如果是使用了标准的 ACL 放置在 VTY 线路中，则提示“%  Connection refused by remote host”，说明的确是到达了 23 号端口，只不过被拒绝 了。在实际使用中最好使用扩展的 ACL，减少 23 号端口的负担。</li>
</ol>
</li>
<li>语句解释：<ol>
<li>line vty 0 4：在路由器或交换机上配置虚拟终端 (VTY) 线路，用于远程访问设备（例如，使用 Telnet 或 SSH）。通过配置 <code>line vty</code>，可以控制对设备的远程访问权限。配置 VTY 线路 0 至 4（即最多支持 5 个并发的远程连接）。</li>
<li><code>ip access-group 100 out</code> ：是用来在 Cisco 设备上将访问控制列表 (ACL) 应用到接口的命令。这个命令的作用是将编号为 100 的访问控制列表应用到接口的 <strong>输出流量</strong>，即所有通过该接口发送出去的数据包。</li>
</ol>
</li>
</ol>
<h2 id="10：PPP-验证实验"><a href="#10：PPP-验证实验" class="headerlink" title="10：PPP 验证实验"></a>10：PPP 验证实验</h2><ol>
<li><p>目的：为点对点连接提供一种可靠、灵活且标准化的通信方式。</p>
</li>
<li><p>关键概念：</p>
<ol>
<li>PPP：点对点协议。PPP是一种标准的串行线路封装方法，为点对点链路各种协议数据报提供了一个标准方法。</li>
<li>LCP：链路控制协议。可以动态地协商链路参数，管理链路的建立、维护和终止。可以看做是面向物理层的接口。</li>
<li>NCP：网络控制协议。动态协商和分配IP地址。可以看做是面向网络层的接口。</li>
<li>PAP：基于密码的简单认证协议（Password Authentication Protocol）。</li>
<li>CHAP：动态加密挑战机制。更安全，采用动态加密挑战机制来验证身份，避免了密码在传输过程中的明文暴露。</li>
</ol>
</li>
<li><p>工作流程和状态</p>
<ol>
<li><p>静止状态：开始和结束状态都是静止状态，没有物理层链接</p>
</li>
<li><p>建立状态：检测到载波信号，建立物理层链接，进入建立状态。然后LCP开始协商配置选项：</p>
<ul>
<li>配置选项：<ul>
<li>最大帧长</li>
<li>鉴别协议<ul>
<li>无鉴别</li>
<li>PAP</li>
<li>CHAP</li>
</ul>
</li>
</ul>
</li>
</ul>
<ol>
<li>协商成功，进入鉴别状态</li>
<li>失败则回到静止状态</li>
</ol>
</li>
<li><p>鉴别状态：根据协议鉴别身份。</p>
<ol>
<li>若鉴别成功或无鉴别，则进入网络状态</li>
<li>失败则进入终止状态</li>
</ol>
</li>
<li><p>网络状态：进行NCP配置。完成后进入打开状态。</p>
</li>
<li><p>打开状态：可以进行数据传输。</p>
<ol>
<li>出现故障或收到终止请求，进入终止状态。</li>
</ol>
</li>
<li><p>终止状态：当载波停止后，回到静止状态。</p>
</li>
</ol>
</li>
</ol>
<h2 id="12：DHCP-欺诈保护"><a href="#12：DHCP-欺诈保护" class="headerlink" title="12：DHCP 欺诈保护"></a>12：DHCP 欺诈保护</h2><ol>
<li><p>概念：</p>
<ol>
<li>DHCP：动态主机配置协议(Dynamic Host Configuration Protocol)用于动态地为网络上的设备分配 IP 地址和其他网络配置（如子网掩码、网关和 DNS 服务器）。DHCP 使得设备能够在连接到网络时自动获取配置，避免了手动设置 IP 地址和其他参数的繁琐。</li>
</ol>
</li>
<li><p>DHCP工作原理：</p>
<ol>
<li>发现阶段：客户端设备在启动时会向网络发送一个 <strong>DHCP Discover</strong> 广播消息，表示其请求获取 IP 地址。这个消息在网络中广播，以便找到 DHCP 服务器。</li>
<li>提供：网络中的 DHCP 服务器收到 Discover 消息后，会向客户端返回一个 <strong>DHCP Offer</strong> 消息，内含一个可用的 IP 地址、子网掩码、默认网关、DNS 等信息。此消息也会通过广播发送。</li>
<li>选择并请求：客户端收到 DHCP 服务器的多个 <strong>Offer</strong> 后，会选择一个并发送 <strong>DHCP Request</strong> 消息，告诉 DHCP 服务器其选择的 IP 地址，并请求确认。此请求是广播的。</li>
<li>确认：DHCP 服务器确认客户端的请求后，会向客户端发送 <strong>DHCP Ack</strong> 消息，正式确认分配给客户端的 IP 地址和其他配置信息。此时，客户端开始使用该 IP 地址。</li>
</ol>
</li>
<li><ol>
<li><ul>
<li></li>
</ul>
</li>
</ol>
</li>
</ol>
<h1 id="笔记-·-名词解释"><a href="#笔记-·-名词解释" class="headerlink" title="笔记 · 名词解释"></a>笔记 · 名词解释</h1><h2 id="第一章：网络概述"><a href="#第一章：网络概述" class="headerlink" title="第一章：网络概述"></a>第一章：网络概述</h2><h3 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h3><ul>
<li>是一组相连接的系统，终端可以是物、人、设备。计算机网络终端是计算机，传输01序列，为了共享资源</li>
</ul>
<h3 id="LAN"><a href="#LAN" class="headerlink" title="LAN"></a>LAN</h3><ul>
<li>local area network</li>
</ul>
<ul>
<li>局域网，工作范围较小，采用广播式的传输方式，多个用户同时复用一个链路介质，提高效率</li>
<li>设备：集线器（hub）、网桥（bridge）、交换机（switch）、路由器（router）</li>
</ul>
<h3 id="WAN"><a href="#WAN" class="headerlink" title="WAN"></a>WAN</h3><ul>
<li>wide area network</li>
</ul>
<ul>
<li>广域网，工作范围大，采用点对点的传输方式，多单位合作实现与维护</li>
<li>设备：路由器（router）、调制解调器（modem）</li>
</ul>
<h3 id="internet"><a href="#internet" class="headerlink" title="internet"></a>internet</h3><ul>
<li>互联网，有若干个网络连接而成的网络</li>
</ul>
<h3 id="Internet"><a href="#Internet" class="headerlink" title="Internet"></a>Internet</h3><ul>
<li>因特网，世界上最大的互联网。采用TCP&#x2F;IP协议为通信规则，前身是美国的ARPANET</li>
</ul>
<h3 id="ISP"><a href="#ISP" class="headerlink" title="ISP"></a>ISP</h3><ul>
<li>Internet Service Providers，网络服务供应商。ISP从因特网管理机构申请多个IP地址、通信线路和路由器等设备。机构或个人通过ISP接入因特网。</li>
<li>ISP分为三层，在低层ISP可以解决的问题不会进入上层ISP，以此来进行流量分流</li>
</ul>
<h3 id="NAP"><a href="#NAP" class="headerlink" title="NAP"></a>NAP</h3><ul>
<li>network access point，网络接入点。向各ISP提供交换设备，使他们能够互相通信</li>
</ul>
<h3 id="data-packet"><a href="#data-packet" class="headerlink" title="data packet"></a>data packet</h3><ul>
<li>数据报文，为了传输，数据总是被分解为小、易于传输的单元。OSI模型中称为报文、帧或段</li>
<li>优点：1. 可以发呢还是偏处理不同进程的报文；2. 即使链路故障，只需要重传小部分报文；3. 可以走不同路径最有到达</li>
</ul>
<h3 id="bandwidth-throughout"><a href="#bandwidth-throughout" class="headerlink" title="bandwidth &amp; throughout"></a>bandwidth &amp; throughout</h3><ul>
<li>带宽：给定时间可传输的数据量</li>
<li>吞吐量：实际的数据量</li>
</ul>
<h3 id="OSI参考模型"><a href="#OSI参考模型" class="headerlink" title="OSI参考模型"></a>OSI参考模型</h3><ul>
<li>open system interconnection，开放系统互联基本参考模型。由国际标准化组织ISO提出，使得不同体系结构的计算机能够互连</li>
<li>七层简述：<ol>
<li>物理层（physical）：解决二进制传输问题——信号与介质的规范——只传递信号，不做正确性判断</li>
<li>数据链路层（data link）：帧和介质访问控制——点对点的一个链路——确保可靠传输</li>
<li>网络层（network）：路径选择与最佳路径——基于ip地址逻辑定位设备、多个链路——可达传输，不做复杂校验</li>
<li>传输层（transport）：终端与终端之间的连接——可靠性、流控制、错误校正</li>
<li>会话层（session）：内部host的对话与交流——会话管理、同步校验</li>
<li>表示层（presentation）：数据加密与显示——通用格式、数据结构与传输语法的协商</li>
<li>应用层（application）：用户界面——浏览器、面向用户</li>
</ol>
</li>
<li><img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230105100005103.png" alt="image-20230105100005103" style="zoom:67%;float:left" /></li>
</ul>
<h3 id="TCP-IP参考模型"><a href="#TCP-IP参考模型" class="headerlink" title="TCP&#x2F;IP参考模型"></a>TCP&#x2F;IP参考模型</h3><ul>
<li>Transmission Control Protocol&#x2F;Internet Protocol</li>
<li>由美国防部DoD创建，希望数据报任何情况下都能从一个点传输到另一个点</li>
<li>四层简述：<ol>
<li>网络接口层（network access）：相当于OSI物理层+数据链路层</li>
<li>互联网层（internet）：相当于OSI网络层</li>
<li>传输层（transport）：相当于OSI传输层</li>
<li>应用层（application）：相当于OSI会话层、表示层、应用层</li>
</ol>
</li>
</ul>
<h3 id="各层网络设备"><a href="#各层网络设备" class="headerlink" title="各层网络设备"></a>各层网络设备</h3><ul>
<li>第一层：介质（media）、集线器（hub）、中继器（repeater）、<em>网卡（NIC）</em></li>
<li>第二层：网卡（NIC）、交换机（switch）、网桥（bridge）</li>
<li>第三层：路由器（router）</li>
</ul>
<h3 id="NIC网卡"><a href="#NIC网卡" class="headerlink" title="NIC网卡"></a>NIC网卡</h3><ul>
<li>network interface controller，网路终端设备</li>
<li>拥有一个MAC地址，表明主机身份，帮助主机接入网络</li>
<li>成帧：打包比特流进行传输</li>
<li>LLC+MAC</li>
<li>控制数据流（接受和发送数据）、实现串行信号（用于发送）与并行信号（电脑产生）的转化</li>
</ul>
<h3 id="Repeater中继器"><a href="#Repeater中继器" class="headerlink" title="Repeater中继器"></a>Repeater中继器</h3><ul>
<li>网络中间设备，用于延长网络的长度。整理、放大、重发信号，不做逻辑过滤，不划分冲突域</li>
</ul>
<h3 id="Hub集线器"><a href="#Hub集线器" class="headerlink" title="Hub集线器"></a>Hub集线器</h3><ul>
<li>网络中间设备，多端口的<strong>中继器</strong></li>
</ul>
<h3 id="Bridge网桥"><a href="#Bridge网桥" class="headerlink" title="Bridge网桥"></a>Bridge网桥</h3><ul>
<li>网络中间设备。</li>
<li>过滤信息，划分<strong>冲突域</strong></li>
<li>通过MAC地址实现多个LAN之间设备的连接（接两个不同局域网）</li>
</ul>
<h3 id="Switch交换机"><a href="#Switch交换机" class="headerlink" title="Switch交换机"></a>Switch交换机</h3><ul>
<li>网络中间设备，多端口的<strong>网桥</strong></li>
<li>可以隔离冲突域，但不能隔离广播域</li>
</ul>
<h3 id="Router路由器"><a href="#Router路由器" class="headerlink" title="Router路由器"></a>Router路由器</h3><ul>
<li>网络中间设备，进行网段的划分，选择路径并转发报文到最佳路径</li>
<li>路由器的每个端口都有一个网卡，我们给路由器的每一个端口也分配一个IP地址，使其可以通过IP协议栈与网段中其他设备通信</li>
</ul>
<hr>
<h2 id="第二章：物理层"><a href="#第二章：物理层" class="headerlink" title="第二章：物理层"></a>第二章：物理层</h2><h3 id="UTP"><a href="#UTP" class="headerlink" title="UTP"></a>UTP</h3><ul>
<li><img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230219114452931.png" alt="image-20230219114452931" style="zoom:80%;float:left" /></li>
<li>Unshielded <strong>Twisted Pair</strong>，无屏蔽<strong>双绞线</strong>。八根子线，两两一组（抵消彼此电磁影响和外部电磁波干扰），每组为Twisted Pair</li>
<li>比**STP（有屏蔽双绞线）**便宜，容易部署；但是抗干扰能力弱于STP</li>
</ul>
<h3 id="Coaxial"><a href="#Coaxial" class="headerlink" title="Coaxial"></a>Coaxial</h3><ul>
<li><img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230219114622137.png" alt="image-20230219114622137" style="zoom:80%;float:left" /></li>
<li>同轴电缆，传输距离比UTP远，成本略高但小于光纤</li>
<li>中间为铜导线（传输电信号），外包绝缘膜（减少干扰），外包一层金属网（一定程度屏蔽外界电磁干扰），最外层塑胶套（保护内部不受侵蚀）</li>
</ul>
<h3 id="Fiber-Optic"><a href="#Fiber-Optic" class="headerlink" title="Fiber-Optic"></a>Fiber-Optic</h3><ul>
<li><img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230219114654717.png" alt="image-20230219114654717" style="zoom:80%;float:left" /></li>
<li>光纤，中间光导体（二氧化硅），外包塑料套（包装与保护），<strong>不受电磁干扰</strong>，更远效率更高，更贵</li>
<li>单模：用于广域网，直径更小，传播距离更长；多模：用于局域网，入射角度区分，同时传多路光线</li>
</ul>
<h3 id="Wireless-Communication"><a href="#Wireless-Communication" class="headerlink" title="Wireless Communication"></a>Wireless Communication</h3><ul>
<li>无线通讯，通过频率区分不同电磁波</li>
<li>无线传输方法：<ol>
<li>激光通信（lasers）——军用，受雨雾干扰影响大：电磁波频率相同</li>
<li>红外通信（infrared）——遥控器，实现漫反射：不能透过不透明物体</li>
<li>无线电通信（radio）——民用，受雨雾干扰影响小 携带可以穿墙的数据信号 陆地和卫星无线电技术</li>
</ol>
</li>
</ul>
<h3 id="双绞线类型"><a href="#双绞线类型" class="headerlink" title="双绞线类型"></a>双绞线类型</h3><ul>
<li><img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230219115536883.png" alt="image-20230219115536883" style="zoom:80%;float:left" /></li>
<li>Straight cable，直通线（用于同类设备）：两端标准相同</li>
<li>rollover cable，反转线（用于控制台端口与与PC串口连接）：两端标准相同，但插脚对应反过来</li>
<li>crossover cable，交叉线（连接集线器、交换机）：两端标准相反（T568-A、T568-B）</li>
</ul>
<h3 id="比特率与波特率"><a href="#比特率与波特率" class="headerlink" title="比特率与波特率"></a>比特率与波特率</h3><ul>
<li>波特率(baud)和比特率(bit)<ul>
<li>波特率(调制速率)：波信号每秒钟变化的次数</li>
<li>比特率：每秒钟传送的二进制位数</li>
</ul>
</li>
<li>波特率与比特率的关系取决于信号值与比特位的关系<ul>
<li>例：每个信号值表示为3位，则比特率是波特率的3倍； 每个信号值表示为1位，则比特率和波特率相同</li>
<li>对于比特率为a bps的信道，发送8位所需的时间为 8&#x2F;a秒，若8位为一个周期Ｔ，则一次谐波的频率是：f &#x3D; a&#x2F;8 Hz</li>
</ul>
</li>
</ul>
<h3 id="多路复用-（Multiplexing）"><a href="#多路复用-（Multiplexing）" class="headerlink" title="多路复用 （Multiplexing）"></a>多路复用 （Multiplexing）</h3><ul>
<li><p>TDM：时分复用（time division）：将时间划分为一段段等长的时分复用帧，每个用户占用固定序号的时隙</p>
<img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20220926111356968.png" alt="image-20220926111356968" style="zoom:80%;float:left" />

<ul>
<li>TDM会造成线路资源的浪费，对此统计时分复用STDM一旦充足就组织发送，不以时间区分用户所以需要每个帧携带自己用户的信息</li>
</ul>
</li>
<li><p>FDM：频分复用（frequency division）：用户分配一定频带后，始终占用这个频带</p>
</li>
<li><p>WDM：波分复用（wavelength division）：光的频分复用</p>
</li>
<li><p>CDM：码分复用（code division）：用户使用经过特殊挑选的不同码型，不会彼此干扰</p>
</li>
</ul>
<h3 id="通信方式"><a href="#通信方式" class="headerlink" title="通信方式"></a>通信方式</h3><ul>
<li>单工（simplex）：信号单向传输</li>
<li>半双工（half-duplex）：可双向传输，但不可同时</li>
<li>全双工（full-duplex）：可同时双向传输</li>
</ul>
<hr>
<h2 id="第三章：数据链路层"><a href="#第三章：数据链路层" class="headerlink" title="第三章：数据链路层"></a>第三章：数据链路层</h2><h3 id="MAC（控制）"><a href="#MAC（控制）" class="headerlink" title="MAC（控制）"></a>MAC（控制）</h3><ul>
<li>media access control，局域网的介质访问控制，用来确定共享介质环境中哪个计算机允许传输数据的协议</li>
<li>三种常见MAC<ol>
<li>以太网（Ethernet）：逻辑总线拓扑，物理星型或扩展星型拓扑</li>
<li>令牌环（token ring）：逻辑环形拓扑，物理星型拓扑</li>
<li>光纤分布式数据接口（FDDI）：逻辑环形拓扑，物理双环</li>
</ol>
</li>
<li>分为两类控制方法：<ol>
<li>确定性轮流（deterministic），通过令牌决定能否发送——令牌环、FDDI</li>
<li>争用式（non-deterministic），先来先服务——以太网<ul>
<li>即：CSMA&#x2F;CD，见下</li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="LLC-MAC（子层）"><a href="#LLC-MAC（子层）" class="headerlink" title="LLC &amp; MAC（子层）"></a>LLC &amp; MAC（子层）</h3><ul>
<li>IEEE标准将数据链路层分为两子层：<ul>
<li>MAC（meida access control）介质访问控制，定义帧如何在<strong>物理层</strong>传输</li>
<li>LLC（logical link control）逻辑链路控制<ol>
<li>获取网络协议数据（packet），并添加更多控制信息来帮助包到达目的地，后交给MAC子层</li>
<li>向<strong>网络层</strong>提供服务（有无应答、有无连接，三种）</li>
<li>可以对应不同MAC子层</li>
</ol>
</li>
</ul>
</li>
</ul>
<h3 id="SAP-DSAP-SSAP"><a href="#SAP-DSAP-SSAP" class="headerlink" title="SAP &amp; DSAP &amp; SSAP"></a>SAP &amp; DSAP &amp; SSAP</h3><ul>
<li>这三个是LLC子层的寻址组件</li>
<li>SAP：service access point，服务接入点</li>
<li>DSAP：destination SAP，目的服务接入点</li>
<li>SSAP：Source SAP，源服务接入点</li>
</ul>
<h3 id="MAC地址（地址）"><a href="#MAC地址（地址）" class="headerlink" title="MAC地址（地址）"></a>MAC地址（地址）</h3><ul>
<li>48位，始终表示12个十六进制数</li>
<li>前6位十六进制数表示制造商、供应商，并包含组织唯一标识符</li>
<li>其余六位包括接口序列号，由特定供应商管理</li>
<li>广播地址（全1，FFFF.FFFF.FFFF）</li>
</ul>
<h3 id="CSMA-CD-1"><a href="#CSMA-CD-1" class="headerlink" title="CSMA&#x2F;CD"></a>CSMA&#x2F;CD</h3><ul>
<li>Carrier Sense Multiple Access with Collision Detection 带冲突检测的载波侦听多路访问</li>
<li>用于有线网络</li>
</ul>
<ol>
<li>首先设备要发送数据</li>
<li>开始侦听链路是否忙，如果忙，则过一阵来再看看</li>
<li>如果不忙，则开始准备发送<ul>
<li>如果有错误，表示有冲突发生，广播一个jam sighnal，把自己尝试的次数 + 1（重发有一定限度）</li>
<li>尝试次数过多，会向上层协议传输网络不可用</li>
<li>尝试次数还可，则计算一个回退时间，来再次尝试，回退时间单位，会保证时间差能保证第一个人已经用完电路来避免冲突。</li>
</ul>
</li>
<li>如果没有错误，则一直传输到结束为止</li>
</ol>
<h3 id="CSMA-MA"><a href="#CSMA-MA" class="headerlink" title="CSMA&#x2F;MA"></a>CSMA&#x2F;MA</h3><ul>
<li>Carrier Sense Multiple Access with Collision Avoidance</li>
<li>用于无线网络</li>
<li>带冲突避免的载波侦听多路访问。由于无线局域网只能知道边上站点的传输情况，所以只能避免冲突没不能想CSMA&#x2F;CD一样检测冲突。</li>
<li>发送站点在发送数据前，以<strong>控制短帧</strong>刺激接收站点发送应答短帧，使接收站点周围的站点监听到该帧，从而在一定时间内避免数据发送</li>
</ul>
<h3 id="BSS-BS-AP-SSID-ESS"><a href="#BSS-BS-AP-SSID-ESS" class="headerlink" title="BSS &amp; BS &amp; AP &amp; SSID &amp; ESS"></a>BSS &amp; BS &amp; AP &amp; SSID &amp; ESS</h3><ul>
<li>BSS：Basic service set，基本服务集，包含一个基站BS（Basic Station）和若干无线主机<ul>
<li>所有主机都可以在本地BSS中借助基站直接相互通信</li>
<li>基站范围内其他两个主机之间是不互相连接的，只能借助基站通信</li>
</ul>
</li>
<li>当一个接入点AP（access point）安装后，一个服务集标识SSID（service set Identifier）和一个通道就会被分配到该接入点</li>
<li>一个基本服务集BSS可以通过分布式系统DS（distribution system）和其他BSS连接构建一个扩展服务集ESS</li>
</ul>
<h3 id="无线局域网的CSMA-CA"><a href="#无线局域网的CSMA-CA" class="headerlink" title="无线局域网的CSMA&#x2F;CA"></a>无线局域网的CSMA&#x2F;CA</h3><ul>
<li><p>Carrier Sense Multiple Access with Collision Avoidance 带冲突避免的载波侦听多路访问</p>
</li>
<li><p>为什么无线局域网（WLAN）使用CSMA&#x2F;CA而不是CSMA&#x2F;CD？</p>
<ul>
<li>无线局域网站只能知道边上站的传输情况，不知道其他站，所以只能“避免”，无法“检测”</li>
</ul>
</li>
<li><p>两个问题</p>
<img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230120122932471.png" alt="image-20230120122932471" style="zoom:80%;float:left" />

<ul>
<li>隐藏站问题：当A将数据传输到B时，C无法检测到A和B之间的传输，因此C可能会决定将数据传输到B并导致B发生冲突（听不到应该听到的信息）</li>
<li>暴露站问题：当B将数据传输到A时，C可以检测到传输，因此C不会将数据传输到D。但这是一个错误。(听到不应该听到的信号)</li>
</ul>
</li>
<li><p>发送站点在发送数据前，以<strong>控制短帧</strong>刺激接收站点发送应答短帧，使接收站点周围的站点监听到该帧，从而在一定时间内避免数据发送</p>
</li>
<li><p>基本过程</p>
<ol>
<li>A向B发送RTS（Request To Send，请求发送）帧，A周围的站点在一定时间内不发送数据，以保证CTS帧返回给A；</li>
<li>B向A回答CTS（Clear To Send，清除发送）帧，B周围的站点在一定时间内不发送数据，以保证A发送完数据；</li>
<li>A开始发送</li>
<li>若控制帧RTS或CTS发生冲突，采用二进制指数后退算法等待随机时间，再重新开始。（A和C同时发送RTS）</li>
</ol>
</li>
</ul>
<h3 id="透明网桥"><a href="#透明网桥" class="headerlink" title="透明网桥"></a>透明网桥</h3><ul>
<li>“透明”是指局域网上的站点并不知道所发送的帧将经过哪几个网桥，因为网桥对各站来说是看不见的。透明网桥是一种即插即用设备，是目前以太网中使用得最多的网桥</li>
</ul>
<hr>
<h2 id="第四章：网络层"><a href="#第四章：网络层" class="headerlink" title="第四章：网络层"></a>第四章：网络层</h2><h3 id="IP地址"><a href="#IP地址" class="headerlink" title="IP地址"></a>IP地址</h3><ul>
<li><p>32位，网络号（network ID）+主机号（host ID）</p>
</li>
<li><p>网络号由ARIN（american registry for internet numbers分配）</p>
</li>
<li><p>划分（第一个字节）与格式</p>
<img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230127091637566.png" alt="image-20230127091637566" style="zoom:80%;float:left" />

<ul>
<li>0-127：A类地址</li>
<li>128-191：B类地址</li>
<li>192-223：C类地址</li>
</ul>
</li>
<li><p><strong>注意</strong>：每个网段中，有两个地址不能划分给主机</p>
<ul>
<li>全0保留用于网络地址</li>
<li>全1保留用于广播地址</li>
</ul>
</li>
<li><p>专用地址空间（用作局域网的内部网段）</p>
<ul>
<li>A：10.0.0.0 - 10.255.255.255</li>
<li>B：172.16.0.0 - 172.31.255.255</li>
<li>C：192.168.0.0 - 192.168.255.255</li>
</ul>
</li>
<li><p>IP地址耗尽的解决办法</p>
<ol>
<li>NAT，即使用私有IP地址（见运输层）</li>
<li>CIDR，无类域间选路</li>
<li>IPv6，长期解决办法</li>
</ol>
</li>
</ul>
<h3 id="子网划分"><a href="#子网划分" class="headerlink" title="子网划分"></a>子网划分</h3><ul>
<li>从host为中借几位用于单位内部划分子网，减少冲突域</li>
<li>是逻辑上的，到达本地路由器之后再根据子网号交付</li>
<li>可借位数：2 ~ host位数-2</li>
<li>子网划分会带来地址浪费（本来只有两个不能划分，现在每个子网里都有两个不能划分，另外子网全0全1也不能使用）</li>
</ul>
<h3 id="路由转发过程"><a href="#路由转发过程" class="headerlink" title="路由转发过程"></a>路由转发过程</h3><img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230127100713106.png" alt="image-20230127100713106" style="zoom:80%;float:left" />

<ol>
<li>A5主机发送报文给B5主机，这个报文的IP地址是B5所在的IP地址，形成帧（这个帧的目的地址是A1端口），然后放到总线上</li>
<li>路由器收到帧，然后进行理解，看到报文，知道目的地是B5(解封装)</li>
<li>路由器检查自己的路由表，找到对应的端口B1，形成新的帧（这个帧的源地址为B1端口，目的址是B1的MAC地址）</li>
</ol>
<h3 id="IP地址动态分配（RARP、BOOTP、DHCP）"><a href="#IP地址动态分配（RARP、BOOTP、DHCP）" class="headerlink" title="IP地址动态分配（RARP、BOOTP、DHCP）"></a>IP地址动态分配（RARP、BOOTP、DHCP）</h3><ul>
<li>RARP：reverse address resolution protocol，反向地址解析协议</li>
<li>BOOTP：BOOTstrap protocol，BOOTstrap协议</li>
<li>DHCP：dynamic host configuration，动态主机配置协议</li>
</ul>
<h3 id="Default-gateway-默认网关"><a href="#Default-gateway-默认网关" class="headerlink" title="Default gateway 默认网关"></a>Default gateway 默认网关</h3><ul>
<li><strong>默认网关是路由器上连接到源主机所在网段的接口的IP地址</strong></li>
<li>为了使设备能与另一网络上的设备通信，则必须为其提供默认网关，源设备将数据发送到默认网关</li>
</ul>
<h3 id="ARP"><a href="#ARP" class="headerlink" title="ARP"></a>ARP</h3><ul>
<li><p>address resolution protocol，地址解析协议，根据IP地址信息来获取MAC地址</p>
</li>
<li><p>过程：</p>
<ul>
<li><p>查找本地ARP table有无相关条目（条目具有时效性）</p>
</li>
<li><p>如果没有：</p>
<ol>
<li><p>发出广播，向目的方请求MAC地址</p>
<img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230127153450640.png" alt="image-20230127153450640" style="zoom:80%;float:left" />
</li>
<li><p>各主机接受帧，解析报文内容，若主机发现IP地址与自己匹配，则根据帧中发送方的IP地址与MAC地址准备应答，同时更新自己的ARP table</p>
<img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230127153511503.png" alt="image-20230127153511503" style="zoom:80%;float:left" />
</li>
<li><p>目标主机把自己的MAC地址填入后，进行回复</p>
<img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230127153918560.png" alt="image-20230127153918560" style="zoom:80%;float:left" />
</li>
<li><p>请求方接受到回复后，更新ARP table，并发出正常数据帧</p>
<img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230127154121003.png" alt="image-20230127154121003" style="zoom:80%;float:left" /></li>
</ol>
</li>
</ul>
</li>
<li><p>上述过程使用了广播操作，而广播操作只能在本网段内进行，如果需要跨网段则通过<strong>默认网关</strong>或<strong>ARP代理</strong>来实现</p>
<ul>
<li>默认网关：发送报文到另一个网段，需要路由器把对应端口的网关的MAC告诉你，然后通过网关进行转发</li>
<li>ARP代理（Proxy ARP）：中间设备（比如路由器）代表目的端发送一个ARP应答给发送请求的主机。</li>
<li>ARP代理的应用场景是源主机未配置默认网关，在本网段广播时，路由器返回自己端口的MAC地址，是的源主机能够通过网关转发</li>
</ul>
</li>
</ul>
<h3 id="Routed-protocol-Routing-protocol"><a href="#Routed-protocol-Routing-protocol" class="headerlink" title="Routed protocol &amp; Routing protocol"></a>Routed protocol &amp; Routing protocol</h3><ul>
<li>Routed protocol，被动路由协议，用于路由器之间<strong>基于路由表进行转发判断</strong></li>
<li>Routing protocol，路由协议，用于路由器之间，用作于彼此交换信息，<strong>进行各自路由表的生成</strong></li>
</ul>
<h3 id="Static-routes-Dynamic-routes"><a href="#Static-routes-Dynamic-routes" class="headerlink" title="Static routes &amp; Dynamic routes"></a>Static routes &amp; Dynamic routes</h3><ul>
<li>Static routes，静态路由，网络管理员手动输入路由信息</li>
<li>Dynamic routes，动态路由，使用路由协议自动更新路由信息</li>
</ul>
<h3 id="自治系统"><a href="#自治系统" class="headerlink" title="自治系统"></a>自治系统</h3><ul>
<li>自治系统是一个主管部门下的路由器网络，例如公司、学校、政府机构等网络。自治系统内部的路由器了解内部全部网络的路由信息</li>
</ul>
<h3 id="IGP-EGP"><a href="#IGP-EGP" class="headerlink" title="IGP &amp; EGP"></a>IGP &amp; EGP</h3><ul>
<li>是动态路由协议的两类</li>
<li>IGP（interior gateway protocol）内部网关协议，自治系统内部</li>
<li>EGP（exterior gateway protocol）外部网关协议，自治系统之间</li>
</ul>
<h3 id="DVP-LSP"><a href="#DVP-LSP" class="headerlink" title="DVP &amp; LSP"></a>DVP &amp; LSP</h3><ul>
<li>是内部网关协议的两类</li>
<li>DVP（distance vector protocol）距离矢量协议，基于邻居获取网络拓扑信息<ul>
<li>以跳数为评判依据，只知道到达一个网段的最少跳数；定期更新</li>
</ul>
</li>
<li>LSP（link state protocol）链路状态协议，基于全局获取网络拓扑通用视图<ul>
<li>基于cost 最小生成树；一开始就交换信息形成拓扑图们稳定后事件触发更新</li>
</ul>
</li>
</ul>
<h3 id="RIP-1"><a href="#RIP-1" class="headerlink" title="RIP"></a>RIP</h3><ul>
<li>Routing information protocol，路由信息协议，DV的代表</li>
<li>是基于距离矢量的内部网关协议，以跳数为唯一指标，最大跳数为15，30更新一次</li>
<li>由于其简单、靠谱，广收欢迎</li>
</ul>
<h3 id="IGRP"><a href="#IGRP" class="headerlink" title="IGRP"></a>IGRP</h3><ul>
<li>Interior Gateway Routing Protocol</li>
<li>是基于距离矢量的内部网关协议，思科知识产权的，最大跳数为255，90秒更新一次</li>
</ul>
<h3 id="EIGRP"><a href="#EIGRP" class="headerlink" title="EIGRP"></a>EIGRP</h3><ul>
<li>Enhanced IGRP</li>
<li>高级版本，混合路由协议（由带宽、负载、延迟、可靠性等加权得到评判标准）</li>
</ul>
<h3 id="OSPF-1"><a href="#OSPF-1" class="headerlink" title="OSPF"></a>OSPF</h3><ul>
<li>Open Shortest Path First，开放最短路径优先</li>
<li>是基于链路状态的内部网关协议</li>
<li>指标由<strong>带宽</strong>，速度，流量，可靠性和安全性组成</li>
</ul>
<h3 id="VLSM"><a href="#VLSM" class="headerlink" title="VLSM"></a>VLSM</h3><ul>
<li>Variable Length Subnet Mask，可变长度子网掩码</li>
<li>经典路由会造成网络号的浪费，VLSM允许不同子网用不同长度的子网掩码，可以保证子网的划分效率</li>
<li>VLSM 提高了灵活性，可以更为高效地使用IP地址，进行更好的路由聚集</li>
</ul>
<h3 id="路由聚集"><a href="#路由聚集" class="headerlink" title="路由聚集"></a>路由聚集</h3><img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20230129141037973.png" alt="image-20230129141037973" style="zoom:80%;float:left" />

<ul>
<li>将尽可能多的相同位进行聚集，作为net位，一定有差异的位将其从网络位变为host位</li>
<li>可以减少路由表的条目数，隔离拓扑变化</li>
<li>用的是SIDR记法，异曲同工</li>
</ul>
<h3 id="ICMP"><a href="#ICMP" class="headerlink" title="ICMP"></a>ICMP</h3><ul>
<li>Internet control message protocol，因特网控制报文协议</li>
<li>为提高IP数据报交付成功的机会，ICMP允许主机或路由器报告差错情况和提供有关异常情况的报告</li>
<li>ICMP数据报的组成：数据报首部+IP数据报的数据</li>
<li>一般路由器在丢弃报文时，会返回一个ICMP差错报文</li>
<li>不发送的几种情况：<ol>
<li>对差错报文不再发送差错报文</li>
<li>对第一个分片的后续报文后不发送（每次传输值发送一次）</li>
<li>对多播数据报和具有特殊地址的数据报不发送</li>
</ol>
</li>
</ul>
<h3 id="TTL"><a href="#TTL" class="headerlink" title="TTL"></a>TTL</h3><ul>
<li>Time To Live，生存时间（更像跳数？）</li>
</ul>
<hr>
<h2 id="第五章：运输层"><a href="#第五章：运输层" class="headerlink" title="第五章：运输层"></a>第五章：运输层</h2><h3 id="port"><a href="#port" class="headerlink" title="port"></a>port</h3><ul>
<li>端口，用于一个主机传输多个进程数据时区分不同的进程，可以认为是一个指示符</li>
<li>0-255：public，保留给TCP和UDP公共应用程序</li>
<li>0-1023：熟知端口</li>
</ul>
<h3 id="Socket"><a href="#Socket" class="headerlink" title="Socket"></a>Socket</h3><ul>
<li>套接字</li>
<li>指电脑联网的一个连接口，表示为（IP address，port）。一个连接表示为<br>（socket_sourse,socket_des)。</li>
<li>表示为<code>(IP_address, port)</code></li>
<li>套接字对<code>(socket source, socket destination)</code>，是一个点对点的全双工通道</li>
<li>通讯被认为是一个socket和另一个socket的连接</li>
</ul>
<h3 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h3><ul>
<li>Transmission Control protocol，传输控制协议</li>
<li>是<strong>面向连接的</strong>，带有确认机制，提供流量控制</li>
<li>重传所有丢失的或出错的报文</li>
<li>提供流控制</li>
</ul>
<h3 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h3><ul>
<li>User datagram protocol，用户数据报协议</li>
<li>是无连接，不使用确认的，不进行流量控制</li>
<li>直接丢弃错误报文</li>
</ul>
<h3 id="TCP的三次握手建立连接"><a href="#TCP的三次握手建立连接" class="headerlink" title="TCP的三次握手建立连接"></a>TCP的三次握手建立连接</h3><ol>
<li><p>第一次握手</p>
<p><img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20221103103012579.png" alt="image-20221103103012579"></p>
<ul>
<li>服务器：执行LISTEN和ACCEPT原语，并进行被动监视</li>
<li>客户端：执行CONNECT原语，生成SYN &#x3D; 1和ACK &#x3D; 0的TCP段，代表连接请求</li>
</ul>
</li>
<li><p>第二次握手</p>
<p><img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20221103103041829.png" alt="image-20221103103041829"></p>
<ul>
<li>服务器检查是否存在监视端口的服务进程<ol>
<li>如果没有任何进程，请使用RST &#x3D; 1回答一个TCP段</li>
<li>如果存在进程，则决定拒绝或接受请求</li>
<li>如果接受连接请求，则发送SYN &#x3D; 1和ACK &#x3D; 1的网段</li>
</ol>
</li>
</ul>
</li>
<li><p>第三次握手</p>
<p><img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20221103103131647.png" alt="image-20221103103131647"></p>
<ul>
<li>客户端发送一个SYN &#x3D; 0和ACK &#x3D; 1的段以确认连接</li>
<li>为了避免出现延时之类的情况（如果只有两次会浪费服务器资源）</li>
</ul>
</li>
<li><p>通知上层应用，准备数据传输</p>
<p><img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20221103103729224.png" alt="image-20221103103729224"></p>
<ul>
<li>服务器收到确认后，会通知上层应用程序</li>
</ul>
</li>
<li><p><img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20221103103808686.png" alt="image-20221103103808686"></p>
<ul>
<li>默认三次握手就认为可靠了，之后就进行数据传输</li>
<li>有时候我们会选择，第三次握手的时候同时携带数据。</li>
</ul>
</li>
</ol>
<h3 id="ARQ"><a href="#ARQ" class="headerlink" title="ARQ"></a>ARQ</h3><ul>
<li>Automatic Repeat reQuest，自动重传请求：是一种在OSI模型中数据链路层和传输层使用的错误纠正协议</li>
<li><img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20221103105733830.png" alt="image-20221103105733830" style="zoom:80%;float:left" /></li>
</ul>
<h3 id="TCP的四次握手释放连接"><a href="#TCP的四次握手释放连接" class="headerlink" title="TCP的四次握手释放连接"></a>TCP的四次握手释放连接</h3><img src="C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20221103112339199.png" alt="image-20221103112339199" style="zoom:80%;float:left" />

<ul>
<li>第一次：客户端 → 服务器， FIN &#x3D; 1</li>
<li>第二次：服务器 → 客户端， ACK &#x3D; 1</li>
<li>第三次：服务器 → 客户端， FIN &#x3D; 1， ACK &#x3D; 1</li>
<li>第四次：客户端 → 服务器， ACK &#x3D; 1</li>
</ul>
<h3 id="NAT"><a href="#NAT" class="headerlink" title="NAT"></a>NAT</h3><ul>
<li>network address translation，网络地址转换</li>
<li>是在IP数据包头中将一个地址交换为另一地址的过程，允许了私有地址（192.168.……）访问因特网，是IP地址耗尽的解决方法之一</li>
<li>需要一个路由器：通过NAT表将局部地址与网络上的地址进行双向转换</li>
<li>静态与动态<ul>
<li>静态NAT表一开始将内部地址与注册地址写死</li>
<li>动态NAT以先到先得的方式动态进行</li>
</ul>
</li>
<li>可以使用少量全局唯一地址池服务大量私有寻址主机，但仍然是一一映射，同时接入有限</li>
</ul>
<h3 id="PAT"><a href="#PAT" class="headerlink" title="PAT"></a>PAT</h3><ul>
<li>port address translation，端口地址转换</li>
<li>采用端口多路复用方式，内部网络的所有主机均可共享一个合法外部 IP 地址实现对 Internet 的访问，从而可以最大限度地节约 IP 地址资源。</li>
<li>同时，又可隐藏网络内部的所有主机，有效避免来自 internet的攻击。因此，目前网络中应用最多的就是端口多路复用方式</li>
<li><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec05/28.png" alt="img" style="zoom:40%;float:left" /></li>
</ul>
<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><h3 id="OSI"><a href="#OSI" class="headerlink" title="OSI"></a>OSI</h3><ul>
<li>（Open System Interconnect），开放式系统互连。</li>
</ul>
<h3 id="FCS"><a href="#FCS" class="headerlink" title="FCS"></a>FCS</h3><ul>
<li>FCS（Frame Check Sequence）帧检测序列，俗称帧尾。</li>
<li>在MAC最后4字节，采用是循环冗余校验（CRC）</li>
</ul>
<h3 id="flow-control"><a href="#flow-control" class="headerlink" title="flow control"></a>flow control</h3><ul>
<li>流控制，对数据的传输进行控制、检查，发现出错后的处理</li>
</ul>
<h3 id="RARP"><a href="#RARP" class="headerlink" title="RARP"></a>RARP</h3><ul>
<li>Reverse Address Resolution Protocol，反向地址解析协议</li>
<li>发出要反向解析的MAC地址并希望返回其对应的IP地址</li>
</ul>
<h3 id="CIDR"><a href="#CIDR" class="headerlink" title="CIDR"></a>CIDR</h3><ul>
<li>Classless Inter-Domain Routing，无类域间路由</li>
<li>消除了传统ABC类地址以及划分子网的概念，可以将多个IP网络结合在一起，减少路由表中条目</li>
<li>可以更有效的分配IPv4地址</li>
<li>CIDR与路由汇总两者的功能的都是为了减少路由条目，将多个网络汇总为一个路由条目，但路由汇总一般是在主类网络的边界内进行,而CIDR可以合并多个网络,CIDR没有类的的概念,它是个纯数字概念。</li>
<li>CIDR记法：在IPv4地址后面加斜杠，斜杠后跟网络前缀的位数。即：192.168.1.0 &#x2F; 24.这就是SIDR记法</li>
<li>可读作“side r”</li>
<li>与之相关的还有VLSM，路由聚集</li>
</ul>
<h3 id="split-horizon"><a href="#split-horizon" class="headerlink" title="split horizon"></a>split horizon</h3><ul>
<li>水平分割，避免Routing loops环路问题的方法之一，指从某个端口收到的报文信息，不能再从该端口发送回去。但如果告知一条更好的到达路径，是会接受的</li>
</ul>
<h3 id="Routing-Poisioning"><a href="#Routing-Poisioning" class="headerlink" title="Routing Poisioning"></a>Routing Poisioning</h3><ul>
<li>路由毒化，避免Routing loops环路的方法之一。如果不可达，则将条目置为16（大于最大跳数）跳到达，而非删除条目，之后在讲信息公布出去，使相邻路由器得知这条路由无效</li>
<li>与之相关还有Hold-Down Timers</li>
<li>详细：</li>
<li>路由中毒(Route Poisoning)<ol>
<li>当网络5发生故障时，路由器E通过将网络5的表条目设置为<strong>16或不可访问</strong>来启动路由中毒。(而不是删除条目)</li>
<li>、当路由器C从路由器E接收到路由中毒时，它会将更新(称为毒性逆转，poison reverse)发送回路由器E。这确保网段上的所有路由器都已接收到中毒的路由信息。</li>
<li>最终所有的路由器都知道不可达</li>
<li>路由毒害，由信息在路由表中失效的时候，把该表项的的度量值(metric)设为无穷大16，而不是马上从路由表中删掉这条路由信息，再将其信息发布出去，这样相邻的路由器就得知这条路由已无效了</li>
</ol>
</li>
</ul>
<h3 id="Hold-Down-Timers"><a href="#Hold-Down-Timers" class="headerlink" title="Hold-Down Timers"></a>Hold-Down Timers</h3><ul>
<li>抑制定时器，一条路由信息无效后，一段时间内该路由处于抑制状态（不接收关于同一目的地址的路由更新），计时结束后一起删除该条目</li>
</ul>
<h3 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h3><ul>
<li>domain name system，域名系统。</li>
<li>是因特网上作为域名和IP地址相互映射的一个分布式<strong>数据库</strong>。</li>
<li>分为三级域名、二级域名和顶级域名。通过DNS服务器将域名转换为IP地址，然后访问</li>
</ul>
<h3 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h3><ul>
<li>HyperText Transfer Protocol，超文本传输协议，面向事务的无状态、无连接客户服务器协议</li>
<li>“超文本”意味着更为丰富的内容</li>
<li>和电视播放相似，通过浏览器界面显示内容，通过URL（统一资源定位符）进行切换</li>
</ul>
<h3 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h3><ul>
<li>Uniform resource Locator，统一资源定位符，是对可以从因特网上得到的资源位置和访问方式的一种简洁表示。相当于一个文件名在网络范围的扩展<code>&lt;URL的访问方式&gt;://&lt;主机&gt;:&lt;端口&gt;/&lt;路径&gt;</code></li>
</ul>
<h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><ul>
<li>Hyper Text Markup Language，超文本标记语言，定义了许多用于排版的命令，浏览器针对HTML文档中的各种标签，根据显示器尺寸与分辨率，重新排版并恢复所读取页面</li>
</ul>
<h3 id="FTP"><a href="#FTP" class="headerlink" title="FTP"></a>FTP</h3><ul>
<li>File Transfer Protocol，基于TCP实现的可靠的面向连接的文件传输服务</li>
</ul>
<h3 id="TFTP"><a href="#TFTP" class="headerlink" title="TFTP"></a>TFTP</h3><p>（Trivial File Transfer Protocol,简单<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE/0?fromModule=lemma_inlink">文件传输协议</a>）是TCP&#x2F;IP协议族中的一个用来在客户机与<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8/0?fromModule=lemma_inlink">服务器</a>之间进行简单文件传输的协议，提供不复杂、开销不大的<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E6%9C%8D%E5%8A%A1/5389842?fromModule=lemma_inlink">文件传输服务</a>。<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E7%AB%AF%E5%8F%A3%E5%8F%B7/10883658?fromModule=lemma_inlink">端口号</a>为69。</p>
<h3 id="SMTP"><a href="#SMTP" class="headerlink" title="SMTP"></a>SMTP</h3><ul>
<li>simple mail transfer protocol，简单邮件传输协议，进行连接、登陆与发送邮件等操作</li>
</ul>
<h3 id="DHCP"><a href="#DHCP" class="headerlink" title="DHCP"></a>DHCP</h3><ul>
<li>dynamic host configuration protocol，动态主机配置协议。基于UDP实现的，可以高效分配IP地址</li>
<li>过程：<ol>
<li>AB是两个Server</li>
<li>Client先Discover去搜索</li>
<li>Server返回一个Offer报文</li>
<li>Client选择优先返回的Offer来优先服务</li>
<li>Client进行广播，告知到底服务了谁</li>
<li>然后B返回一个Ack报文</li>
<li>到了时间之后，选择release或者续租</li>
<li>AB的信息不对称不同步(局域网的地址B分配完成了但是A不知道，广播里面会携带分配的地址信息，告知A进行同步)</li>
</ol>
</li>
</ul>
<h3 id="STP"><a href="#STP" class="headerlink" title="STP"></a>STP</h3><ul>
<li>spanning tree protocol，生成树协议，该协议可应用于在网络中建立树形拓扑，消除网络中的环路，并且可以通过一定的方法实现路径冗余，但不是一定可以实现路径冗余</li>
</ul>
<h3 id="PPP"><a href="#PPP" class="headerlink" title="PPP"></a>PPP</h3><ul>
<li>point-to-point protocol，点对点协议。是一种标准的串行线路封装方式</li>
<li>由IETF开发，用来替代SLIP，能在连接建立时检查链路质量，通过PAP（密码验证协议）和CHAP（询问握手验证协议）提供认证<ul>
<li>PAP（<strong>Password Authentication Protocol</strong>）：一方向另一方发送请求，另一方选择是否接受，双方有相同用户名和密码，发送方可多次尝试；密码明文发送</li>
<li>CHAP（Challenge Handshake Authentication Protocol）：链路建立阶段结束之后，认证者向对端点发送“challenge”消息；对端点用经过单向哈希函数计算出来的值做应答；认证者根据它自己计算的哈希值来检查应答，如果值匹配，认证得到承认，否则连接应该终止；避免明文发送，密码密文发送比较安全，而且更加合理的设计</li>
</ul>
</li>
<li>PPP会话的建立：<ul>
<li>链接建立和配置协商（每个PPP设备发送LCP数据包）</li>
<li>链接质量测试</li>
<li>网络层协议配置（PPP设备发送NCP数据包来选择和配置网络层协议）</li>
<li>链接终止（可以随时终止，并通知网络层协议）</li>
</ul>
</li>
</ul>
<h3 id="ISDN"><a href="#ISDN" class="headerlink" title="ISDN"></a>ISDN</h3><ul>
<li>Integrated Service Digital Networks，综合服务数字网络，允许现有电话线传输数字信号，提供远程端点的连接。<ul>
<li><strong>ISDN BRI （Basic Rate Interface）端口</strong>用于 ISDN 线路通过路由器实现与 Internet 或其他远程网络的连接。<ul>
<li>ISDN BRI 的三个通道总带宽为 144 kbps<ul>
<li>其中两个通道称为B（荷载 Bearer）通道，速率为 64 kbps，用于承载声音、影像和数据通信</li>
<li>第三个通道是D（数据）通道，是16 kbps 信号通道，用于告诉公用交换电话网如何处理每个B通道</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="ADSL"><a href="#ADSL" class="headerlink" title="ADSL"></a>ADSL</h3><ul>
<li>Asymmetric Digital Subscriber Line，非对称数字用户线路。</li>
<li>xDSL是对模拟电话数据线进行改造，使其能承受宽带业务。ADSL——非对称用户数字线，上行（用户到ISP）和下行（ISP到用户）带宽不对等</li>
<li>意义：使用户可以使用模拟电话线承受宽带业务</li>
</ul>
<h3 id="VLAN-1"><a href="#VLAN-1" class="headerlink" title="VLAN"></a>VLAN</h3><ul>
<li>virtual LAN，虚拟局域网络，进行逻辑的网络设备或用户分组，来产生单一的广播域</li>
</ul>
<h3 id="病毒"><a href="#病毒" class="headerlink" title="病毒"></a>病毒</h3><ul>
<li>病毒，编制或者在计算机程序中插入的<strong>破坏计算机功能</strong>或者<strong>破坏数据</strong>，影响计算机使用并且能够<strong>自我复制</strong>的一组计算机指令或者程序代码</li>
<li>与之相关的还有<ul>
<li>计算机蠕虫（通过网络通信将自身从一节点发送到另一节点并启动）</li>
<li>特洛伊木马（权限比声明高）</li>
<li>逻辑炸弹（特定条件触发特殊功能）</li>
</ul>
</li>
</ul>
<h3 id="SMTP和POP3-1"><a href="#SMTP和POP3-1" class="headerlink" title="SMTP和POP3"></a>SMTP和POP3</h3><ol>
<li>电子邮件服务器使用SMTP发送和POP接收邮件相互通信。<ol>
<li>SMTP (Simple Mail Transfer Protocol) SMTP(简单邮件传输协议)邮件发送，登录发送等操作</li>
<li>POP3 (Post Office Protocol version 3) 邮局协议版本3，邮件接收，邮件到达邮件服务端，由客户端和服务端联系接收邮件。<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125163103685.png" alt="image-20241125163103685"></li>
</ol>
</li>
</ol>
<h3 id="MIME"><a href="#MIME" class="headerlink" title="MIME"></a>MIME</h3><ol>
<li>Multipurpose Internet Mail Extensions，多用途互联网邮件扩展类型</li>
<li>MIME标准扩充了SMTP标准</li>
<li>很多的文件(附件)并不是ASCII码的，我们需要用MIME将对应的文件进行转换(扩充)。过程如下图<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241125163325803.png" alt="image-20241125163325803"></li>
</ol>
<h3 id="SNMP"><a href="#SNMP" class="headerlink" title="SNMP"></a>SNMP</h3><ol>
<li>简单网络管理协议(SNMP，Simple Network Management Protocol)是一种应用程序层协议，可简化网络设备之间的管理信息交换。</li>
<li>NMS(Network Management System):网管,通过下发请求对上网的所有的主机关于流量等等信息进行管理(监控)</li>
<li>通过管理数据库(MIB)进行信息交流</li>
<li>使用UDP通过广播进行实现。</li>
</ol>
<h3 id="IGMP"><a href="#IGMP" class="headerlink" title="IGMP"></a>IGMP</h3><p>组管理协议称为<em>IGMP</em>协议（Internet Group Management Protocol），是因特网协议家族中的一个组播协议。该协议运行在主机和组播路由器之间。</p>
<h3 id="firewall"><a href="#firewall" class="headerlink" title="firewall"></a>firewall</h3><ul>
<li>防火墙，是由硬件和软件构成的系统，是一种特殊编程的路由器，用于两个网络之间实施接入控制策略</li>
</ul>
<h3 id="ACL-1"><a href="#ACL-1" class="headerlink" title="ACL"></a>ACL</h3><ul>
<li>access control list，访问控制列表，一些告诉路由哪些包该拒绝那些包能通过的序列集</li>
<li>标准ACL放置在目的地路由（1-99以及1300-1999）；扩展ACL放在离江北拒绝数据流信源尽可能近的地方</li>
</ul>
<h3 id="LSA"><a href="#LSA" class="headerlink" title="LSA"></a>LSA</h3><ul>
<li>Link-State Advertisement，链路状态通告。</li>
<li>是链接状态协议使用的一个分组，它包括有关邻居和通道成本的信息。</li>
</ul>
<h1 id="笔记-·-计网各类数据格式"><a href="#笔记-·-计网各类数据格式" class="headerlink" title="笔记 · 计网各类数据格式"></a>笔记 · 计网各类数据格式</h1><h2 id="一、以太网的MAC帧结构（数据链路层MAC子层）"><a href="#一、以太网的MAC帧结构（数据链路层MAC子层）" class="headerlink" title="一、以太网的MAC帧结构（数据链路层MAC子层）"></a>一、以太网的MAC帧结构（数据链路层MAC子层）</h2><p><img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241213104901790.png" alt="image-20241213104901790"></p>
<h3 id="1-1-preamble-前导码（8字节）"><a href="#1-1-preamble-前导码（8字节）" class="headerlink" title="1.1 preamble 前导码（8字节）"></a>1.1 preamble 前导码（8字节）</h3><ul>
<li>固定为（7 * “10101010” + “10101011”）</li>
<li>告知接受方有帧来了（缓冲作用）</li>
</ul>
<h3 id="1-2-Dest-add-Source-add-目标和源物理地址（各6字节）"><a href="#1-2-Dest-add-Source-add-目标和源物理地址（各6字节）" class="headerlink" title="1.2 Dest add &amp; Source add 目标和源物理地址（各6字节）"></a>1.2 Dest add &amp; Source add 目标和源物理地址（各6字节）</h3><ul>
<li><strong>先放目的地址</strong>，目的地址可以是单播、组播、广播地址</li>
</ul>
<h3 id="1-3-Length-长度（2字节）"><a href="#1-3-Length-长度（2字节）" class="headerlink" title="1.3 Length 长度（2字节）"></a>1.3 Length 长度（2字节）</h3><ul>
<li>早期以太网标准：整个帧的长度</li>
<li>以太网二代标准：曼彻斯特编码（有信号的时候有电平）使得接收方可以确定长度，所以这两个字节使用“Type”，标明后面的数据是哪个协议的要求</li>
</ul>
<h3 id="1-4-Data数据"><a href="#1-4-Data数据" class="headerlink" title="1.4 Data数据"></a>1.4 Data数据</h3><h3 id="1-5-FCS（4字节）"><a href="#1-5-FCS（4字节）" class="headerlink" title="1.5 FCS（4字节）"></a>1.5 FCS（4字节）</h3><ul>
<li>frame check sequence，帧校验序列，用于循环冗余校验</li>
</ul>
<hr>
<h2 id="二、无线局域网的MAC帧结构"><a href="#二、无线局域网的MAC帧结构" class="headerlink" title="二、无线局域网的MAC帧结构"></a>二、无线局域网的MAC帧结构</h2><ul>
<li><p><img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241223152723312.png" alt="image-20241223152723312">ad hoc(无基础设施)用地址4，有基础设施用的是地址1、2、3</p>
</li>
<li><p>例子</p>
<p><img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241223152748588.png" alt="image-20241223152748588"></p>
</li>
</ul>
<hr>
<h2 id="三、IPv4报文格式（网络层）"><a href="#三、IPv4报文格式（网络层）" class="headerlink" title="三、IPv4报文格式（网络层）"></a>三、IPv4报文格式（网络层）</h2><p>报文结构：注意这里的单位是bit，不是字节![屏幕截图 2024-10-18 024313](C:\Users\HUAWEI\Pictures\Screenshots\屏幕截图 2024-10-18 024313.png)</p>
<ul>
<li>首部部分分为固定部分和可变长部分，下主要讨论首部</li>
<li>首部每4个字节（32bit）为一行，最大值为60字节，即15行</li>
</ul>
<h3 id="3-1-版本号（4bit）"><a href="#3-1-版本号（4bit）" class="headerlink" title="3.1 版本号（4bit）"></a>3.1 版本号（4bit）</h3><ul>
<li>值IP协议的版本号，目前IP协议版本号为4，即IPv4</li>
</ul>
<h3 id="3-2-首部长度（4bit）"><a href="#3-2-首部长度（4bit）" class="headerlink" title="3.2 首部长度（4bit）"></a>3.2 首部长度（4bit）</h3><ul>
<li>4位：0~15，每单位为4字节，所以一次IP的首部长度最大为60字节</li>
<li>首部长不定，所以需要标识</li>
</ul>
<h3 id="3-3-服务类型（8bit）"><a href="#3-3-服务类型（8bit）" class="headerlink" title="3.3 服务类型（8bit）"></a>3.3 服务类型（8bit）</h3><ul>
<li>现在用于区分服务</li>
</ul>
<h3 id="3-4-总长度（16bit）"><a href="#3-4-总长度（16bit）" class="headerlink" title="3.4 总长度（16bit）"></a>3.4 总长度（16bit）</h3><ul>
<li>指首部和数据部分的长度之和</li>
</ul>
<h3 id="3-5-标识（16bit）"><a href="#3-5-标识（16bit）" class="headerlink" title="3.5 标识（16bit）"></a>3.5 标识（16bit）</h3><ul>
<li>计数器，用于做报文分片，接受方依据此合并报文</li>
</ul>
<h3 id="3-6-标志（3bit）"><a href="#3-6-标志（3bit）" class="headerlink" title="3.6 标志（3bit）"></a>3.6 标志（3bit）</h3><ul>
<li>最高位为0</li>
<li>DF（Don’t fragement？）：是否允许做分片，0允许做分片，1不允许做分片</li>
<li>MF（More fragment？）：MF为0表示最后一个分片,1是指后面还有分片</li>
</ul>
<h3 id="3-7-片偏移（13bit）"><a href="#3-7-片偏移（13bit）" class="headerlink" title="3.7 片偏移（13bit）"></a>3.7 片偏移（13bit）</h3><ul>
<li>相同标识号的报文，根据片偏移进行重排，偏移小的靠前</li>
<li>偏移以字节为单位</li>
</ul>
<h3 id="3-8-生存时间（8bit）"><a href="#3-8-生存时间（8bit）" class="headerlink" title="3.8 生存时间（8bit）"></a>3.8 生存时间（8bit）</h3><ul>
<li>记为TTL（time to live），标识可通过路由器的最大值</li>
<li>路由器每转发一次，就会对TTL-1，小于0则丢弃并告知发送方</li>
<li>避免回路问题</li>
</ul>
<h3 id="3-9-协议（8bit）"><a href="#3-9-协议（8bit）" class="headerlink" title="3.9 协议（8bit）"></a>3.9 协议（8bit）</h3><ul>
<li>指出此数据报携带的数据使用何种协议，以便目的主机的IP层将数据部分上交给哪个处理过程</li>
</ul>
<h3 id="3-10-首部检验和（16bit）"><a href="#3-10-首部检验和（16bit）" class="headerlink" title="3.10 首部检验和（16bit）"></a>3.10 首部检验和（16bit）</h3><ul>
<li>只检验首部</li>
</ul>
<h3 id="3-11-源地址与目的地址（各4字节）"><a href="#3-11-源地址与目的地址（各4字节）" class="headerlink" title="3.11  源地址与目的地址（各4字节）"></a>3.11  源地址与目的地址（各4字节）</h3><hr>
<h2 id="四、TCP数据段格式"><a href="#四、TCP数据段格式" class="headerlink" title="四、TCP数据段格式"></a>四、TCP数据段格式<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241111172358408.png" alt="image-20241111172358408"></h2><ul>
<li>一行共计4个字节，段首在前，固定首部长度为20字节</li>
</ul>
<h3 id="4-1-源端口和目的端口（2字节）"><a href="#4-1-源端口和目的端口（2字节）" class="headerlink" title="4.1 源端口和目的端口（2字节）"></a>4.1 源端口和目的端口（2字节）</h3><ul>
<li>端口是运输层与应用层的服务接口</li>
<li>运输层的复用和分用功能都要通过端口才能实现</li>
</ul>
<h3 id="4-2-序号（4字节）"><a href="#4-2-序号（4字节）" class="headerlink" title="4.2 序号（4字节）"></a>4.2 序号（4字节）</h3><ul>
<li>TCP 传送的数据流中的<strong>每一个字节都编上一个序号</strong></li>
<li>序号字段的值指本报文段所发送的数据的第一个字节的<strong>序号</strong></li>
<li>通过序号字段做可靠传输的保证，指示的是一个<strong>TCP传输的bit编码</strong>，而不是地址。</li>
<li>我们从小向大进行使用，如果使用到最大之后，我们会从小再次重新开始分配。</li>
</ul>
<h3 id="4-3-确认号（4字节）"><a href="#4-3-确认号（4字节）" class="headerlink" title="4.3 确认号（4字节）"></a>4.3 确认号（4字节）</h3><ul>
<li>是期望收到对方的下一个报文段的数据的第一个字节的序号</li>
<li>确认对方的数据号(发送同时对上一次传输进行确认)</li>
<li><strong>体现出了全双工通信的优点，比如上回收到最后序号是700，那么确认号就是701</strong></li>
</ul>
<h3 id="4-4-数据偏移（4位）"><a href="#4-4-数据偏移（4位）" class="headerlink" title="4.4 数据偏移（4位）"></a>4.4 数据偏移（4位）</h3><ul>
<li>指出TCP报文段的数据起始处距TCP报文段的起始处的长度（Data部分从什么地方开始算）</li>
<li>单位是32位字（以4字节为计算单位）</li>
<li>不满足的话使用填充位保证为4字节的整数倍（保证对齐问题）</li>
</ul>
<h3 id="4-5-保留字段（6位）"><a href="#4-5-保留字段（6位）" class="headerlink" title="4.5 保留字段（6位）"></a>4.5 保留字段（6位）</h3><ul>
<li>保留为今后使用，目前置 0，说截止到现在也没有使用这部分的字段</li>
</ul>
<h3 id="4-6-URG（urgent）"><a href="#4-6-URG（urgent）" class="headerlink" title="4.6 URG（urgent）"></a>4.6 URG（urgent）</h3><ul>
<li>紧急 URG &#x3D; 1时，表明紧急指针字段有效</li>
<li>告诉系统此报文段中有紧急数据，应尽快传送（相当于高优先级的数据）</li>
</ul>
<h3 id="4-7-ACK（acknowledge）"><a href="#4-7-ACK（acknowledge）" class="headerlink" title="4.7 ACK（acknowledge）"></a>4.7 ACK（acknowledge）</h3><ul>
<li>ACK &#x3D; 1 时确认号字段有效</li>
<li>ACK &#x3D; 0 时确认号字段无效</li>
<li>正常连接以后一般都置1</li>
</ul>
<h3 id="4-8-PSH（push）"><a href="#4-8-PSH（push）" class="headerlink" title="4.8 PSH（push）"></a>4.8 PSH（push）</h3><ul>
<li>推送PSH（PuSH）——接收 TCP 收到 PSH &#x3D; 1 的报文段，就尽快地交付接收应用进程，而不再等到整个缓存都填满了后再向上交付，此时将<strong>缓存所有部分</strong>都传输，而并不是只将这个报文段的信息进行传输。</li>
<li>TCP在正常条件下并不是立马传输的，首先要缓存满了才发送，其次还有就是要保证网络可信的时候才发送</li>
</ul>
<h3 id="4-9-RST（ReSeT）"><a href="#4-9-RST（ReSeT）" class="headerlink" title="4.9 RST（ReSeT）"></a>4.9 RST（ReSeT）</h3><ul>
<li>ReSeT &#x3D; 1时，表明TCP连接中出现严重差错(如由于主机崩溃或其他原因)，必须释放连接，然后再重新建立运输连接</li>
<li>就是重新来过，如果请求方发送的请求，如果应答方不想连接则将ReSet置为1</li>
</ul>
<h3 id="4-10-SYN（synchronize）"><a href="#4-10-SYN（synchronize）" class="headerlink" title="4.10 SYN（synchronize）"></a>4.10 SYN（synchronize）</h3><ul>
<li>同步 SYN &#x3D; 1:表示这是一个连接请求或连接接受报文（初始的时候才出现）</li>
</ul>
<h3 id="4-11-FIN（FINis）"><a href="#4-11-FIN（FINis）" class="headerlink" title="4.11 FIN（FINis）"></a>4.11 FIN（FINis）</h3><ul>
<li>用来释放一个连接。FIN &#x3D; 1 表明此报文段的发送端的数据已发送完毕，并要求释放运输连接。(发送方没有传输数据了)</li>
</ul>
<h3 id="4-12-窗口（2字节）"><a href="#4-12-窗口（2字节）" class="headerlink" title="4.12 窗口（2字节）"></a>4.12 窗口（2字节）</h3><ul>
<li><p>用来让对方设置<strong>发送窗口</strong>的依据，单位为字节。</p>
</li>
<li><p>表示可以进行传输的窗口大小是多少。</p>
</li>
<li><p>（告诉接收方最多能发给我多长的数据）</p>
</li>
</ul>
<h3 id="4-13-检验和（2字节）"><a href="#4-13-检验和（2字节）" class="headerlink" title="4.13 检验和（2字节）"></a>4.13 检验和（2字节）</h3><ul>
<li>检验和字段检验的范围包括<strong>首部和数据</strong>这两部分</li>
<li>IP报文中的地址等伪首部进行校验</li>
</ul>
<h3 id="4-14-紧急指针（2字节）"><a href="#4-14-紧急指针（2字节）" class="headerlink" title="4.14 紧急指针（2字节）"></a>4.14 紧急指针（2字节）</h3><ul>
<li>指出在本报文段中紧急数据共有多少个字节(紧急数据放在本报文段数据的最前面)</li>
</ul>
<h3 id="4-15-选项（长度可变）"><a href="#4-15-选项（长度可变）" class="headerlink" title="4.15 选项（长度可变）"></a>4.15 选项（长度可变）</h3><ul>
<li>TCP 最初只有一种选项，即最大报文段长度 MSS(Maximum Segment Size)</li>
<li>MSS 告诉对方缓存所能接收的报文段的数据字段的最大长度是 MSS 个字节</li>
<li>数据字段加上 TCP 首部才等于整个的 TCP 报文段</li>
</ul>
<h3 id="4-16-填充字段"><a href="#4-16-填充字段" class="headerlink" title="4.16 填充字段"></a>4.16 填充字段</h3><ul>
<li>为使整个首部长度是4字节的整数倍</li>
</ul>
<h2 id="五、UDP数据段格式"><a href="#五、UDP数据段格式" class="headerlink" title="五、UDP数据段格式"></a>五、UDP数据段格式</h2><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec05/23.png" alt="img" style="zoom:50%;float:left" />

<ul>
<li>8字节首部</li>
<li>源端口、目的端口、长度、校验(data)、Data</li>
<li>校验也要<strong>对data一并校验</strong>，如果出现错误，直接丢弃。<ul>
<li>计算检验和时，添加12位的伪首部（伪首部既不下传也不向上递交）</li>
<li>伪首部包含源和目的的IP地址，表示UDP类型的字节、长度</li>
</ul>
</li>
<li>怎么判断是客户端发的还是服务端发的：<ul>
<li>看端口号的大小，0-255是保留的一般是服务端</li>
</ul>
</li>
</ul>
<h2 id="六、PPP帧格式"><a href="#六、PPP帧格式" class="headerlink" title="六、PPP帧格式"></a>六、PPP帧格式</h2><p>PPP帧格式<a target="_blank" rel="noopener" href="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/10.jpg"><br><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec10/10.jpg" alt="img"><img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20250101172916567.png" alt="image-20250101172916567"></a></p>
<blockquote>
<p>数字的单位是字节</p>
</blockquote>
<ol>
<li>Flag: 01111110，0x7E 标记：帧的开头或结尾，01111110，一位可能会连续接受到多个帧</li>
<li>Address：11111111, 0xFF，广播地址</li>
<li>Control：00000011, 0x03，用户数据作为无序帧传输</li>
<li>Protocol: 数据字段中的协议类型</li>
<li>Data: 数据报，最大默认值为1500字节</li>
<li>FCS: 2或者4字节，循环冗余校验位</li>
</ol>
<h1 id="笔记-·-错题本"><a href="#笔记-·-错题本" class="headerlink" title="笔记 · 错题本"></a>笔记 · 错题本</h1><ol>
<li><p>三种交换方式</p>
<ol>
<li>电路交换<ol>
<li>电话交换机接通电话线的方式就是电路交换</li>
<li>交换就是按照某种方式动态的分配传输线路资源</li>
<li>电路交换的三个步骤<ol>
<li>建立连接（分配通信资源）</li>
<li>通话（一直占用通信资源）</li>
<li>释放链接（归还通信资源）</li>
</ol>
</li>
<li>缺点：当使用电路交换来传送计算机数据时，效率很低</li>
</ol>
</li>
<li>分组交换</li>
<li>报文交换</li>
</ol>
</li>
<li><p>在STP中，10Mbps对应的cost为100</p>
</li>
<li><p>socket套接字：可以看做是网络通讯的接口，是应用层与TCP&#x2F;IP协议簇的中间层，允许两台设备之间通讯。常见的协议有TCP，UDP。</p>
</li>
<li><p>三次握手，要注意每次发送的报文的关键位<img src="C:\Users\HUAWEI\AppData\Roaming\Typora\typora-user-images\image-20241209214836387.png" alt="image-20241209214836387"></p>
</li>
<li><p>常见的使用TCP的协议：</p>
<ol>
<li><strong>HTTP</strong>（超文本传输协议）</li>
<li><strong>HTTPS</strong>（安全的HTTP）</li>
<li><strong>FTP</strong>（文件传输协议）</li>
<li><strong>SMTP</strong>（简单邮件传输协议）</li>
<li><strong>POP3</strong>（邮局协议版本3）</li>
<li><strong>Telnet</strong>（远程登录协议）</li>
</ol>
</li>
<li><p>常见使用 <strong>UDP</strong> 的协议：</p>
<ol>
<li><strong>DNS</strong>（域名系统）</li>
<li><strong>DHCP</strong>（动态主机配置协议）</li>
<li><strong>TFTP</strong>（简易文件传输协议）</li>
<li><strong>SNMP</strong>（简单网络管理协议）</li>
</ol>
</li>
</ol>
<h2 id="2020年"><a href="#2020年" class="headerlink" title="2020年"></a>2020年</h2><ol>
<li><p>当用户在浏览器中首次输入网址并请求显示主页时，浏览器会经历一系列的步骤以获取并显示该页面。以下是简要描述这个过程的8个主要步骤：</p>
<ol>
<li><h3 id="1-域名解析-DNS-查询-："><a href="#1-域名解析-DNS-查询-：" class="headerlink" title="1. 域名解析 (DNS 查询)："></a>1. <strong>域名解析 (DNS 查询)</strong>：</h3><ul>
<li>用户输入的网址（例如 <code>www.example.com</code>）是一个域名，需要解析为服务器的 IP 地址。</li>
<li>浏览器首先检查本地 DNS 缓存中是否已有该域名的 IP 地址。如果没有，它会向配置的 DNS 服务器发送查询请求，询问该域名对应的 IP 地址。</li>
<li>DNS 服务器返回相应的 IP 地址，浏览器使用这个地址来与目标服务器建立连接。</li>
</ul>
<h3 id="2-建立-TCP-连接-三次握手-："><a href="#2-建立-TCP-连接-三次握手-：" class="headerlink" title="2. 建立 TCP 连接 (三次握手)："></a>2. <strong>建立 TCP 连接 (三次握手)</strong>：</h3><ul>
<li>使用获得的 IP 地址，浏览器通过 TCP 协议与目标服务器建立连接。为了确保可靠性，TCP 使用三次握手过程：<ol>
<li>浏览器发送一个 SYN 请求，表示希望建立连接。</li>
<li>服务器收到 SYN 请求后，发送 SYN-ACK 响应，表示同意建立连接。</li>
<li>浏览器收到 SYN-ACK 后，发送 ACK 响应，连接建立成功。</li>
</ol>
</li>
</ul>
<h3 id="3-发送-HTTP-请求："><a href="#3-发送-HTTP-请求：" class="headerlink" title="3. 发送 HTTP 请求："></a>3. <strong>发送 HTTP 请求</strong>：</h3><ul>
<li>一旦 TCP 连接建立，浏览器通过 HTTP 协议向服务器发送请求，通常是一个 GET 请求，要求获取主页内容（如 <code>GET / HTTP/1.1</code>）。</li>
<li>请求中包括一些头信息（如浏览器类型、语言偏好、缓存控制等）以及可能的 Cookies 信息。</li>
</ul>
<h3 id="4-服务器处理请求："><a href="#4-服务器处理请求：" class="headerlink" title="4. 服务器处理请求："></a>4. <strong>服务器处理请求</strong>：</h3><ul>
<li>服务器接收到请求后，处理请求并生成响应。这可能包括：<ol>
<li>查找请求的网页文件（例如 HTML 文件）。</li>
<li>运行服务器端代码（如 PHP、Node.js 等）以动态生成网页内容。</li>
<li>查询数据库等资源，生成最终的 HTML 内容。</li>
</ol>
</li>
</ul>
<h3 id="5-服务器返回-HTTP-响应："><a href="#5-服务器返回-HTTP-响应：" class="headerlink" title="5. 服务器返回 HTTP 响应："></a>5. <strong>服务器返回 HTTP 响应</strong>：</h3><ul>
<li>服务器将生成的网页内容封装在 HTTP 响应中返回给浏览器。响应头包含状态码（如 200 表示成功），以及其他信息（如响应类型、内容长度等）。</li>
<li>响应体部分包含网页的 HTML 代码。</li>
</ul>
<h3 id="6-浏览器解析-HTML-内容："><a href="#6-浏览器解析-HTML-内容：" class="headerlink" title="6. 浏览器解析 HTML 内容："></a>6. <strong>浏览器解析 HTML 内容</strong>：</h3><ul>
<li>浏览器接收到 HTTP 响应后，开始解析响应体中的 HTML 内容。浏览器会根据 HTML 标签结构逐步构建页面的 DOM（文档对象模型）树。</li>
<li>同时，浏览器会解析页面中的外部资源（如 CSS 文件、JavaScript 文件、图片等）。</li>
</ul>
<h3 id="7-请求并加载外部资源："><a href="#7-请求并加载外部资源：" class="headerlink" title="7. 请求并加载外部资源："></a>7. <strong>请求并加载外部资源</strong>：</h3><ul>
<li>如果 HTML 内容中引用了外部资源（如 CSS 文件、JS 文件、图片等），浏览器会发出额外的 HTTP 请求，获取这些资源。</li>
<li>每个外部资源的加载也需要通过 TCP 连接进行传输。</li>
</ul>
<h3 id="8-页面渲染与显示："><a href="#8-页面渲染与显示：" class="headerlink" title="8. 页面渲染与显示："></a>8. <strong>页面渲染与显示</strong>：</h3><ul>
<li>当所有的资源都加载完毕，浏览器开始渲染页面。浏览器会结合 DOM 和 CSSOM（CSS对象模型）树，生成渲染树，并计算布局和样式，最后绘制到屏幕上。</li>
<li>如果页面包含 JavaScript，浏览器还会执行 JavaScript 代码，这可能会修改 DOM 和样式，进而影响页面的呈现。</li>
</ul>
</li>
</ol>
</li>
<li><p>可以从UDP帧的头部的端口号区分客户端和服务端</p>
<ol>
<li><h4 id="消息是由客户端还是服务器发送的？"><a href="#消息是由客户端还是服务器发送的？" class="headerlink" title="消息是由客户端还是服务器发送的？"></a>消息是由客户端还是服务器发送的？</h4><p>通常情况下，端口号 <code>53</code> 是用于 <strong>DNS（域名系统）服务</strong>，用于查询域名。端口号 <code>53</code> 是 DNS 服务器监听的端口号。</p>
<ul>
<li><strong>源端口号是 1586</strong>，而端口号 <code>1586</code> 通常不是 DNS 服务器的默认端口，因此可以推测消息是 <strong>由客户端发送</strong>，它向 DNS 服务器（目标端口号 <code>53</code>）发送请求。</li>
</ul>
<p>所以，消息是 <strong>由客户端发送的</strong>。</p>
</li>
<li><h4 id="消息涉及的网络服务类型？"><a href="#消息涉及的网络服务类型？" class="headerlink" title="消息涉及的网络服务类型？"></a>消息涉及的网络服务类型？</h4><p>从目标端口号 <code>53</code> 可以推断，这个消息涉及到 <strong>DNS（域名系统）服务</strong>。DNS 使用 UDP 协议，通常用于解析域名和 IP 地址之间的映射。</p>
<p>因此，<strong>消息涉及的网络服务是 DNS</strong>。</p>
</li>
</ol>
</li>
<li><p><strong>TCP&#x2F;IP模型中的网络层协议提供的是？</strong></p>
<ul>
<li><strong>答案：</strong> A. 无连接且不可靠的分组服务<br>解释：网络层（特别是IP）是无连接的且不可靠的。</li>
</ul>
</li>
<li><p><strong>以下协议不属于网络层的是？</strong></p>
<ul>
<li><strong>答案：</strong> D. DHCP<br>解释：DHCP（动态主机配置协议）属于应用层，而ICMP、IGMP和ARP都属于网络层。</li>
</ul>
</li>
<li><p><strong>哪种网络地址转换（NAT）可以使一个IP地址允许多个用户连接到全球互联网？</strong></p>
<ul>
<li><strong>答案：</strong> D. PAT<br>解释：端口地址转换（PAT）允许多个用户共享一个公共IP地址。</li>
</ul>
</li>
<li><p><strong>什么组成了一个套接字？</strong></p>
<ul>
<li><strong>答案：</strong> B. IP地址和端口号</li>
</ul>
</li>
<li><p><strong>以下哪个选项不是使用静态路由的优势？</strong></p>
<ul>
<li><strong>答案：</strong> A. 快速收敛（Fast convergence）<br>解释：静态路由的收敛速度较慢，相比动态路由，静态路由通常不会自动调整。</li>
</ul>
</li>
<li><p><strong>为什么交换机永远不会学习广播地址？</strong></p>
<ul>
<li><strong>答案：</strong> C. 广播地址永远不会是帧的源地址。<br>解释：广播地址是发送给所有主机的，而不是特定的主机，因此交换机不会学习广播地址。</li>
</ul>
</li>
<li><p><strong>哪种拓扑具有最高的可靠性？</strong></p>
<ul>
<li><strong>答案：</strong> D. 网状拓扑（  mesh topology）<br>解释：网状拓扑通过多个冗余路径提供最高的可靠性。</li>
</ul>
</li>
<li><p><strong>以下哪些陈述是正确的？</strong></p>
</li>
</ol>
<ul>
<li><strong>答案：</strong> A、B、D<br>解释：MAC地址是48位的，交换机使用MAC地址过滤流量，端口号可以在TCP段和UDP段的头部找到。</li>
</ul>
<ol start="11">
<li><p>指令ip route 172.16.3.0 255.255.255.0 192.168.2.4，注意：</p>
<ol>
<li>它建立了一条指向 172.16.3.0 网络的静态路由</li>
<li><strong>它使用默认的管理距离</strong>：静态路由的默认管理距离为 <strong>1</strong>。</li>
<li>静态路由通常具有 <strong>最小的管理距离（1）</strong>，如果有多个路由指向同一目的地，路由器会<strong>优先使用静态路由</strong>，除非有更具体的匹配。</li>
</ol>
</li>
<li><p><strong>WAN操作的OSI模型层次是哪些？</strong></p>
<ul>
<li><strong>答案：</strong> E、F<br>解释：WAN操作涉及到OSI模型的数据链路层和物理层。</li>
</ul>
</li>
<li><p><strong>以下哪些服务使用TCP协议？</strong></p>
<ul>
<li><strong>答案：</strong> B、C、E<br>解释：SMTP、HTTP和FTP使用TCP协议，而DHCP和TFTP使用UDP协议。</li>
</ul>
</li>
<li><p>一些熟知端口：</p>
<ol>
<li><p><strong>HTTP</strong></p>
<ul>
<li><strong>端口号：</strong> 80</li>
<li><strong>协议：</strong> TCP</li>
<li><strong>说明：</strong> 用于网页浏览（Hypertext Transfer Protocol）。</li>
</ul>
<p><strong>FTP（文件传输协议）</strong></p>
<ul>
<li><strong>端口号：</strong> 20（控制）&#x2F; 21（数据）</li>
<li><strong>协议：</strong> TCP</li>
<li><strong>说明：</strong> 用于文件传输（File Transfer Protocol），使用端口21来建立控制连接。</li>
</ul>
<p><strong>Telnet</strong></p>
<ul>
<li><strong>端口号：</strong> 23</li>
<li><strong>协议：</strong> TCP</li>
<li><strong>说明：</strong> 远程登录协议，用于远程访问命令行界面。</li>
</ul>
<p><strong>SMTP（简单邮件传输协议）</strong></p>
<ul>
<li><strong>端口号：</strong> 25</li>
<li><strong>协议：</strong> TCP</li>
<li><strong>说明：</strong> 用于发送电子邮件（Simple Mail Transfer Protocol）。</li>
</ul>
<p><strong>DNS（域名系统）</strong></p>
<ul>
<li><strong>端口号：</strong> 53</li>
<li><strong>协议：</strong> TCP&#x2F;UDP</li>
<li><strong>说明：</strong> 用于解析域名到IP地址。</li>
</ul>
<p><strong>DHCP（动态主机配置协议）</strong></p>
<ul>
<li><strong>端口号：</strong> 67（服务器端） &#x2F; 68（客户端）</li>
<li><strong>协议：</strong> UDP</li>
<li><strong>说明：</strong> 用于动态分配IP地址给客户端。</li>
</ul>
<p><strong>TFTP（简单文件传输协议）</strong></p>
<ul>
<li><strong>端口号：</strong> 69</li>
<li>**协议：**UDP</li>
<li><strong>说明：</strong> 提供简单的无连接的文件传输服务</li>
</ul>
</li>
</ol>
</li>
</ol>
<h2 id="2019年"><a href="#2019年" class="headerlink" title="2019年"></a>2019年</h2><ol>
<li>IPv4为32位，IPv6为128 位。</li>
<li>socket的结构不单单只有IP地址和port端口。</li>
<li>热点名词解释：<ol>
<li>PPP：<ol>
<li>点对点协议</li>
<li>PPP是一种标准的串行线路封装方法，为点对点链路各种协议数据报提供了一个标准方法。</li>
<li>通过密码认证协议(PAP)和质询握手认证协议(CHAP)提供认证。</li>
</ol>
</li>
<li>CSMA&#x2F;CD：<ol>
<li>带有冲突检测的载波侦听多路存取</li>
<li>用于有线网络</li>
<li>在主机发送数据前会检测总线是否有数据正在传输，若有则等一段时间后再来</li>
</ol>
</li>
<li>SMTP<ol>
<li>简单邮件传输协议</li>
<li>负责邮件发送，将邮件从发送方传输到接收方的邮件服务器</li>
</ol>
</li>
<li>CHAP<ol>
<li>挑战握手认证协议</li>
<li>通过三次握手周期性的校验对端的身份，在初始链路建立时完成，可以在链路建立之后的任何时候重复进行</li>
</ol>
</li>
<li>ICMP<ol>
<li>因特网控制报文协议</li>
<li>用于在IP主机、路由器之间传递控制消息。</li>
<li>为了提高 IP 数据报交付成功的机会，允许主机或路由器报告差错情况和提供有关异常情况的报告</li>
</ol>
</li>
<li>TDM<ol>
<li>时分复用</li>
<li>将时间等分为时分复用帧，每个用户在每个TDM帧中占用固定序号的时隙。</li>
<li>每个用户所占用的时隙周期性出现</li>
<li>所有用户在不同时间占用同样的频带宽度</li>
</ol>
</li>
<li>ARP<ol>
<li>地址解析协议</li>
<li>根据IP地址信息来获取MAC地址</li>
</ol>
</li>
<li>HTTP<ol>
<li>超文本传输协议</li>
<li>HTTP 是面向事务的客户服务器协议。</li>
<li>它指定了客户端可能发送给服务器什么样的消息以及得到什么样的响应。</li>
</ol>
</li>
<li>HTML<ol>
<li>超文本标记语言</li>
<li>定义了许多用于排版的命令，浏览器针对HTML文档中的各种标签，根据显示器尺寸与分辨率，重新排版并恢复所读取页面</li>
</ol>
</li>
<li>CIDR<ol>
<li>无类域间路由</li>
<li>消除了传统ABC类地址以及划分子网的概念，可以将多个IP网络结合在一起，减少路由表中条目</li>
<li>可以更有效的分配IPv4地址</li>
</ol>
</li>
<li>ISP<ol>
<li>网络服务供应商</li>
<li>ISP从因特网管理机构申请多个IP地址、通信线路和路由器等设备。机构或个人通过ISP接入因特网。</li>
<li>ISP分为三层，在低层ISP可以解决的问题不会进入上层ISP，以此来进行流量分流</li>
</ol>
</li>
<li>URL<ol>
<li>统一资源定位符</li>
<li>是因特网的万维网服务程序上用于指定信息位置的表示方法。</li>
</ol>
</li>
<li>MAC<ol>
<li>介质访问控制</li>
<li>MAC子层负责决定哪一个设备可以在共享的通信介质（例如以太网或Wi-Fi）上发送数据。</li>
</ol>
</li>
</ol>
</li>
<li>RIP表的更新</li>
<li>描述通过透明网关访问 Web 站点的过程（以太网环境），也就是ARP或者RARP的过程。<ol>
<li>PC给路由器，路由器转发。</li>
<li>注意，不同的帧的目的和源IP、MAC不一样</li>
<li>未知的MAC用广播：FF;FF;FF;FF;FF;FF</li>
</ol>
</li>
</ol>
<h2 id="2010年"><a href="#2010年" class="headerlink" title="2010年***"></a>2010年***</h2><ol>
<li><p>OSI各层协议：详见名词解释</p>
</li>
<li><p>Router和Switch</p>
<ol>
<li>Router的组成部分，启动过程</li>
<li>Switch</li>
</ol>
</li>
<li><p>routing and routed：记住IP是routed，（包括IPv4，IPv6，IPX），其他都是routing</p>
</li>
<li><p>802.11a, 802.11b, 802.3</p>
<ol>
<li><h3 id="802-11a"><a href="#802-11a" class="headerlink" title="802.11a"></a><strong>802.11a</strong></h3><ul>
<li><p><strong>类型</strong>: 无线局域网 (WLAN) 标准</p>
</li>
<li><p><strong>频段</strong>: 5 GHz</p>
</li>
<li><p><strong>最大速率</strong>: 54 Mbps</p>
</li>
<li><p><strong>信道带宽</strong>: 20 MHz</p>
</li>
<li><p>特点</p>
<p>:</p>
<ul>
<li>使用 5 GHz 频段，干扰较少，但穿透能力较弱。</li>
<li>适用于对速度要求较高、干扰较少的环境。</li>
<li>信号范围较短，适合小型室内环境。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="2-802-11b"><a href="#2-802-11b" class="headerlink" title="2. 802.11b"></a><strong>2. 802.11b</strong></h3><ul>
<li><strong>类型</strong>: 无线局域网 (WLAN) 标准</li>
<li><strong>频段</strong>: 2.4 GHz</li>
<li><strong>最大速率</strong>: 11 Mbps</li>
<li><strong>信道带宽</strong>: 22 MHz</li>
<li>特点:<ul>
<li>使用 2.4 GHz 频段，穿透能力较强，但易受干扰（如微波炉、蓝牙设备）。</li>
<li>数据速率较低，但覆盖范围较广。</li>
<li>是早期广泛使用的无线网络标准。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="3-802-3"><a href="#3-802-3" class="headerlink" title="3. 802.3"></a><strong>3. 802.3</strong></h3><ul>
<li><strong>类型</strong>: 有线局域网 (LAN) 标准</li>
<li><strong>频段</strong>: 不适用（有线）</li>
<li>最大速率: 多种速率：<ul>
<li>10 Mbps（早期版本）</li>
<li>100 Mbps (Fast Ethernet)</li>
<li>1 Gbps (Gigabit Ethernet)</li>
<li>10 Gbps 及以上（现代版本）</li>
</ul>
</li>
<li><strong>传输介质</strong>: 双绞线、电缆或光纤</li>
<li>特点:<ul>
<li>基于 CSMA&#x2F;CD (载波监听多路访问&#x2F;碰撞检测) 媒体访问控制机制。</li>
<li>提供稳定、低延迟的有线网络连接。</li>
<li>主要用于固定设备的高速网络连接。</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
<li><p>在交换机或路由器上，同一网段的两个端口<strong>可以是不同的冲突域</strong>.</p>
</li>
<li><p>数冲突域和广播域的时候，数端口就好</p>
</li>
<li><p>remote是主叫方，cenetral是被叫方。PAP是主叫方给出信息，CHAP是被叫方发起挑战</p>
</li>
</ol>
<h2 id="小测"><a href="#小测" class="headerlink" title="小测"></a>小测</h2><ol>
<li>AP的作用：让无线设备连接上无线网</li>
<li>私有地址：<ol>
<li>10.开头所有</li>
<li>172.16.0.0 ~ 172.31.255.255</li>
<li>192.168.开头所有</li>
</ol>
</li>
<li>多播地址（组播地址）：224.0.0.0 ~ 239.255.255.255</li>
<li>OSPF 中的 Type 1 LSA（Router LSA）是由每台路由器生成的，而 Router ID 就是用来标识该 LSA 来源的唯一标识符。</li>
<li>OSPF端口选择：优先选择环回接口，然后选择IP大的<strong>逻辑</strong>端口。<ol>
<li>注意，在STP中是选择IP小的</li>
</ol>
</li>
<li>OSPF 路由器之间必须属于同一个子网（即 IP 地址和子网掩码匹配）。</li>
</ol>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2024/12/04/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E7%BB%93%E6%9E%84/" rel="prev" title="计算机组成结构">
                  <i class="fa fa-angle-left"></i> 计算机组成结构
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2024/12/04/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" rel="next" title="数据结构与算法">
                  数据结构与算法 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">mukongshan</span>
  </div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
